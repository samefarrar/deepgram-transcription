/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/

var __create = Object.create;
var __defProp = Object.defineProperty;
var __getOwnPropDesc = Object.getOwnPropertyDescriptor;
var __getOwnPropNames = Object.getOwnPropertyNames;
var __getProtoOf = Object.getPrototypeOf;
var __hasOwnProp = Object.prototype.hasOwnProperty;
var __commonJS = (cb, mod) => function __require() {
  return mod || (0, cb[__getOwnPropNames(cb)[0]])((mod = { exports: {} }).exports, mod), mod.exports;
};
var __export = (target, all) => {
  for (var name in all)
    __defProp(target, name, { get: all[name], enumerable: true });
};
var __copyProps = (to, from, except, desc) => {
  if (from && typeof from === "object" || typeof from === "function") {
    for (let key of __getOwnPropNames(from))
      if (!__hasOwnProp.call(to, key) && key !== except)
        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });
  }
  return to;
};
var __toESM = (mod, isNodeMode, target) => (target = mod != null ? __create(__getProtoOf(mod)) : {}, __copyProps(
  // If the importer is in node compatibility mode or this is not an ESM
  // file that has been converted to a CommonJS file using a Babel-
  // compatible transform (i.e. "__esModule" has not been set), then set
  // "default" to the CommonJS "module.exports" for node compatibility.
  isNodeMode || !mod || !mod.__esModule ? __defProp(target, "default", { value: mod, enumerable: true }) : target,
  mod
));
var __toCommonJS = (mod) => __copyProps(__defProp({}, "__esModule", { value: true }), mod);

// node_modules/cross-fetch/dist/browser-ponyfill.js
var require_browser_ponyfill = __commonJS({
  "node_modules/cross-fetch/dist/browser-ponyfill.js"(exports, module2) {
    var global = typeof self !== "undefined" ? self : exports;
    var __self__ = function() {
      function F() {
        this.fetch = false;
        this.DOMException = global.DOMException;
      }
      F.prototype = global;
      return new F();
    }();
    (function(self2) {
      var irrelevant = function(exports2) {
        var support = {
          searchParams: "URLSearchParams" in self2,
          iterable: "Symbol" in self2 && "iterator" in Symbol,
          blob: "FileReader" in self2 && "Blob" in self2 && function() {
            try {
              new Blob();
              return true;
            } catch (e) {
              return false;
            }
          }(),
          formData: "FormData" in self2,
          arrayBuffer: "ArrayBuffer" in self2
        };
        function isDataView(obj) {
          return obj && DataView.prototype.isPrototypeOf(obj);
        }
        if (support.arrayBuffer) {
          var viewClasses = [
            "[object Int8Array]",
            "[object Uint8Array]",
            "[object Uint8ClampedArray]",
            "[object Int16Array]",
            "[object Uint16Array]",
            "[object Int32Array]",
            "[object Uint32Array]",
            "[object Float32Array]",
            "[object Float64Array]"
          ];
          var isArrayBufferView = ArrayBuffer.isView || function(obj) {
            return obj && viewClasses.indexOf(Object.prototype.toString.call(obj)) > -1;
          };
        }
        function normalizeName(name) {
          if (typeof name !== "string") {
            name = String(name);
          }
          if (/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(name)) {
            throw new TypeError("Invalid character in header field name");
          }
          return name.toLowerCase();
        }
        function normalizeValue(value) {
          if (typeof value !== "string") {
            value = String(value);
          }
          return value;
        }
        function iteratorFor(items) {
          var iterator = {
            next: function() {
              var value = items.shift();
              return { done: value === void 0, value };
            }
          };
          if (support.iterable) {
            iterator[Symbol.iterator] = function() {
              return iterator;
            };
          }
          return iterator;
        }
        function Headers2(headers) {
          this.map = {};
          if (headers instanceof Headers2) {
            headers.forEach(function(value, name) {
              this.append(name, value);
            }, this);
          } else if (Array.isArray(headers)) {
            headers.forEach(function(header) {
              this.append(header[0], header[1]);
            }, this);
          } else if (headers) {
            Object.getOwnPropertyNames(headers).forEach(function(name) {
              this.append(name, headers[name]);
            }, this);
          }
        }
        Headers2.prototype.append = function(name, value) {
          name = normalizeName(name);
          value = normalizeValue(value);
          var oldValue = this.map[name];
          this.map[name] = oldValue ? oldValue + ", " + value : value;
        };
        Headers2.prototype["delete"] = function(name) {
          delete this.map[normalizeName(name)];
        };
        Headers2.prototype.get = function(name) {
          name = normalizeName(name);
          return this.has(name) ? this.map[name] : null;
        };
        Headers2.prototype.has = function(name) {
          return this.map.hasOwnProperty(normalizeName(name));
        };
        Headers2.prototype.set = function(name, value) {
          this.map[normalizeName(name)] = normalizeValue(value);
        };
        Headers2.prototype.forEach = function(callback, thisArg) {
          for (var name in this.map) {
            if (this.map.hasOwnProperty(name)) {
              callback.call(thisArg, this.map[name], name, this);
            }
          }
        };
        Headers2.prototype.keys = function() {
          var items = [];
          this.forEach(function(value, name) {
            items.push(name);
          });
          return iteratorFor(items);
        };
        Headers2.prototype.values = function() {
          var items = [];
          this.forEach(function(value) {
            items.push(value);
          });
          return iteratorFor(items);
        };
        Headers2.prototype.entries = function() {
          var items = [];
          this.forEach(function(value, name) {
            items.push([name, value]);
          });
          return iteratorFor(items);
        };
        if (support.iterable) {
          Headers2.prototype[Symbol.iterator] = Headers2.prototype.entries;
        }
        function consumed(body) {
          if (body.bodyUsed) {
            return Promise.reject(new TypeError("Already read"));
          }
          body.bodyUsed = true;
        }
        function fileReaderReady(reader) {
          return new Promise(function(resolve, reject) {
            reader.onload = function() {
              resolve(reader.result);
            };
            reader.onerror = function() {
              reject(reader.error);
            };
          });
        }
        function readBlobAsArrayBuffer(blob) {
          var reader = new FileReader();
          var promise = fileReaderReady(reader);
          reader.readAsArrayBuffer(blob);
          return promise;
        }
        function readBlobAsText(blob) {
          var reader = new FileReader();
          var promise = fileReaderReady(reader);
          reader.readAsText(blob);
          return promise;
        }
        function readArrayBufferAsText(buf) {
          var view = new Uint8Array(buf);
          var chars = new Array(view.length);
          for (var i = 0; i < view.length; i++) {
            chars[i] = String.fromCharCode(view[i]);
          }
          return chars.join("");
        }
        function bufferClone(buf) {
          if (buf.slice) {
            return buf.slice(0);
          } else {
            var view = new Uint8Array(buf.byteLength);
            view.set(new Uint8Array(buf));
            return view.buffer;
          }
        }
        function Body() {
          this.bodyUsed = false;
          this._initBody = function(body) {
            this._bodyInit = body;
            if (!body) {
              this._bodyText = "";
            } else if (typeof body === "string") {
              this._bodyText = body;
            } else if (support.blob && Blob.prototype.isPrototypeOf(body)) {
              this._bodyBlob = body;
            } else if (support.formData && FormData.prototype.isPrototypeOf(body)) {
              this._bodyFormData = body;
            } else if (support.searchParams && URLSearchParams.prototype.isPrototypeOf(body)) {
              this._bodyText = body.toString();
            } else if (support.arrayBuffer && support.blob && isDataView(body)) {
              this._bodyArrayBuffer = bufferClone(body.buffer);
              this._bodyInit = new Blob([this._bodyArrayBuffer]);
            } else if (support.arrayBuffer && (ArrayBuffer.prototype.isPrototypeOf(body) || isArrayBufferView(body))) {
              this._bodyArrayBuffer = bufferClone(body);
            } else {
              this._bodyText = body = Object.prototype.toString.call(body);
            }
            if (!this.headers.get("content-type")) {
              if (typeof body === "string") {
                this.headers.set("content-type", "text/plain;charset=UTF-8");
              } else if (this._bodyBlob && this._bodyBlob.type) {
                this.headers.set("content-type", this._bodyBlob.type);
              } else if (support.searchParams && URLSearchParams.prototype.isPrototypeOf(body)) {
                this.headers.set("content-type", "application/x-www-form-urlencoded;charset=UTF-8");
              }
            }
          };
          if (support.blob) {
            this.blob = function() {
              var rejected = consumed(this);
              if (rejected) {
                return rejected;
              }
              if (this._bodyBlob) {
                return Promise.resolve(this._bodyBlob);
              } else if (this._bodyArrayBuffer) {
                return Promise.resolve(new Blob([this._bodyArrayBuffer]));
              } else if (this._bodyFormData) {
                throw new Error("could not read FormData body as blob");
              } else {
                return Promise.resolve(new Blob([this._bodyText]));
              }
            };
            this.arrayBuffer = function() {
              if (this._bodyArrayBuffer) {
                return consumed(this) || Promise.resolve(this._bodyArrayBuffer);
              } else {
                return this.blob().then(readBlobAsArrayBuffer);
              }
            };
          }
          this.text = function() {
            var rejected = consumed(this);
            if (rejected) {
              return rejected;
            }
            if (this._bodyBlob) {
              return readBlobAsText(this._bodyBlob);
            } else if (this._bodyArrayBuffer) {
              return Promise.resolve(readArrayBufferAsText(this._bodyArrayBuffer));
            } else if (this._bodyFormData) {
              throw new Error("could not read FormData body as text");
            } else {
              return Promise.resolve(this._bodyText);
            }
          };
          if (support.formData) {
            this.formData = function() {
              return this.text().then(decode);
            };
          }
          this.json = function() {
            return this.text().then(JSON.parse);
          };
          return this;
        }
        var methods = ["DELETE", "GET", "HEAD", "OPTIONS", "POST", "PUT"];
        function normalizeMethod(method) {
          var upcased = method.toUpperCase();
          return methods.indexOf(upcased) > -1 ? upcased : method;
        }
        function Request(input, options) {
          options = options || {};
          var body = options.body;
          if (input instanceof Request) {
            if (input.bodyUsed) {
              throw new TypeError("Already read");
            }
            this.url = input.url;
            this.credentials = input.credentials;
            if (!options.headers) {
              this.headers = new Headers2(input.headers);
            }
            this.method = input.method;
            this.mode = input.mode;
            this.signal = input.signal;
            if (!body && input._bodyInit != null) {
              body = input._bodyInit;
              input.bodyUsed = true;
            }
          } else {
            this.url = String(input);
          }
          this.credentials = options.credentials || this.credentials || "same-origin";
          if (options.headers || !this.headers) {
            this.headers = new Headers2(options.headers);
          }
          this.method = normalizeMethod(options.method || this.method || "GET");
          this.mode = options.mode || this.mode || null;
          this.signal = options.signal || this.signal;
          this.referrer = null;
          if ((this.method === "GET" || this.method === "HEAD") && body) {
            throw new TypeError("Body not allowed for GET or HEAD requests");
          }
          this._initBody(body);
        }
        Request.prototype.clone = function() {
          return new Request(this, { body: this._bodyInit });
        };
        function decode(body) {
          var form = new FormData();
          body.trim().split("&").forEach(function(bytes) {
            if (bytes) {
              var split = bytes.split("=");
              var name = split.shift().replace(/\+/g, " ");
              var value = split.join("=").replace(/\+/g, " ");
              form.append(decodeURIComponent(name), decodeURIComponent(value));
            }
          });
          return form;
        }
        function parseHeaders(rawHeaders) {
          var headers = new Headers2();
          var preProcessedHeaders = rawHeaders.replace(/\r?\n[\t ]+/g, " ");
          preProcessedHeaders.split(/\r?\n/).forEach(function(line) {
            var parts = line.split(":");
            var key = parts.shift().trim();
            if (key) {
              var value = parts.join(":").trim();
              headers.append(key, value);
            }
          });
          return headers;
        }
        Body.call(Request.prototype);
        function Response2(bodyInit, options) {
          if (!options) {
            options = {};
          }
          this.type = "default";
          this.status = options.status === void 0 ? 200 : options.status;
          this.ok = this.status >= 200 && this.status < 300;
          this.statusText = "statusText" in options ? options.statusText : "OK";
          this.headers = new Headers2(options.headers);
          this.url = options.url || "";
          this._initBody(bodyInit);
        }
        Body.call(Response2.prototype);
        Response2.prototype.clone = function() {
          return new Response2(this._bodyInit, {
            status: this.status,
            statusText: this.statusText,
            headers: new Headers2(this.headers),
            url: this.url
          });
        };
        Response2.error = function() {
          var response = new Response2(null, { status: 0, statusText: "" });
          response.type = "error";
          return response;
        };
        var redirectStatuses = [301, 302, 303, 307, 308];
        Response2.redirect = function(url, status) {
          if (redirectStatuses.indexOf(status) === -1) {
            throw new RangeError("Invalid status code");
          }
          return new Response2(null, { status, headers: { location: url } });
        };
        exports2.DOMException = self2.DOMException;
        try {
          new exports2.DOMException();
        } catch (err) {
          exports2.DOMException = function(message, name) {
            this.message = message;
            this.name = name;
            var error = Error(message);
            this.stack = error.stack;
          };
          exports2.DOMException.prototype = Object.create(Error.prototype);
          exports2.DOMException.prototype.constructor = exports2.DOMException;
        }
        function fetch2(input, init) {
          return new Promise(function(resolve, reject) {
            var request = new Request(input, init);
            if (request.signal && request.signal.aborted) {
              return reject(new exports2.DOMException("Aborted", "AbortError"));
            }
            var xhr = new XMLHttpRequest();
            function abortXhr() {
              xhr.abort();
            }
            xhr.onload = function() {
              var options = {
                status: xhr.status,
                statusText: xhr.statusText,
                headers: parseHeaders(xhr.getAllResponseHeaders() || "")
              };
              options.url = "responseURL" in xhr ? xhr.responseURL : options.headers.get("X-Request-URL");
              var body = "response" in xhr ? xhr.response : xhr.responseText;
              resolve(new Response2(body, options));
            };
            xhr.onerror = function() {
              reject(new TypeError("Network request failed"));
            };
            xhr.ontimeout = function() {
              reject(new TypeError("Network request failed"));
            };
            xhr.onabort = function() {
              reject(new exports2.DOMException("Aborted", "AbortError"));
            };
            xhr.open(request.method, request.url, true);
            if (request.credentials === "include") {
              xhr.withCredentials = true;
            } else if (request.credentials === "omit") {
              xhr.withCredentials = false;
            }
            if ("responseType" in xhr && support.blob) {
              xhr.responseType = "blob";
            }
            request.headers.forEach(function(value, name) {
              xhr.setRequestHeader(name, value);
            });
            if (request.signal) {
              request.signal.addEventListener("abort", abortXhr);
              xhr.onreadystatechange = function() {
                if (xhr.readyState === 4) {
                  request.signal.removeEventListener("abort", abortXhr);
                }
              };
            }
            xhr.send(typeof request._bodyInit === "undefined" ? null : request._bodyInit);
          });
        }
        fetch2.polyfill = true;
        if (!self2.fetch) {
          self2.fetch = fetch2;
          self2.Headers = Headers2;
          self2.Request = Request;
          self2.Response = Response2;
        }
        exports2.Headers = Headers2;
        exports2.Request = Request;
        exports2.Response = Response2;
        exports2.fetch = fetch2;
        Object.defineProperty(exports2, "__esModule", { value: true });
        return exports2;
      }({});
    })(__self__);
    __self__.fetch.ponyfill = true;
    delete __self__.fetch.polyfill;
    var ctx = __self__;
    exports = ctx.fetch;
    exports.default = ctx.fetch;
    exports.fetch = ctx.fetch;
    exports.Headers = ctx.Headers;
    exports.Request = ctx.Request;
    exports.Response = ctx.Response;
    module2.exports = exports;
  }
});

// node_modules/deepmerge/dist/cjs.js
var require_cjs = __commonJS({
  "node_modules/deepmerge/dist/cjs.js"(exports, module2) {
    "use strict";
    var isMergeableObject = function isMergeableObject2(value) {
      return isNonNullObject(value) && !isSpecial(value);
    };
    function isNonNullObject(value) {
      return !!value && typeof value === "object";
    }
    function isSpecial(value) {
      var stringValue = Object.prototype.toString.call(value);
      return stringValue === "[object RegExp]" || stringValue === "[object Date]" || isReactElement(value);
    }
    var canUseSymbol = typeof Symbol === "function" && Symbol.for;
    var REACT_ELEMENT_TYPE = canUseSymbol ? Symbol.for("react.element") : 60103;
    function isReactElement(value) {
      return value.$$typeof === REACT_ELEMENT_TYPE;
    }
    function emptyTarget(val) {
      return Array.isArray(val) ? [] : {};
    }
    function cloneUnlessOtherwiseSpecified(value, options) {
      return options.clone !== false && options.isMergeableObject(value) ? deepmerge(emptyTarget(value), value, options) : value;
    }
    function defaultArrayMerge(target, source, options) {
      return target.concat(source).map(function(element) {
        return cloneUnlessOtherwiseSpecified(element, options);
      });
    }
    function getMergeFunction(key, options) {
      if (!options.customMerge) {
        return deepmerge;
      }
      var customMerge = options.customMerge(key);
      return typeof customMerge === "function" ? customMerge : deepmerge;
    }
    function getEnumerableOwnPropertySymbols(target) {
      return Object.getOwnPropertySymbols ? Object.getOwnPropertySymbols(target).filter(function(symbol) {
        return Object.propertyIsEnumerable.call(target, symbol);
      }) : [];
    }
    function getKeys(target) {
      return Object.keys(target).concat(getEnumerableOwnPropertySymbols(target));
    }
    function propertyIsOnObject(object, property) {
      try {
        return property in object;
      } catch (_) {
        return false;
      }
    }
    function propertyIsUnsafe(target, key) {
      return propertyIsOnObject(target, key) && !(Object.hasOwnProperty.call(target, key) && Object.propertyIsEnumerable.call(target, key));
    }
    function mergeObject(target, source, options) {
      var destination = {};
      if (options.isMergeableObject(target)) {
        getKeys(target).forEach(function(key) {
          destination[key] = cloneUnlessOtherwiseSpecified(target[key], options);
        });
      }
      getKeys(source).forEach(function(key) {
        if (propertyIsUnsafe(target, key)) {
          return;
        }
        if (propertyIsOnObject(target, key) && options.isMergeableObject(source[key])) {
          destination[key] = getMergeFunction(key, options)(target[key], source[key], options);
        } else {
          destination[key] = cloneUnlessOtherwiseSpecified(source[key], options);
        }
      });
      return destination;
    }
    function deepmerge(target, source, options) {
      options = options || {};
      options.arrayMerge = options.arrayMerge || defaultArrayMerge;
      options.isMergeableObject = options.isMergeableObject || isMergeableObject;
      options.cloneUnlessOtherwiseSpecified = cloneUnlessOtherwiseSpecified;
      var sourceIsArray = Array.isArray(source);
      var targetIsArray = Array.isArray(target);
      var sourceAndTargetTypesMatch = sourceIsArray === targetIsArray;
      if (!sourceAndTargetTypesMatch) {
        return cloneUnlessOtherwiseSpecified(source, options);
      } else if (sourceIsArray) {
        return options.arrayMerge(target, source, options);
      } else {
        return mergeObject(target, source, options);
      }
    }
    deepmerge.all = function deepmergeAll(array, options) {
      if (!Array.isArray(array)) {
        throw new Error("first argument should be an array");
      }
      return array.reduce(function(prev, next) {
        return deepmerge(prev, next, options);
      }, {});
    };
    var deepmerge_1 = deepmerge;
    module2.exports = deepmerge_1;
  }
});

// node_modules/es5-ext/global.js
var require_global = __commonJS({
  "node_modules/es5-ext/global.js"(exports, module2) {
    var naiveFallback = function() {
      if (typeof self === "object" && self)
        return self;
      if (typeof window === "object" && window)
        return window;
      throw new Error("Unable to resolve global `this`");
    };
    module2.exports = function() {
      if (this)
        return this;
      if (typeof globalThis === "object" && globalThis)
        return globalThis;
      try {
        Object.defineProperty(Object.prototype, "__global__", {
          get: function() {
            return this;
          },
          configurable: true
        });
      } catch (error) {
        return naiveFallback();
      }
      try {
        if (!__global__)
          return naiveFallback();
        return __global__;
      } finally {
        delete Object.prototype.__global__;
      }
    }();
  }
});

// node_modules/websocket/package.json
var require_package = __commonJS({
  "node_modules/websocket/package.json"(exports, module2) {
    module2.exports = {
      _from: "websocket@^1.0.34",
      _id: "websocket@1.0.34",
      _inBundle: false,
      _integrity: "sha512-PRDso2sGwF6kM75QykIesBijKSVceR6jL2G8NGYyq2XrItNC2P5/qL5XeR056GhA+Ly7JMFvJb9I312mJfmqnQ==",
      _location: "/websocket",
      _phantomChildren: {},
      _requested: {
        type: "range",
        registry: true,
        raw: "websocket@^1.0.34",
        name: "websocket",
        escapedName: "websocket",
        rawSpec: "^1.0.34",
        saveSpec: null,
        fetchSpec: "^1.0.34"
      },
      _requiredBy: [
        "/@deepgram/sdk"
      ],
      _resolved: "https://registry.npmjs.org/websocket/-/websocket-1.0.34.tgz",
      _shasum: "2bdc2602c08bf2c82253b730655c0ef7dcab3111",
      _spec: "websocket@^1.0.34",
      _where: "/Users/samfarrar/Documents/transcription_test/deepgram-transcription/node_modules/@deepgram/sdk",
      author: {
        name: "Brian McKelvey",
        email: "theturtle32@gmail.com",
        url: "https://github.com/theturtle32"
      },
      browser: "lib/browser.js",
      bugs: {
        url: "https://github.com/theturtle32/WebSocket-Node/issues"
      },
      bundleDependencies: false,
      config: {
        verbose: false
      },
      contributors: [
        {
          name: "I\xF1aki Baz Castillo",
          email: "ibc@aliax.net",
          url: "http://dev.sipdoc.net"
        }
      ],
      dependencies: {
        bufferutil: "^4.0.1",
        debug: "^2.2.0",
        "es5-ext": "^0.10.50",
        "typedarray-to-buffer": "^3.1.5",
        "utf-8-validate": "^5.0.2",
        yaeti: "^0.0.6"
      },
      deprecated: false,
      description: "Websocket Client & Server Library implementing the WebSocket protocol as specified in RFC 6455.",
      devDependencies: {
        "buffer-equal": "^1.0.0",
        gulp: "^4.0.2",
        "gulp-jshint": "^2.0.4",
        jshint: "^2.0.0",
        "jshint-stylish": "^2.2.1",
        tape: "^4.9.1"
      },
      directories: {
        lib: "./lib"
      },
      engines: {
        node: ">=4.0.0"
      },
      homepage: "https://github.com/theturtle32/WebSocket-Node",
      keywords: [
        "websocket",
        "websockets",
        "socket",
        "networking",
        "comet",
        "push",
        "RFC-6455",
        "realtime",
        "server",
        "client"
      ],
      license: "Apache-2.0",
      main: "index",
      name: "websocket",
      repository: {
        type: "git",
        url: "git+https://github.com/theturtle32/WebSocket-Node.git"
      },
      scripts: {
        gulp: "gulp",
        test: "tape test/unit/*.js"
      },
      version: "1.0.34"
    };
  }
});

// node_modules/websocket/lib/version.js
var require_version = __commonJS({
  "node_modules/websocket/lib/version.js"(exports, module2) {
    module2.exports = require_package().version;
  }
});

// node_modules/websocket/lib/browser.js
var require_browser = __commonJS({
  "node_modules/websocket/lib/browser.js"(exports, module2) {
    var _globalThis;
    if (typeof globalThis === "object") {
      _globalThis = globalThis;
    } else {
      try {
        _globalThis = require_global();
      } catch (error) {
      } finally {
        if (!_globalThis && typeof window !== "undefined") {
          _globalThis = window;
        }
        if (!_globalThis) {
          throw new Error("Could not determine global this");
        }
      }
    }
    var NativeWebSocket = _globalThis.WebSocket || _globalThis.MozWebSocket;
    var websocket_version = require_version();
    function W3CWebSocket(uri, protocols) {
      var native_instance;
      if (protocols) {
        native_instance = new NativeWebSocket(uri, protocols);
      } else {
        native_instance = new NativeWebSocket(uri);
      }
      return native_instance;
    }
    if (NativeWebSocket) {
      ["CONNECTING", "OPEN", "CLOSING", "CLOSED"].forEach(function(prop) {
        Object.defineProperty(W3CWebSocket, prop, {
          get: function() {
            return NativeWebSocket[prop];
          }
        });
      });
    }
    module2.exports = {
      "w3cwebsocket": NativeWebSocket ? W3CWebSocket : null,
      "version": websocket_version
    };
  }
});

// main.ts
var main_exports = {};
__export(main_exports, {
  default: () => DeepgramPlugin
});
module.exports = __toCommonJS(main_exports);
var import_obsidian = require("obsidian");

// node_modules/@deepgram/sdk/dist/module/lib/errors.js
var DeepgramError = class extends Error {
  constructor(message) {
    super(message);
    this.__dgError = true;
    this.name = "DeepgramError";
  }
};
function isDeepgramError(error) {
  return typeof error === "object" && error !== null && "__dgError" in error;
}
var DeepgramApiError = class extends DeepgramError {
  constructor(message, status) {
    super(message);
    this.name = "DeepgramApiError";
    this.status = status;
  }
  toJSON() {
    return {
      name: this.name,
      message: this.message,
      status: this.status
    };
  }
};
var DeepgramUnknownError = class extends DeepgramError {
  constructor(message, originalError) {
    super(message);
    this.name = "DeepgramUnknownError";
    this.originalError = originalError;
  }
};
var DeepgramVersionError = class extends DeepgramError {
  constructor() {
    super(`You are attempting to use an old format for a newer SDK version. Read more here: https://dpgr.am/js-v3`);
    this.name = "DeepgramVersionError";
  }
};

// node_modules/@deepgram/sdk/dist/module/lib/helpers.js
var import_cross_fetch = __toESM(require_browser_ponyfill());
var import_deepmerge = __toESM(require_cjs());
function stripTrailingSlash(url) {
  return url.replace(/\/$/, "");
}
var isBrowser = () => typeof window !== "undefined";
function applySettingDefaults(options, defaults) {
  return (0, import_deepmerge.default)(defaults, options);
}
function appendSearchParams(searchParams, options) {
  Object.keys(options).forEach((i) => {
    if (Array.isArray(options[i])) {
      const arrayParams = options[i];
      arrayParams.forEach((param) => {
        searchParams.append(i, String(param));
      });
    } else {
      searchParams.append(i, String(options[i]));
    }
  });
}
var resolveHeadersConstructor = () => {
  if (typeof Headers === "undefined") {
    return import_cross_fetch.Headers;
  }
  return Headers;
};
var isUrlSource = (providedSource) => {
  if (providedSource.url)
    return true;
  return false;
};
var isTextSource = (providedSource) => {
  if (providedSource.text)
    return true;
  return false;
};
var isFileSource = (providedSource) => {
  if (isReadStreamSource(providedSource) || isBufferSource(providedSource))
    return true;
  return false;
};
var isBufferSource = (providedSource) => {
  if (providedSource)
    return true;
  return false;
};
var isReadStreamSource = (providedSource) => {
  if (providedSource)
    return true;
  return false;
};

// node_modules/@deepgram/sdk/dist/module/lib/version.js
var version = "3.3.1";

// node_modules/@deepgram/sdk/dist/module/lib/constants.js
var NODE_VERSION = process.versions.node;
var DEFAULT_HEADERS = {
  "Content-Type": `application/json`,
  "X-Client-Info": `@deepgram/sdk; ${isBrowser() ? "browser" : "server"}; v${version}`,
  "User-Agent": `@deepgram/sdk/${version} ${isBrowser() ? "javascript" : `node/${NODE_VERSION}`}`
};
var DEFAULT_URL = "https://api.deepgram.com";
var DEFAULT_GLOBAL_OPTIONS = {
  url: DEFAULT_URL
};
var DEFAULT_FETCH_OPTIONS = {
  headers: DEFAULT_HEADERS
};
var DEFAULT_OPTIONS = {
  global: DEFAULT_GLOBAL_OPTIONS,
  fetch: DEFAULT_FETCH_OPTIONS
};

// node_modules/@deepgram/sdk/dist/module/packages/AbstractClient.js
var AbstractClient = class {
  constructor(key, options) {
    var _a, _b;
    this.key = key;
    this.options = options;
    this.key = key;
    if (!key) {
      this.key = process.env.DEEPGRAM_API_KEY;
    }
    if (!this.key) {
      throw new DeepgramError("A deepgram API key is required");
    }
    this.options = applySettingDefaults(options, DEFAULT_OPTIONS);
    if (!((_a = this.options.global) === null || _a === void 0 ? void 0 : _a.url)) {
      throw new DeepgramError(`An API URL is required. It should be set to ${DEFAULT_URL} by default. No idea what happened!`);
    }
    let baseUrlString = this.options.global.url;
    let proxyUrlString;
    if (!baseUrlString.startsWith("http") && !baseUrlString.startsWith("ws")) {
      console.warn(`The base URL provided does not begin with http, https, ws, or wss and will default to https as standard.`);
    }
    if ((_b = this.options.restProxy) === null || _b === void 0 ? void 0 : _b.url) {
      if (this.key !== "proxy") {
        throw new DeepgramError(`Do not attempt to pass any other API key than the string "proxy" when making proxied REST requests. Please ensure your proxy application is responsible for writing our API key to the Authorization header.`);
      }
      proxyUrlString = this.options.restProxy.url;
      if (!proxyUrlString.startsWith("http") && !proxyUrlString.startsWith("ws")) {
        console.warn(`The proxy URL provided does not begin with http, https, ws, or wss and will default to https as standard.`);
      }
      baseUrlString = proxyUrlString;
    }
    this.baseUrl = this.resolveBaseUrl(baseUrlString);
  }
  resolveBaseUrl(url) {
    if (!/^https?:\/\//i.test(url)) {
      url = "https://" + url;
    }
    return new URL(stripTrailingSlash(url));
  }
  willProxy() {
    var _a;
    const proxyUrl = (_a = this.options.restProxy) === null || _a === void 0 ? void 0 : _a.url;
    return !!proxyUrl;
  }
};

// node_modules/@deepgram/sdk/dist/module/packages/AbstractWsClient.js
var import_events = require("events");
var AbstractWsClient = class extends import_events.EventEmitter {
  constructor(key, options = DEFAULT_OPTIONS) {
    var _a;
    super();
    this.key = key;
    this.options = options;
    this.key = key;
    if (!key) {
      this.key = process.env.DEEPGRAM_API_KEY;
    }
    if (!this.key) {
      throw new Error("A deepgram API key is required");
    }
    this.options = applySettingDefaults(options, DEFAULT_OPTIONS);
    if (!((_a = this.options.global) === null || _a === void 0 ? void 0 : _a.url)) {
      throw new Error(`An API URL is required. It should be set to ${DEFAULT_URL} by default. No idea what happened!`);
    }
    let url = this.options.global.url;
    if (!/^https?:\/\//i.test(url)) {
      url = "https://" + url;
    }
    this.baseUrl = new URL(stripTrailingSlash(url));
    this.baseUrl.protocol = this.baseUrl.protocol.toLowerCase().replace(/(http)(s)?/gi, "ws$2");
  }
};

// node_modules/@deepgram/sdk/dist/module/lib/enums/LiveConnectionState.js
var LiveConnectionState;
(function(LiveConnectionState2) {
  LiveConnectionState2[LiveConnectionState2["CONNECTING"] = 0] = "CONNECTING";
  LiveConnectionState2[LiveConnectionState2["OPEN"] = 1] = "OPEN";
  LiveConnectionState2[LiveConnectionState2["CLOSING"] = 2] = "CLOSING";
  LiveConnectionState2[LiveConnectionState2["CLOSED"] = 3] = "CLOSED";
})(LiveConnectionState || (LiveConnectionState = {}));

// node_modules/@deepgram/sdk/dist/module/lib/enums/LiveTranscriptionEvents.js
var LiveTranscriptionEvents;
(function(LiveTranscriptionEvents2) {
  LiveTranscriptionEvents2["Open"] = "open";
  LiveTranscriptionEvents2["Close"] = "close";
  LiveTranscriptionEvents2["Transcript"] = "Results";
  LiveTranscriptionEvents2["Metadata"] = "Metadata";
  LiveTranscriptionEvents2["Error"] = "error";
  LiveTranscriptionEvents2["Warning"] = "warning";
  LiveTranscriptionEvents2["UtteranceEnd"] = "UtteranceEnd";
  LiveTranscriptionEvents2["SpeechStarted"] = "SpeechStarted";
})(LiveTranscriptionEvents || (LiveTranscriptionEvents = {}));

// node_modules/@deepgram/sdk/dist/module/packages/LiveClient.js
var import_websocket = __toESM(require_browser());
var LiveClient = class extends AbstractWsClient {
  constructor(key, options = DEFAULT_OPTIONS, transcriptionOptions = {}, endpoint = "v1/listen") {
    super(key, options);
    this.key = key;
    this.options = options;
    this.transcriptionOptions = transcriptionOptions;
    const url = new URL(endpoint, this.baseUrl);
    url.protocol = url.protocol.toLowerCase().replace(/(http)(s)?/gi, "ws$2");
    appendSearchParams(url.searchParams, this.transcriptionOptions);
    this._socket = new import_websocket.w3cwebsocket(url.toString(), ["token", this.key]);
    this._socket.onopen = () => {
      this.emit(LiveTranscriptionEvents.Open, this);
    };
    this._socket.onclose = (event) => {
      this.emit(LiveTranscriptionEvents.Close, event);
    };
    this._socket.onerror = (event) => {
      this.emit(LiveTranscriptionEvents.Error, event);
    };
    this._socket.onmessage = (event) => {
      try {
        const data = JSON.parse(event.data.toString());
        if (data.type === LiveTranscriptionEvents.Metadata) {
          this.emit(LiveTranscriptionEvents.Metadata, data);
        }
        if (data.type === LiveTranscriptionEvents.Transcript) {
          this.emit(LiveTranscriptionEvents.Transcript, data);
        }
        if (data.type === LiveTranscriptionEvents.UtteranceEnd) {
          this.emit(LiveTranscriptionEvents.UtteranceEnd, data);
        }
        if (data.type === LiveTranscriptionEvents.SpeechStarted) {
          this.emit(LiveTranscriptionEvents.SpeechStarted, data);
        }
      } catch (error) {
        this.emit(LiveTranscriptionEvents.Error, {
          event,
          message: "Unable to parse `data` as JSON.",
          error
        });
      }
    };
  }
  configure(config) {
    this._socket.send(JSON.stringify({
      type: "Configure",
      processors: config
    }));
  }
  keepAlive() {
    this._socket.send(JSON.stringify({
      type: "KeepAlive"
    }));
  }
  getReadyState() {
    return this._socket.readyState;
  }
  /**
   * Sends data to the Deepgram API via websocket connection
   * @param data Audio data to send to Deepgram
   *
   * Conforms to RFC #146 for Node.js - does not send an empty byte.
   * In the browser, a Blob will contain length with no audio.
   * @see https://github.com/deepgram/deepgram-python-sdk/issues/146
   */
  send(data) {
    if (this._socket.readyState === LiveConnectionState.OPEN) {
      if (typeof data === "string") {
        this._socket.send(data);
      } else if (data instanceof Blob) {
        this._socket.send(data);
      } else {
        const buffer = data;
        if (buffer.byteLength > 0) {
          this._socket.send(buffer);
        } else {
          this.emit(LiveTranscriptionEvents.Warning, "Zero-byte detected, skipping. Send `CloseStream` if trying to close the connection.");
        }
      }
    } else {
      throw new DeepgramError("Could not send. Connection not open.");
    }
  }
  /**
   * Denote that you are finished sending audio and close
   * the websocket connection when transcription is finished
   */
  finish() {
    this._socket.send(JSON.stringify({
      type: "CloseStream"
    }));
  }
};

// node_modules/@deepgram/sdk/dist/module/lib/fetch.js
var import_cross_fetch2 = __toESM(require_browser_ponyfill());
var __awaiter = function(thisArg, _arguments, P, generator) {
  function adopt(value) {
    return value instanceof P ? value : new P(function(resolve) {
      resolve(value);
    });
  }
  return new (P || (P = Promise))(function(resolve, reject) {
    function fulfilled(value) {
      try {
        step(generator.next(value));
      } catch (e) {
        reject(e);
      }
    }
    function rejected(value) {
      try {
        step(generator["throw"](value));
      } catch (e) {
        reject(e);
      }
    }
    function step(result) {
      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);
    }
    step((generator = generator.apply(thisArg, _arguments || [])).next());
  });
};
var resolveFetch = (customFetch) => {
  let _fetch;
  if (customFetch) {
    _fetch = customFetch;
  } else if (typeof fetch === "undefined") {
    _fetch = import_cross_fetch2.default;
  } else {
    _fetch = fetch;
  }
  return (...args) => _fetch(...args);
};
var fetchWithAuth = (apiKey, customFetch) => {
  const fetch2 = resolveFetch(customFetch);
  const HeadersConstructor = resolveHeadersConstructor();
  return (input, init) => __awaiter(void 0, void 0, void 0, function* () {
    let headers = new HeadersConstructor(init === null || init === void 0 ? void 0 : init.headers);
    if (!headers.has("Authorization")) {
      headers.set("Authorization", `Token ${apiKey}`);
    }
    return fetch2(input, Object.assign(Object.assign({}, init), { headers }));
  });
};
var resolveResponse = () => __awaiter(void 0, void 0, void 0, function* () {
  if (typeof Response === "undefined") {
    return (yield Promise.resolve().then(() => __toESM(require_browser_ponyfill()))).Response;
  }
  return Response;
});

// node_modules/@deepgram/sdk/dist/module/packages/AbstractRestfulClient.js
var __awaiter2 = function(thisArg, _arguments, P, generator) {
  function adopt(value) {
    return value instanceof P ? value : new P(function(resolve) {
      resolve(value);
    });
  }
  return new (P || (P = Promise))(function(resolve, reject) {
    function fulfilled(value) {
      try {
        step(generator.next(value));
      } catch (e) {
        reject(e);
      }
    }
    function rejected(value) {
      try {
        step(generator["throw"](value));
      } catch (e) {
        reject(e);
      }
    }
    function step(result) {
      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);
    }
    step((generator = generator.apply(thisArg, _arguments || [])).next());
  });
};
var AbstractRestfulClient = class extends AbstractClient {
  constructor(key, options) {
    super(key, options);
    this.key = key;
    this.options = options;
    if (isBrowser() && !this._willProxy()) {
      throw new DeepgramError("Due to CORS we are unable to support REST-based API calls to our API from the browser. Please consider using a proxy, and including a `restProxy: { url: ''}` in your Deepgram client options.");
    }
    this.fetch = fetchWithAuth(this.key, options._experimentalCustomFetch);
  }
  _getErrorMessage(err) {
    return err.msg || err.message || err.error_description || err.error || JSON.stringify(err);
  }
  handleError(error, reject) {
    return __awaiter2(this, void 0, void 0, function* () {
      const Res = yield resolveResponse();
      if (error instanceof Res) {
        error.json().then((err) => {
          reject(new DeepgramApiError(this._getErrorMessage(err), error.status || 500));
        }).catch((err) => {
          reject(new DeepgramUnknownError(this._getErrorMessage(err), err));
        });
      } else {
        reject(new DeepgramUnknownError(this._getErrorMessage(error), error));
      }
    });
  }
  _getRequestParams(method, headers, parameters, body) {
    var _a, _b, _c;
    const params = Object.assign(Object.assign({}, (_a = this.options) === null || _a === void 0 ? void 0 : _a.fetch), { method, headers: Object.assign(Object.assign({}, (_c = (_b = this.options) === null || _b === void 0 ? void 0 : _b.fetch) === null || _c === void 0 ? void 0 : _c.headers), headers) || {} });
    if (method === "GET") {
      return params;
    }
    params.body = body;
    params.duplex = "half";
    return Object.assign(Object.assign({}, params), parameters);
  }
  _handleRequest(fetcher, method, url, headers, parameters, body) {
    return __awaiter2(this, void 0, void 0, function* () {
      return new Promise((resolve, reject) => {
        fetcher(url, this._getRequestParams(method, headers, parameters, body)).then((result) => {
          if (!result.ok)
            throw result;
          return result.json();
        }).then((data) => resolve(data)).catch((error) => this.handleError(error, reject));
      });
    });
  }
  _handleRawRequest(fetcher, method, url, headers, parameters, body) {
    return __awaiter2(this, void 0, void 0, function* () {
      return new Promise((resolve, reject) => {
        fetcher(url, this._getRequestParams(method, headers, parameters, body)).then((result) => {
          if (!result.ok)
            throw result;
          return result;
        }).then((data) => resolve(data)).catch((error) => this.handleError(error, reject));
      });
    });
  }
  get(fetcher, url, headers, parameters) {
    return __awaiter2(this, void 0, void 0, function* () {
      return this._handleRequest(fetcher, "GET", url, headers, parameters);
    });
  }
  post(fetcher, url, body, headers, parameters) {
    return __awaiter2(this, void 0, void 0, function* () {
      return this._handleRequest(fetcher, "POST", url, headers, parameters, body);
    });
  }
  put(fetcher, url, body, headers, parameters) {
    return __awaiter2(this, void 0, void 0, function* () {
      return this._handleRequest(fetcher, "PUT", url, headers, parameters, body);
    });
  }
  patch(fetcher, url, body, headers, parameters) {
    return __awaiter2(this, void 0, void 0, function* () {
      return this._handleRequest(fetcher, "PATCH", url, headers, parameters, body);
    });
  }
  delete(fetcher, url, headers, parameters) {
    return __awaiter2(this, void 0, void 0, function* () {
      return this._handleRequest(fetcher, "DELETE", url, headers, parameters);
    });
  }
  _willProxy() {
    var _a;
    const proxyUrl = (_a = this.options.restProxy) === null || _a === void 0 ? void 0 : _a.url;
    return !!proxyUrl;
  }
};

// node_modules/@deepgram/sdk/dist/module/packages/PrerecordedClient.js
var __awaiter3 = function(thisArg, _arguments, P, generator) {
  function adopt(value) {
    return value instanceof P ? value : new P(function(resolve) {
      resolve(value);
    });
  }
  return new (P || (P = Promise))(function(resolve, reject) {
    function fulfilled(value) {
      try {
        step(generator.next(value));
      } catch (e) {
        reject(e);
      }
    }
    function rejected(value) {
      try {
        step(generator["throw"](value));
      } catch (e) {
        reject(e);
      }
    }
    function step(result) {
      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);
    }
    step((generator = generator.apply(thisArg, _arguments || [])).next());
  });
};
var PrerecordedClient = class extends AbstractRestfulClient {
  transcribeUrl(source, options, endpoint = "v1/listen") {
    return __awaiter3(this, void 0, void 0, function* () {
      try {
        let body;
        if (isUrlSource(source)) {
          body = JSON.stringify(source);
        } else {
          throw new DeepgramError("Unknown transcription source type");
        }
        if (options !== void 0 && "callback" in options) {
          throw new DeepgramError("Callback cannot be provided as an option to a synchronous transcription. Use `transcribeUrlCallback` or `transcribeFileCallback` instead.");
        }
        const transcriptionOptions = Object.assign({}, options);
        const url = new URL(endpoint, this.baseUrl);
        appendSearchParams(url.searchParams, transcriptionOptions);
        const result = yield this.post(this.fetch, url, body);
        return { result, error: null };
      } catch (error) {
        if (isDeepgramError(error)) {
          return { result: null, error };
        }
        throw error;
      }
    });
  }
  transcribeFile(source, options, endpoint = "v1/listen") {
    return __awaiter3(this, void 0, void 0, function* () {
      try {
        let body;
        if (isFileSource(source)) {
          body = source;
        } else {
          throw new DeepgramError("Unknown transcription source type");
        }
        if (options !== void 0 && "callback" in options) {
          throw new DeepgramError("Callback cannot be provided as an option to a synchronous transcription. Use `transcribeUrlCallback` or `transcribeFileCallback` instead.");
        }
        const transcriptionOptions = Object.assign({}, options);
        const url = new URL(endpoint, this.baseUrl);
        appendSearchParams(url.searchParams, transcriptionOptions);
        const result = yield this.post(this.fetch, url, body, {
          "Content-Type": "deepgram/audio+video"
        });
        return { result, error: null };
      } catch (error) {
        if (isDeepgramError(error)) {
          return { result: null, error };
        }
        throw error;
      }
    });
  }
  transcribeUrlCallback(source, callback, options, endpoint = "v1/listen") {
    return __awaiter3(this, void 0, void 0, function* () {
      try {
        let body;
        if (isUrlSource(source)) {
          body = JSON.stringify(source);
        } else {
          throw new DeepgramError("Unknown transcription source type");
        }
        const transcriptionOptions = Object.assign(Object.assign({}, options), { callback: callback.toString() });
        const url = new URL(endpoint, this.baseUrl);
        appendSearchParams(url.searchParams, transcriptionOptions);
        const result = yield this.post(this.fetch, url, body);
        return { result, error: null };
      } catch (error) {
        if (isDeepgramError(error)) {
          return { result: null, error };
        }
        throw error;
      }
    });
  }
  transcribeFileCallback(source, callback, options, endpoint = "v1/listen") {
    return __awaiter3(this, void 0, void 0, function* () {
      try {
        let body;
        if (isFileSource(source)) {
          body = source;
        } else {
          throw new DeepgramError("Unknown transcription source type");
        }
        const transcriptionOptions = Object.assign(Object.assign({}, options), { callback: callback.toString() });
        const url = new URL(endpoint, this.baseUrl);
        appendSearchParams(url.searchParams, transcriptionOptions);
        const result = yield this.post(this.fetch, url, body, {
          "Content-Type": "deepgram/audio+video"
        });
        return { result, error: null };
      } catch (error) {
        if (isDeepgramError(error)) {
          return { result: null, error };
        }
        throw error;
      }
    });
  }
};

// node_modules/@deepgram/sdk/dist/module/packages/ListenClient.js
var ListenClient = class extends AbstractClient {
  get prerecorded() {
    return new PrerecordedClient(this.key, this.options);
  }
  live(transcriptionOptions, endpoint = "v1/listen") {
    return new LiveClient(this.key, this.options, transcriptionOptions, endpoint);
  }
};

// node_modules/@deepgram/sdk/dist/module/packages/ManageClient.js
var __awaiter4 = function(thisArg, _arguments, P, generator) {
  function adopt(value) {
    return value instanceof P ? value : new P(function(resolve) {
      resolve(value);
    });
  }
  return new (P || (P = Promise))(function(resolve, reject) {
    function fulfilled(value) {
      try {
        step(generator.next(value));
      } catch (e) {
        reject(e);
      }
    }
    function rejected(value) {
      try {
        step(generator["throw"](value));
      } catch (e) {
        reject(e);
      }
    }
    function step(result) {
      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);
    }
    step((generator = generator.apply(thisArg, _arguments || [])).next());
  });
};
var ManageClient = class extends AbstractRestfulClient {
  /**
   * @see https://developers.deepgram.com/docs/authenticating#test-request
   */
  getTokenDetails(endpoint = "v1/auth/token") {
    return __awaiter4(this, void 0, void 0, function* () {
      try {
        const url = new URL(this.baseUrl);
        url.pathname = endpoint;
        const result = yield this.get(this.fetch, url);
        return { result, error: null };
      } catch (error) {
        if (isDeepgramError(error)) {
          return { result: null, error };
        }
        throw error;
      }
    });
  }
  /**
   * @see https://developers.deepgram.com/reference/get-projects
   */
  getProjects(endpoint = "v1/projects") {
    return __awaiter4(this, void 0, void 0, function* () {
      try {
        const url = new URL(this.baseUrl);
        url.pathname = endpoint;
        const result = yield this.get(this.fetch, url);
        return { result, error: null };
      } catch (error) {
        if (isDeepgramError(error)) {
          return { result: null, error };
        }
        throw error;
      }
    });
  }
  /**
   * @see https://developers.deepgram.com/reference/get-project
   */
  getProject(projectId, endpoint = "v1/projects/:projectId") {
    return __awaiter4(this, void 0, void 0, function* () {
      try {
        const url = new URL(this.baseUrl);
        url.pathname = endpoint.replace(/:projectId/, projectId);
        const result = yield this.get(this.fetch, url);
        return { result, error: null };
      } catch (error) {
        if (isDeepgramError(error)) {
          return { result: null, error };
        }
        throw error;
      }
    });
  }
  /**
   * @see https://developers.deepgram.com/reference/update-project
   */
  updateProject(projectId, options, endpoint = "v1/projects/:projectId") {
    return __awaiter4(this, void 0, void 0, function* () {
      try {
        const url = new URL(this.baseUrl);
        url.pathname = endpoint.replace(/:projectId/, projectId);
        const body = JSON.stringify(options);
        const result = yield this.patch(this.fetch, url, body);
        return { result, error: null };
      } catch (error) {
        if (isDeepgramError(error)) {
          return { result: null, error };
        }
        throw error;
      }
    });
  }
  /**
   * @see https://developers.deepgram.com/reference/delete-project
   */
  deleteProject(projectId, endpoint = "v1/projects/:projectId") {
    return __awaiter4(this, void 0, void 0, function* () {
      try {
        const url = new URL(this.baseUrl);
        url.pathname = endpoint.replace(/:projectId/, projectId);
        yield this.delete(this.fetch, url);
        return { error: null };
      } catch (error) {
        if (isDeepgramError(error)) {
          return { error };
        }
        throw error;
      }
    });
  }
  /**
   * @see https://developers.deepgram.com/reference/list-keys
   */
  getProjectKeys(projectId, endpoint = "v1/projects/:projectId/keys") {
    return __awaiter4(this, void 0, void 0, function* () {
      try {
        const url = new URL(this.baseUrl);
        url.pathname = endpoint.replace(/:projectId/, projectId);
        const result = yield this.get(this.fetch, url);
        return { result, error: null };
      } catch (error) {
        if (isDeepgramError(error)) {
          return { result: null, error };
        }
        throw error;
      }
    });
  }
  /**
   * @see https://developers.deepgram.com/reference/get-key
   */
  getProjectKey(projectId, keyId, endpoint = "v1/projects/:projectId/keys/:keyId") {
    return __awaiter4(this, void 0, void 0, function* () {
      try {
        const url = new URL(this.baseUrl);
        url.pathname = endpoint.replace(/:projectId/, projectId).replace(/:keyId/, keyId);
        const result = yield this.get(this.fetch, url);
        return { result, error: null };
      } catch (error) {
        if (isDeepgramError(error)) {
          return { result: null, error };
        }
        throw error;
      }
    });
  }
  /**
   * @see https://developers.deepgram.com/reference/create-key
   */
  createProjectKey(projectId, options, endpoint = "v1/projects/:projectId/keys") {
    return __awaiter4(this, void 0, void 0, function* () {
      try {
        const url = new URL(this.baseUrl);
        url.pathname = endpoint.replace(/:projectId/, projectId);
        const body = JSON.stringify(options);
        const result = yield this.post(this.fetch, url, body);
        return { result, error: null };
      } catch (error) {
        if (isDeepgramError(error)) {
          return { result: null, error };
        }
        throw error;
      }
    });
  }
  /**
   * @see https://developers.deepgram.com/reference/delete-key
   */
  deleteProjectKey(projectId, keyId, endpoint = "v1/projects/:projectId/keys/:keyId") {
    return __awaiter4(this, void 0, void 0, function* () {
      try {
        const url = new URL(this.baseUrl);
        url.pathname = endpoint.replace(/:projectId/, projectId).replace(/:keyId/, keyId);
        yield this.delete(this.fetch, url);
        return { error: null };
      } catch (error) {
        if (isDeepgramError(error)) {
          return { error };
        }
        throw error;
      }
    });
  }
  /**
   * @see https://developers.deepgram.com/reference/get-members
   */
  getProjectMembers(projectId, endpoint = "v1/projects/:projectId/members") {
    return __awaiter4(this, void 0, void 0, function* () {
      try {
        const url = new URL(this.baseUrl);
        url.pathname = endpoint.replace(/:projectId/, projectId);
        const result = yield this.get(this.fetch, url);
        return { result, error: null };
      } catch (error) {
        if (isDeepgramError(error)) {
          return { result: null, error };
        }
        throw error;
      }
    });
  }
  /**
   * @see https://developers.deepgram.com/reference/remove-member
   */
  removeProjectMember(projectId, memberId, endpoint = "v1/projects/:projectId/members/:memberId") {
    return __awaiter4(this, void 0, void 0, function* () {
      try {
        const url = new URL(this.baseUrl);
        url.pathname = endpoint.replace(/:projectId/, projectId).replace(/:memberId/, memberId);
        yield this.delete(this.fetch, url);
        return { error: null };
      } catch (error) {
        if (isDeepgramError(error)) {
          return { error };
        }
        throw error;
      }
    });
  }
  /**
   * @see https://developers.deepgram.com/reference/get-member-scopes
   */
  getProjectMemberScopes(projectId, memberId, endpoint = "v1/projects/:projectId/members/:memberId/scopes") {
    return __awaiter4(this, void 0, void 0, function* () {
      try {
        const url = new URL(this.baseUrl);
        url.pathname = endpoint.replace(/:projectId/, projectId).replace(/:memberId/, memberId);
        const result = yield this.get(this.fetch, url);
        return { result, error: null };
      } catch (error) {
        if (isDeepgramError(error)) {
          return { result: null, error };
        }
        throw error;
      }
    });
  }
  /**
   * @see https://developers.deepgram.com/reference/update-scope
   */
  updateProjectMemberScope(projectId, memberId, options, endpoint = "v1/projects/:projectId/members/:memberId/scopes") {
    return __awaiter4(this, void 0, void 0, function* () {
      try {
        const url = new URL(this.baseUrl);
        url.pathname = endpoint.replace(/:projectId/, projectId).replace(/:memberId/, memberId);
        const body = JSON.stringify(options);
        const result = yield this.put(this.fetch, url, body);
        return { result, error: null };
      } catch (error) {
        if (isDeepgramError(error)) {
          return { result: null, error };
        }
        throw error;
      }
    });
  }
  /**
   * @see https://developers.deepgram.com/reference/list-invites
   */
  getProjectInvites(projectId, endpoint = "v1/projects/:projectId/invites") {
    return __awaiter4(this, void 0, void 0, function* () {
      try {
        const url = new URL(this.baseUrl);
        url.pathname = endpoint.replace(/:projectId/, projectId);
        const result = yield this.get(this.fetch, url);
        return { result, error: null };
      } catch (error) {
        if (isDeepgramError(error)) {
          return { result: null, error };
        }
        throw error;
      }
    });
  }
  /**
   * @see https://developers.deepgram.com/reference/send-invites
   */
  sendProjectInvite(projectId, options, endpoint = "v1/projects/:projectId/invites") {
    return __awaiter4(this, void 0, void 0, function* () {
      try {
        const url = new URL(this.baseUrl);
        url.pathname = endpoint.replace(/:projectId/, projectId);
        const body = JSON.stringify(options);
        const result = yield this.post(this.fetch, url, body);
        return { result, error: null };
      } catch (error) {
        if (isDeepgramError(error)) {
          return { result: null, error };
        }
        throw error;
      }
    });
  }
  /**
   * @see https://developers.deepgram.com/reference/delete-invite
   */
  deleteProjectInvite(projectId, email, endpoint = "v1/projects/:projectId/invites/:email") {
    return __awaiter4(this, void 0, void 0, function* () {
      try {
        const url = new URL(this.baseUrl);
        url.pathname = endpoint.replace(/:projectId/, projectId).replace(/:email/, email);
        yield this.delete(this.fetch, url);
        return { error: null };
      } catch (error) {
        if (isDeepgramError(error)) {
          return { error };
        }
        throw error;
      }
    });
  }
  /**
   * @see https://developers.deepgram.com/reference/leave-project
   */
  leaveProject(projectId, endpoint = "v1/projects/:projectId/leave") {
    return __awaiter4(this, void 0, void 0, function* () {
      try {
        const url = new URL(this.baseUrl);
        url.pathname = endpoint.replace(/:projectId/, projectId);
        const result = yield this.delete(this.fetch, url);
        return { result, error: null };
      } catch (error) {
        if (isDeepgramError(error)) {
          return { result: null, error };
        }
        throw error;
      }
    });
  }
  /**
   * @see https://developers.deepgram.com/reference/get-all-requests
   */
  getProjectUsageRequests(projectId, options, endpoint = "v1/projects/:projectId/requests") {
    return __awaiter4(this, void 0, void 0, function* () {
      try {
        const url = new URL(this.baseUrl);
        url.pathname = endpoint.replace(/:projectId/, projectId);
        appendSearchParams(url.searchParams, options);
        const result = yield this.get(this.fetch, url);
        return { result, error: null };
      } catch (error) {
        if (isDeepgramError(error)) {
          return { result: null, error };
        }
        throw error;
      }
    });
  }
  /**
   * @see https://developers.deepgram.com/reference/get-request
   */
  getProjectUsageRequest(projectId, requestId, endpoint = "v1/projects/:projectId/requests/:requestId") {
    return __awaiter4(this, void 0, void 0, function* () {
      try {
        const url = new URL(this.baseUrl);
        url.pathname = endpoint.replace(/:projectId/, projectId).replace(/:requestId/, requestId);
        const result = yield this.get(this.fetch, url);
        return { result, error: null };
      } catch (error) {
        if (isDeepgramError(error)) {
          return { result: null, error };
        }
        throw error;
      }
    });
  }
  /**
   * @see https://developers.deepgram.com/reference/summarize-usage
   */
  getProjectUsageSummary(projectId, options, endpoint = "v1/projects/:projectId/usage") {
    return __awaiter4(this, void 0, void 0, function* () {
      try {
        const url = new URL(this.baseUrl);
        url.pathname = endpoint.replace(/:projectId/, projectId);
        appendSearchParams(url.searchParams, options);
        const result = yield this.get(this.fetch, url);
        return { result, error: null };
      } catch (error) {
        if (isDeepgramError(error)) {
          return { result: null, error };
        }
        throw error;
      }
    });
  }
  /**
   * @see https://developers.deepgram.com/reference/get-fields
   */
  getProjectUsageFields(projectId, options, endpoint = "v1/projects/:projectId/usage/fields") {
    return __awaiter4(this, void 0, void 0, function* () {
      try {
        const url = new URL(this.baseUrl);
        url.pathname = endpoint.replace(/:projectId/, projectId);
        appendSearchParams(url.searchParams, options);
        const result = yield this.get(this.fetch, url);
        return { result, error: null };
      } catch (error) {
        if (isDeepgramError(error)) {
          return { result: null, error };
        }
        throw error;
      }
    });
  }
  /**
   * @see https://developers.deepgram.com/reference/get-all-balances
   */
  getProjectBalances(projectId, endpoint = "v1/projects/:projectId/balances") {
    return __awaiter4(this, void 0, void 0, function* () {
      try {
        const url = new URL(this.baseUrl);
        url.pathname = endpoint.replace(/:projectId/, projectId);
        const result = yield this.get(this.fetch, url);
        return { result, error: null };
      } catch (error) {
        if (isDeepgramError(error)) {
          return { result: null, error };
        }
        throw error;
      }
    });
  }
  /**
   * @see https://developers.deepgram.com/reference/get-balance
   */
  getProjectBalance(projectId, balanceId, endpoint = "v1/projects/:projectId/balances/:balanceId") {
    return __awaiter4(this, void 0, void 0, function* () {
      try {
        const url = new URL(this.baseUrl);
        url.pathname = endpoint.replace(/:projectId/, projectId).replace(/:balanceId/, balanceId);
        const result = yield this.get(this.fetch, url);
        return { result, error: null };
      } catch (error) {
        if (isDeepgramError(error)) {
          return { result: null, error };
        }
        throw error;
      }
    });
  }
};

// node_modules/@deepgram/sdk/dist/module/packages/OnPremClient.js
var __awaiter5 = function(thisArg, _arguments, P, generator) {
  function adopt(value) {
    return value instanceof P ? value : new P(function(resolve) {
      resolve(value);
    });
  }
  return new (P || (P = Promise))(function(resolve, reject) {
    function fulfilled(value) {
      try {
        step(generator.next(value));
      } catch (e) {
        reject(e);
      }
    }
    function rejected(value) {
      try {
        step(generator["throw"](value));
      } catch (e) {
        reject(e);
      }
    }
    function step(result) {
      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);
    }
    step((generator = generator.apply(thisArg, _arguments || [])).next());
  });
};
var OnPremClient = class extends AbstractRestfulClient {
  /**
   * @see https://developers.deepgram.com/reference/list-credentials
   */
  listCredentials(projectId, endpoint = "v1/projects/:projectId/onprem/distribution/credentials") {
    return __awaiter5(this, void 0, void 0, function* () {
      try {
        const url = new URL(this.baseUrl);
        url.pathname = endpoint.replace(/:projectId/, projectId);
        const result = yield this.get(this.fetch, url);
        return { result, error: null };
      } catch (error) {
        if (isDeepgramError(error)) {
          return { result: null, error };
        }
        throw error;
      }
    });
  }
  /**
   * @see https://developers.deepgram.com/reference/get-credentials
   */
  getCredentials(projectId, credentialsId, endpoint = "v1/projects/:projectId/onprem/distribution/credentials/:credentialsId") {
    return __awaiter5(this, void 0, void 0, function* () {
      try {
        const url = new URL(this.baseUrl);
        url.pathname = endpoint.replace(/:projectId/, projectId).replace(/:credentialsId/, credentialsId);
        const result = yield this.get(this.fetch, url);
        return { result, error: null };
      } catch (error) {
        if (isDeepgramError(error)) {
          return { result: null, error };
        }
        throw error;
      }
    });
  }
  /**
   * @see https://developers.deepgram.com/reference/create-credentials
   */
  createCredentials(projectId, options, endpoint = "v1/projects/:projectId/onprem/distribution/credentials") {
    return __awaiter5(this, void 0, void 0, function* () {
      try {
        const url = new URL(this.baseUrl);
        url.pathname = endpoint.replace(/:projectId/, projectId);
        const body = JSON.stringify(options);
        const result = yield this.post(this.fetch, url, body);
        return { result, error: null };
      } catch (error) {
        if (isDeepgramError(error)) {
          return { result: null, error };
        }
        throw error;
      }
    });
  }
  /**
   * @see https://developers.deepgram.com/reference/delete-credentials
   */
  deleteCredentials(projectId, credentialsId, endpoint = "v1/projects/:projectId/onprem/distribution/credentials/:credentialsId") {
    return __awaiter5(this, void 0, void 0, function* () {
      try {
        const url = new URL(this.baseUrl);
        url.pathname = endpoint.replace(/:projectId/, projectId).replace(/:credentialsId/, credentialsId);
        const result = yield this.delete(this.fetch, url);
        return { result, error: null };
      } catch (error) {
        if (isDeepgramError(error)) {
          return { result: null, error };
        }
        throw error;
      }
    });
  }
};

// node_modules/@deepgram/sdk/dist/module/packages/ReadClient.js
var __awaiter6 = function(thisArg, _arguments, P, generator) {
  function adopt(value) {
    return value instanceof P ? value : new P(function(resolve) {
      resolve(value);
    });
  }
  return new (P || (P = Promise))(function(resolve, reject) {
    function fulfilled(value) {
      try {
        step(generator.next(value));
      } catch (e) {
        reject(e);
      }
    }
    function rejected(value) {
      try {
        step(generator["throw"](value));
      } catch (e) {
        reject(e);
      }
    }
    function step(result) {
      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);
    }
    step((generator = generator.apply(thisArg, _arguments || [])).next());
  });
};
var ReadClient = class extends AbstractRestfulClient {
  analyzeUrl(source, options, endpoint = "v1/read") {
    return __awaiter6(this, void 0, void 0, function* () {
      try {
        let body;
        if (isUrlSource(source)) {
          body = JSON.stringify(source);
        } else {
          throw new DeepgramError("Unknown source type");
        }
        if (options !== void 0 && "callback" in options) {
          throw new DeepgramError("Callback cannot be provided as an option to a synchronous transcription. Use `analyzeUrlCallback` or `analyzeTextCallback` instead.");
        }
        const analyzeOptions = Object.assign({}, options);
        const url = new URL(endpoint, this.baseUrl);
        appendSearchParams(url.searchParams, analyzeOptions);
        const result = yield this.post(this.fetch, url, body);
        return { result, error: null };
      } catch (error) {
        if (isDeepgramError(error)) {
          return { result: null, error };
        }
        throw error;
      }
    });
  }
  analyzeText(source, options, endpoint = "v1/read") {
    return __awaiter6(this, void 0, void 0, function* () {
      try {
        let body;
        if (isTextSource(source)) {
          body = JSON.stringify(source);
        } else {
          throw new DeepgramError("Unknown source type");
        }
        if (options !== void 0 && "callback" in options) {
          throw new DeepgramError("Callback cannot be provided as an option to a synchronous requests. Use `analyzeUrlCallback` or `analyzeTextCallback` instead.");
        }
        const analyzeOptions = Object.assign({}, options);
        const url = new URL(endpoint, this.baseUrl);
        appendSearchParams(url.searchParams, analyzeOptions);
        const result = yield this.post(this.fetch, url, body);
        return { result, error: null };
      } catch (error) {
        if (isDeepgramError(error)) {
          return { result: null, error };
        }
        throw error;
      }
    });
  }
  analyzeUrlCallback(source, callback, options, endpoint = "v1/read") {
    return __awaiter6(this, void 0, void 0, function* () {
      try {
        let body;
        if (isUrlSource(source)) {
          body = JSON.stringify(source);
        } else {
          throw new DeepgramError("Unknown source type");
        }
        const transcriptionOptions = Object.assign(Object.assign({}, options), { callback: callback.toString() });
        const url = new URL(endpoint, this.baseUrl);
        appendSearchParams(url.searchParams, transcriptionOptions);
        const result = yield this.post(this.fetch, url, body);
        return { result, error: null };
      } catch (error) {
        if (isDeepgramError(error)) {
          return { result: null, error };
        }
        throw error;
      }
    });
  }
  analyzeTextCallback(source, callback, options, endpoint = "v1/read") {
    return __awaiter6(this, void 0, void 0, function* () {
      try {
        let body;
        if (isTextSource(source)) {
          body = JSON.stringify(source);
        } else {
          throw new DeepgramError("Unknown source type");
        }
        const transcriptionOptions = Object.assign(Object.assign({}, options), { callback: callback.toString() });
        const url = new URL(endpoint, this.baseUrl);
        appendSearchParams(url.searchParams, transcriptionOptions);
        const result = yield this.post(this.fetch, url, body, {
          "Content-Type": "deepgram/audio+video"
        });
        return { result, error: null };
      } catch (error) {
        if (isDeepgramError(error)) {
          return { result: null, error };
        }
        throw error;
      }
    });
  }
};

// node_modules/@deepgram/sdk/dist/module/packages/SpeakClient.js
var __awaiter7 = function(thisArg, _arguments, P, generator) {
  function adopt(value) {
    return value instanceof P ? value : new P(function(resolve) {
      resolve(value);
    });
  }
  return new (P || (P = Promise))(function(resolve, reject) {
    function fulfilled(value) {
      try {
        step(generator.next(value));
      } catch (e) {
        reject(e);
      }
    }
    function rejected(value) {
      try {
        step(generator["throw"](value));
      } catch (e) {
        reject(e);
      }
    }
    function step(result) {
      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);
    }
    step((generator = generator.apply(thisArg, _arguments || [])).next());
  });
};
var SpeakClient = class extends AbstractRestfulClient {
  /**
   * @see https://developers.deepgram.com/reference/text-to-speech-api
   */
  request(source, options, endpoint = "v1/speak") {
    return __awaiter7(this, void 0, void 0, function* () {
      try {
        let body;
        if (isTextSource(source)) {
          body = JSON.stringify(source);
        } else {
          throw new DeepgramError("Unknown transcription source type");
        }
        const speakOptions = Object.assign({ model: "aura-asteria-en" }, options);
        const url = new URL(endpoint, this.baseUrl);
        appendSearchParams(url.searchParams, speakOptions);
        this.result = yield this._handleRawRequest(this.fetch, "POST", url, {}, {}, body);
        return this;
      } catch (error) {
        throw error;
      }
    });
  }
  getStream() {
    return __awaiter7(this, void 0, void 0, function* () {
      if (!this.result)
        throw new DeepgramUnknownError("Tried to get stream before making request", "");
      return this.result.body;
    });
  }
  getHeaders() {
    return __awaiter7(this, void 0, void 0, function* () {
      if (!this.result)
        throw new DeepgramUnknownError("Tried to get headers before making request", "");
      return this.result.headers;
    });
  }
};

// node_modules/@deepgram/sdk/dist/module/DeepgramClient.js
var DeepgramClient = class extends AbstractClient {
  get listen() {
    return new ListenClient(this.key, this.options);
  }
  get manage() {
    return new ManageClient(this.key, this.options);
  }
  get onprem() {
    return new OnPremClient(this.key, this.options);
  }
  get read() {
    return new ReadClient(this.key, this.options);
  }
  get speak() {
    return new SpeakClient(this.key, this.options);
  }
  /**
   * Major version fallback errors are below
   *
   * @see https://developers.deepgram.com/docs/js-sdk-v2-to-v3-migration-guide
   */
  get transcription() {
    throw new DeepgramVersionError();
  }
  get projects() {
    throw new DeepgramVersionError();
  }
  get keys() {
    throw new DeepgramVersionError();
  }
  get members() {
    throw new DeepgramVersionError();
  }
  get scopes() {
    throw new DeepgramVersionError();
  }
  get invitation() {
    throw new DeepgramVersionError();
  }
  get usage() {
    throw new DeepgramVersionError();
  }
  get billing() {
    throw new DeepgramVersionError();
  }
};

// node_modules/@deepgram/sdk/dist/module/index.js
var createClient = (apiKey, options = {}) => {
  return new DeepgramClient(apiKey, options);
};

// main.ts
var DEFAULT_SETTINGS = {
  apiKey: "",
  summarize: false,
  topic_detection: false,
  intent_detection: false,
  sentiment: false,
  smart_format: true,
  punctuation: true,
  paragraphs: false,
  utterances: false,
  filler_words: false
};
var DeepgramPlugin = class extends import_obsidian.Plugin {
  constructor() {
    super(...arguments);
    this.isRecording = false;
  }
  // Add this line to declare the mediaRecorder property
  async onload() {
    console.log("Loading Deepgram plugin");
    await this.loadSettings();
    this.addCommand({
      id: "toggle-transcription",
      name: "Toggle Transcription",
      callback: () => {
        if (this.isRecording) {
          this.stopTranscription();
        } else {
          this.startTranscription();
        }
      }
    });
    this.statusBarItem = this.addStatusBarItem();
    this.updateStatusBarItem();
    this.addSettingTab(new DeepgramSettingTab(this.app, this));
    console.log("Deepgram plugin loaded");
  }
  async onunload() {
    console.log("Unloading Deepgram plugin");
    if (this.isRecording) {
      await this.stopTranscription();
    }
  }
  async loadSettings() {
    this.settings = Object.assign({}, DEFAULT_SETTINGS, await this.loadData());
  }
  async saveSettings() {
    await this.saveData(this.settings);
  }
  updateStatusBarItem() {
    this.statusBarItem.setText(
      this.isRecording ? "Recording" : "Not Recording"
    );
  }
  async startTranscription() {
    console.log("Starting transcription");
    const options = {
      model: "nova-2",
      language: "en-US",
      smart_format: this.settings.smart_format,
      summarize: this.settings.summarize,
      topic_detection: this.settings.topic_detection,
      intent_detection: this.settings.intent_detection,
      sentiment: this.settings.sentiment,
      punctuation: this.settings.punctuation,
      paragraphs: this.settings.paragraphs,
      utterances: this.settings.utterances,
      filler_words: this.settings.filler_words,
      interim_results: true
    };
    const deepgramClient = createClient(this.settings.apiKey);
    const deepgram = deepgramClient.listen.live(options);
    this.deepgram = deepgram;
    console.log("Deepgram client created", deepgram);
    this.deepgram.addListener(LiveTranscriptionEvents.Open, () => {
      console.log("Deepgram connection opened");
      this.isRecording = true;
      this.updateStatusBarItem();
      this.deepgram.addListener(LiveTranscriptionEvents.Transcript, (data) => {
        const transcript = data.channel.alternatives[0].transcript;
        const isFinal = data.is_final;
        const activeView = this.app.workspace.getActiveViewOfType(import_obsidian.MarkdownView);
        if (activeView) {
          const editor = activeView.editor;
          const currentPosition = editor.getCursor();
          console.log("Transcript: ", transcript);
          if (isFinal) {
            console.log("Final transcript:", transcript);
            const startPosition = currentPosition;
            editor.replaceRange(transcript, startPosition);
            const endPosition = {
              line: currentPosition.line,
              ch: currentPosition.ch + transcript.length
            };
            editor.setCursor(endPosition);
          } else {
            console.log("Partial transcript:", transcript);
          }
        }
      });
    });
    this.deepgram.addListener(LiveTranscriptionEvents.Error, (error) => {
      console.error("Deepgram error:", error);
      this.stopTranscription();
    });
    const mediaStream = await navigator.mediaDevices.getUserMedia({
      audio: true
    });
    const mediaRecorder = new MediaRecorder(mediaStream, {
      mimeType: "audio/webm"
    });
    this.mediaRecorder = mediaRecorder;
    mediaRecorder.addEventListener("dataavailable", (event) => {
      if (event.data.size > 0) {
        deepgram.send(event.data);
      }
    });
    mediaRecorder.start(1e3);
  }
  async stopTranscription() {
    console.log("Stopping transcription");
    this.isRecording = false;
    this.updateStatusBarItem();
    this.deepgram.finish();
    if (this.mediaRecorder && this.mediaRecorder.state !== "inactive") {
      this.mediaRecorder.stop();
    }
  }
};
var DeepgramSettingTab = class extends import_obsidian.PluginSettingTab {
  constructor(app, plugin) {
    super(app, plugin);
    this.plugin = plugin;
  }
  display() {
    let { containerEl } = this;
    containerEl.empty();
    new import_obsidian.Setting(containerEl).setName("Deepgram API Key").setDesc("Enter your Deepgram API key").addText(
      (text) => text.setPlaceholder("API Key").setValue(this.plugin.settings.apiKey).onChange(async (value) => {
        console.log("Deepgram API key updated");
        this.plugin.settings.apiKey = value;
        await this.plugin.saveSettings();
      })
    );
    new import_obsidian.Setting(containerEl).setName("Summarize").setDesc("Enable summarization").addToggle(
      (toggle) => toggle.setValue(this.plugin.settings.summarize).onChange(async (value) => {
        this.plugin.settings.summarize = value;
        await this.plugin.saveSettings();
      })
    );
    new import_obsidian.Setting(containerEl).setName("Topic Detection").setDesc("Enable topic detection").addToggle(
      (toggle) => toggle.setValue(this.plugin.settings.topic_detection).onChange(async (value) => {
        this.plugin.settings.topic_detection = value;
        await this.plugin.saveSettings();
      })
    );
    new import_obsidian.Setting(containerEl).setName("Intent Detection").setDesc("Enable intent detection").addToggle(
      (toggle) => toggle.setValue(this.plugin.settings.intent_detection).onChange(async (value) => {
        this.plugin.settings.intent_detection = value;
        await this.plugin.saveSettings();
      })
    );
    new import_obsidian.Setting(containerEl).setName("Sentiment").setDesc("Enable sentiment analysis").addToggle(
      (toggle) => toggle.setValue(this.plugin.settings.sentiment).onChange(async (value) => {
        this.plugin.settings.sentiment = value;
        await this.plugin.saveSettings();
      })
    );
    new import_obsidian.Setting(containerEl).setName("Smart Formatting").setDesc("Enable smart formatting").addToggle(
      (toggle) => toggle.setValue(this.plugin.settings.smart_format).onChange(async (value) => {
        this.plugin.settings.smart_format = value;
        await this.plugin.saveSettings();
      })
    );
    new import_obsidian.Setting(containerEl).setName("Punctuation").setDesc("Enable punctuation").addToggle(
      (toggle) => toggle.setValue(this.plugin.settings.punctuation).onChange(async (value) => {
        this.plugin.settings.punctuation = value;
        await this.plugin.saveSettings();
      })
    );
    new import_obsidian.Setting(containerEl).setName("Paragraphs").setDesc("Enable paragraph detection").addToggle(
      (toggle) => toggle.setValue(this.plugin.settings.paragraphs).onChange(async (value) => {
        this.plugin.settings.paragraphs = value;
        await this.plugin.saveSettings();
      })
    );
    new import_obsidian.Setting(containerEl).setName("Utterances").setDesc("Enable utterance detection").addToggle(
      (toggle) => toggle.setValue(this.plugin.settings.utterances).onChange(async (value) => {
        this.plugin.settings.utterances = value;
        await this.plugin.saveSettings();
      })
    );
    new import_obsidian.Setting(containerEl).setName("Filler Words").setDesc("Include filler words").addToggle(
      (toggle) => toggle.setValue(this.plugin.settings.filler_words).onChange(async (value) => {
        this.plugin.settings.filler_words = value;
        await this.plugin.saveSettings();
      })
    );
  }
};
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsibm9kZV9tb2R1bGVzL2Nyb3NzLWZldGNoL2Rpc3QvYnJvd3Nlci1wb255ZmlsbC5qcyIsICJub2RlX21vZHVsZXMvZGVlcG1lcmdlL2Rpc3QvY2pzLmpzIiwgIm5vZGVfbW9kdWxlcy9lczUtZXh0L2dsb2JhbC5qcyIsICJub2RlX21vZHVsZXMvd2Vic29ja2V0L3BhY2thZ2UuanNvbiIsICJub2RlX21vZHVsZXMvd2Vic29ja2V0L2xpYi92ZXJzaW9uLmpzIiwgIm5vZGVfbW9kdWxlcy93ZWJzb2NrZXQvbGliL2Jyb3dzZXIuanMiLCAibWFpbi50cyIsICJub2RlX21vZHVsZXMvQGRlZXBncmFtL3Nkay9zcmMvbGliL2Vycm9ycy50cyIsICJub2RlX21vZHVsZXMvQGRlZXBncmFtL3Nkay9zcmMvbGliL2hlbHBlcnMudHMiLCAibm9kZV9tb2R1bGVzL0BkZWVwZ3JhbS9zZGsvc3JjL2xpYi92ZXJzaW9uLnRzIiwgIm5vZGVfbW9kdWxlcy9AZGVlcGdyYW0vc2RrL3NyYy9saWIvY29uc3RhbnRzLnRzIiwgIm5vZGVfbW9kdWxlcy9AZGVlcGdyYW0vc2RrL3NyYy9wYWNrYWdlcy9BYnN0cmFjdENsaWVudC50cyIsICJub2RlX21vZHVsZXMvQGRlZXBncmFtL3Nkay9zcmMvcGFja2FnZXMvQWJzdHJhY3RXc0NsaWVudC50cyIsICJub2RlX21vZHVsZXMvQGRlZXBncmFtL3Nkay9zcmMvbGliL2VudW1zL0xpdmVDb25uZWN0aW9uU3RhdGUudHMiLCAibm9kZV9tb2R1bGVzL0BkZWVwZ3JhbS9zZGsvc3JjL2xpYi9lbnVtcy9MaXZlVHJhbnNjcmlwdGlvbkV2ZW50cy50cyIsICJub2RlX21vZHVsZXMvQGRlZXBncmFtL3Nkay9zcmMvcGFja2FnZXMvTGl2ZUNsaWVudC50cyIsICJub2RlX21vZHVsZXMvQGRlZXBncmFtL3Nkay9zcmMvbGliL2ZldGNoLnRzIiwgIm5vZGVfbW9kdWxlcy9AZGVlcGdyYW0vc2RrL3NyYy9wYWNrYWdlcy9BYnN0cmFjdFJlc3RmdWxDbGllbnQudHMiLCAibm9kZV9tb2R1bGVzL0BkZWVwZ3JhbS9zZGsvc3JjL3BhY2thZ2VzL1ByZXJlY29yZGVkQ2xpZW50LnRzIiwgIm5vZGVfbW9kdWxlcy9AZGVlcGdyYW0vc2RrL3NyYy9wYWNrYWdlcy9MaXN0ZW5DbGllbnQudHMiLCAibm9kZV9tb2R1bGVzL0BkZWVwZ3JhbS9zZGsvc3JjL3BhY2thZ2VzL01hbmFnZUNsaWVudC50cyIsICJub2RlX21vZHVsZXMvQGRlZXBncmFtL3Nkay9zcmMvcGFja2FnZXMvT25QcmVtQ2xpZW50LnRzIiwgIm5vZGVfbW9kdWxlcy9AZGVlcGdyYW0vc2RrL3NyYy9wYWNrYWdlcy9SZWFkQ2xpZW50LnRzIiwgIm5vZGVfbW9kdWxlcy9AZGVlcGdyYW0vc2RrL3NyYy9wYWNrYWdlcy9TcGVha0NsaWVudC50cyIsICJub2RlX21vZHVsZXMvQGRlZXBncmFtL3Nkay9zcmMvRGVlcGdyYW1DbGllbnQudHMiLCAibm9kZV9tb2R1bGVzL0BkZWVwZ3JhbS9zZGsvc3JjL2luZGV4LnRzIl0sCiAgInNvdXJjZXNDb250ZW50IjogWyJ2YXIgZ2xvYmFsID0gdHlwZW9mIHNlbGYgIT09ICd1bmRlZmluZWQnID8gc2VsZiA6IHRoaXM7XG52YXIgX19zZWxmX18gPSAoZnVuY3Rpb24gKCkge1xuZnVuY3Rpb24gRigpIHtcbnRoaXMuZmV0Y2ggPSBmYWxzZTtcbnRoaXMuRE9NRXhjZXB0aW9uID0gZ2xvYmFsLkRPTUV4Y2VwdGlvblxufVxuRi5wcm90b3R5cGUgPSBnbG9iYWw7XG5yZXR1cm4gbmV3IEYoKTtcbn0pKCk7XG4oZnVuY3Rpb24oc2VsZikge1xuXG52YXIgaXJyZWxldmFudCA9IChmdW5jdGlvbiAoZXhwb3J0cykge1xuXG4gIHZhciBzdXBwb3J0ID0ge1xuICAgIHNlYXJjaFBhcmFtczogJ1VSTFNlYXJjaFBhcmFtcycgaW4gc2VsZixcbiAgICBpdGVyYWJsZTogJ1N5bWJvbCcgaW4gc2VsZiAmJiAnaXRlcmF0b3InIGluIFN5bWJvbCxcbiAgICBibG9iOlxuICAgICAgJ0ZpbGVSZWFkZXInIGluIHNlbGYgJiZcbiAgICAgICdCbG9iJyBpbiBzZWxmICYmXG4gICAgICAoZnVuY3Rpb24oKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgbmV3IEJsb2IoKTtcbiAgICAgICAgICByZXR1cm4gdHJ1ZVxuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlXG4gICAgICAgIH1cbiAgICAgIH0pKCksXG4gICAgZm9ybURhdGE6ICdGb3JtRGF0YScgaW4gc2VsZixcbiAgICBhcnJheUJ1ZmZlcjogJ0FycmF5QnVmZmVyJyBpbiBzZWxmXG4gIH07XG5cbiAgZnVuY3Rpb24gaXNEYXRhVmlldyhvYmopIHtcbiAgICByZXR1cm4gb2JqICYmIERhdGFWaWV3LnByb3RvdHlwZS5pc1Byb3RvdHlwZU9mKG9iailcbiAgfVxuXG4gIGlmIChzdXBwb3J0LmFycmF5QnVmZmVyKSB7XG4gICAgdmFyIHZpZXdDbGFzc2VzID0gW1xuICAgICAgJ1tvYmplY3QgSW50OEFycmF5XScsXG4gICAgICAnW29iamVjdCBVaW50OEFycmF5XScsXG4gICAgICAnW29iamVjdCBVaW50OENsYW1wZWRBcnJheV0nLFxuICAgICAgJ1tvYmplY3QgSW50MTZBcnJheV0nLFxuICAgICAgJ1tvYmplY3QgVWludDE2QXJyYXldJyxcbiAgICAgICdbb2JqZWN0IEludDMyQXJyYXldJyxcbiAgICAgICdbb2JqZWN0IFVpbnQzMkFycmF5XScsXG4gICAgICAnW29iamVjdCBGbG9hdDMyQXJyYXldJyxcbiAgICAgICdbb2JqZWN0IEZsb2F0NjRBcnJheV0nXG4gICAgXTtcblxuICAgIHZhciBpc0FycmF5QnVmZmVyVmlldyA9XG4gICAgICBBcnJheUJ1ZmZlci5pc1ZpZXcgfHxcbiAgICAgIGZ1bmN0aW9uKG9iaikge1xuICAgICAgICByZXR1cm4gb2JqICYmIHZpZXdDbGFzc2VzLmluZGV4T2YoT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG9iaikpID4gLTFcbiAgICAgIH07XG4gIH1cblxuICBmdW5jdGlvbiBub3JtYWxpemVOYW1lKG5hbWUpIHtcbiAgICBpZiAodHlwZW9mIG5hbWUgIT09ICdzdHJpbmcnKSB7XG4gICAgICBuYW1lID0gU3RyaW5nKG5hbWUpO1xuICAgIH1cbiAgICBpZiAoL1teYS16MC05XFwtIyQlJicqKy5eX2B8fl0vaS50ZXN0KG5hbWUpKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdJbnZhbGlkIGNoYXJhY3RlciBpbiBoZWFkZXIgZmllbGQgbmFtZScpXG4gICAgfVxuICAgIHJldHVybiBuYW1lLnRvTG93ZXJDYXNlKClcbiAgfVxuXG4gIGZ1bmN0aW9uIG5vcm1hbGl6ZVZhbHVlKHZhbHVlKSB7XG4gICAgaWYgKHR5cGVvZiB2YWx1ZSAhPT0gJ3N0cmluZycpIHtcbiAgICAgIHZhbHVlID0gU3RyaW5nKHZhbHVlKTtcbiAgICB9XG4gICAgcmV0dXJuIHZhbHVlXG4gIH1cblxuICAvLyBCdWlsZCBhIGRlc3RydWN0aXZlIGl0ZXJhdG9yIGZvciB0aGUgdmFsdWUgbGlzdFxuICBmdW5jdGlvbiBpdGVyYXRvckZvcihpdGVtcykge1xuICAgIHZhciBpdGVyYXRvciA9IHtcbiAgICAgIG5leHQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgdmFsdWUgPSBpdGVtcy5zaGlmdCgpO1xuICAgICAgICByZXR1cm4ge2RvbmU6IHZhbHVlID09PSB1bmRlZmluZWQsIHZhbHVlOiB2YWx1ZX1cbiAgICAgIH1cbiAgICB9O1xuXG4gICAgaWYgKHN1cHBvcnQuaXRlcmFibGUpIHtcbiAgICAgIGl0ZXJhdG9yW1N5bWJvbC5pdGVyYXRvcl0gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIGl0ZXJhdG9yXG4gICAgICB9O1xuICAgIH1cblxuICAgIHJldHVybiBpdGVyYXRvclxuICB9XG5cbiAgZnVuY3Rpb24gSGVhZGVycyhoZWFkZXJzKSB7XG4gICAgdGhpcy5tYXAgPSB7fTtcblxuICAgIGlmIChoZWFkZXJzIGluc3RhbmNlb2YgSGVhZGVycykge1xuICAgICAgaGVhZGVycy5mb3JFYWNoKGZ1bmN0aW9uKHZhbHVlLCBuYW1lKSB7XG4gICAgICAgIHRoaXMuYXBwZW5kKG5hbWUsIHZhbHVlKTtcbiAgICAgIH0sIHRoaXMpO1xuICAgIH0gZWxzZSBpZiAoQXJyYXkuaXNBcnJheShoZWFkZXJzKSkge1xuICAgICAgaGVhZGVycy5mb3JFYWNoKGZ1bmN0aW9uKGhlYWRlcikge1xuICAgICAgICB0aGlzLmFwcGVuZChoZWFkZXJbMF0sIGhlYWRlclsxXSk7XG4gICAgICB9LCB0aGlzKTtcbiAgICB9IGVsc2UgaWYgKGhlYWRlcnMpIHtcbiAgICAgIE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKGhlYWRlcnMpLmZvckVhY2goZnVuY3Rpb24obmFtZSkge1xuICAgICAgICB0aGlzLmFwcGVuZChuYW1lLCBoZWFkZXJzW25hbWVdKTtcbiAgICAgIH0sIHRoaXMpO1xuICAgIH1cbiAgfVxuXG4gIEhlYWRlcnMucHJvdG90eXBlLmFwcGVuZCA9IGZ1bmN0aW9uKG5hbWUsIHZhbHVlKSB7XG4gICAgbmFtZSA9IG5vcm1hbGl6ZU5hbWUobmFtZSk7XG4gICAgdmFsdWUgPSBub3JtYWxpemVWYWx1ZSh2YWx1ZSk7XG4gICAgdmFyIG9sZFZhbHVlID0gdGhpcy5tYXBbbmFtZV07XG4gICAgdGhpcy5tYXBbbmFtZV0gPSBvbGRWYWx1ZSA/IG9sZFZhbHVlICsgJywgJyArIHZhbHVlIDogdmFsdWU7XG4gIH07XG5cbiAgSGVhZGVycy5wcm90b3R5cGVbJ2RlbGV0ZSddID0gZnVuY3Rpb24obmFtZSkge1xuICAgIGRlbGV0ZSB0aGlzLm1hcFtub3JtYWxpemVOYW1lKG5hbWUpXTtcbiAgfTtcblxuICBIZWFkZXJzLnByb3RvdHlwZS5nZXQgPSBmdW5jdGlvbihuYW1lKSB7XG4gICAgbmFtZSA9IG5vcm1hbGl6ZU5hbWUobmFtZSk7XG4gICAgcmV0dXJuIHRoaXMuaGFzKG5hbWUpID8gdGhpcy5tYXBbbmFtZV0gOiBudWxsXG4gIH07XG5cbiAgSGVhZGVycy5wcm90b3R5cGUuaGFzID0gZnVuY3Rpb24obmFtZSkge1xuICAgIHJldHVybiB0aGlzLm1hcC5oYXNPd25Qcm9wZXJ0eShub3JtYWxpemVOYW1lKG5hbWUpKVxuICB9O1xuXG4gIEhlYWRlcnMucHJvdG90eXBlLnNldCA9IGZ1bmN0aW9uKG5hbWUsIHZhbHVlKSB7XG4gICAgdGhpcy5tYXBbbm9ybWFsaXplTmFtZShuYW1lKV0gPSBub3JtYWxpemVWYWx1ZSh2YWx1ZSk7XG4gIH07XG5cbiAgSGVhZGVycy5wcm90b3R5cGUuZm9yRWFjaCA9IGZ1bmN0aW9uKGNhbGxiYWNrLCB0aGlzQXJnKSB7XG4gICAgZm9yICh2YXIgbmFtZSBpbiB0aGlzLm1hcCkge1xuICAgICAgaWYgKHRoaXMubWFwLmhhc093blByb3BlcnR5KG5hbWUpKSB7XG4gICAgICAgIGNhbGxiYWNrLmNhbGwodGhpc0FyZywgdGhpcy5tYXBbbmFtZV0sIG5hbWUsIHRoaXMpO1xuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICBIZWFkZXJzLnByb3RvdHlwZS5rZXlzID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIGl0ZW1zID0gW107XG4gICAgdGhpcy5mb3JFYWNoKGZ1bmN0aW9uKHZhbHVlLCBuYW1lKSB7XG4gICAgICBpdGVtcy5wdXNoKG5hbWUpO1xuICAgIH0pO1xuICAgIHJldHVybiBpdGVyYXRvckZvcihpdGVtcylcbiAgfTtcblxuICBIZWFkZXJzLnByb3RvdHlwZS52YWx1ZXMgPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgaXRlbXMgPSBbXTtcbiAgICB0aGlzLmZvckVhY2goZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgIGl0ZW1zLnB1c2godmFsdWUpO1xuICAgIH0pO1xuICAgIHJldHVybiBpdGVyYXRvckZvcihpdGVtcylcbiAgfTtcblxuICBIZWFkZXJzLnByb3RvdHlwZS5lbnRyaWVzID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIGl0ZW1zID0gW107XG4gICAgdGhpcy5mb3JFYWNoKGZ1bmN0aW9uKHZhbHVlLCBuYW1lKSB7XG4gICAgICBpdGVtcy5wdXNoKFtuYW1lLCB2YWx1ZV0pO1xuICAgIH0pO1xuICAgIHJldHVybiBpdGVyYXRvckZvcihpdGVtcylcbiAgfTtcblxuICBpZiAoc3VwcG9ydC5pdGVyYWJsZSkge1xuICAgIEhlYWRlcnMucHJvdG90eXBlW1N5bWJvbC5pdGVyYXRvcl0gPSBIZWFkZXJzLnByb3RvdHlwZS5lbnRyaWVzO1xuICB9XG5cbiAgZnVuY3Rpb24gY29uc3VtZWQoYm9keSkge1xuICAgIGlmIChib2R5LmJvZHlVc2VkKSB7XG4gICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QobmV3IFR5cGVFcnJvcignQWxyZWFkeSByZWFkJykpXG4gICAgfVxuICAgIGJvZHkuYm9keVVzZWQgPSB0cnVlO1xuICB9XG5cbiAgZnVuY3Rpb24gZmlsZVJlYWRlclJlYWR5KHJlYWRlcikge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgIHJlYWRlci5vbmxvYWQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgcmVzb2x2ZShyZWFkZXIucmVzdWx0KTtcbiAgICAgIH07XG4gICAgICByZWFkZXIub25lcnJvciA9IGZ1bmN0aW9uKCkge1xuICAgICAgICByZWplY3QocmVhZGVyLmVycm9yKTtcbiAgICAgIH07XG4gICAgfSlcbiAgfVxuXG4gIGZ1bmN0aW9uIHJlYWRCbG9iQXNBcnJheUJ1ZmZlcihibG9iKSB7XG4gICAgdmFyIHJlYWRlciA9IG5ldyBGaWxlUmVhZGVyKCk7XG4gICAgdmFyIHByb21pc2UgPSBmaWxlUmVhZGVyUmVhZHkocmVhZGVyKTtcbiAgICByZWFkZXIucmVhZEFzQXJyYXlCdWZmZXIoYmxvYik7XG4gICAgcmV0dXJuIHByb21pc2VcbiAgfVxuXG4gIGZ1bmN0aW9uIHJlYWRCbG9iQXNUZXh0KGJsb2IpIHtcbiAgICB2YXIgcmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKTtcbiAgICB2YXIgcHJvbWlzZSA9IGZpbGVSZWFkZXJSZWFkeShyZWFkZXIpO1xuICAgIHJlYWRlci5yZWFkQXNUZXh0KGJsb2IpO1xuICAgIHJldHVybiBwcm9taXNlXG4gIH1cblxuICBmdW5jdGlvbiByZWFkQXJyYXlCdWZmZXJBc1RleHQoYnVmKSB7XG4gICAgdmFyIHZpZXcgPSBuZXcgVWludDhBcnJheShidWYpO1xuICAgIHZhciBjaGFycyA9IG5ldyBBcnJheSh2aWV3Lmxlbmd0aCk7XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHZpZXcubGVuZ3RoOyBpKyspIHtcbiAgICAgIGNoYXJzW2ldID0gU3RyaW5nLmZyb21DaGFyQ29kZSh2aWV3W2ldKTtcbiAgICB9XG4gICAgcmV0dXJuIGNoYXJzLmpvaW4oJycpXG4gIH1cblxuICBmdW5jdGlvbiBidWZmZXJDbG9uZShidWYpIHtcbiAgICBpZiAoYnVmLnNsaWNlKSB7XG4gICAgICByZXR1cm4gYnVmLnNsaWNlKDApXG4gICAgfSBlbHNlIHtcbiAgICAgIHZhciB2aWV3ID0gbmV3IFVpbnQ4QXJyYXkoYnVmLmJ5dGVMZW5ndGgpO1xuICAgICAgdmlldy5zZXQobmV3IFVpbnQ4QXJyYXkoYnVmKSk7XG4gICAgICByZXR1cm4gdmlldy5idWZmZXJcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBCb2R5KCkge1xuICAgIHRoaXMuYm9keVVzZWQgPSBmYWxzZTtcblxuICAgIHRoaXMuX2luaXRCb2R5ID0gZnVuY3Rpb24oYm9keSkge1xuICAgICAgdGhpcy5fYm9keUluaXQgPSBib2R5O1xuICAgICAgaWYgKCFib2R5KSB7XG4gICAgICAgIHRoaXMuX2JvZHlUZXh0ID0gJyc7XG4gICAgICB9IGVsc2UgaWYgKHR5cGVvZiBib2R5ID09PSAnc3RyaW5nJykge1xuICAgICAgICB0aGlzLl9ib2R5VGV4dCA9IGJvZHk7XG4gICAgICB9IGVsc2UgaWYgKHN1cHBvcnQuYmxvYiAmJiBCbG9iLnByb3RvdHlwZS5pc1Byb3RvdHlwZU9mKGJvZHkpKSB7XG4gICAgICAgIHRoaXMuX2JvZHlCbG9iID0gYm9keTtcbiAgICAgIH0gZWxzZSBpZiAoc3VwcG9ydC5mb3JtRGF0YSAmJiBGb3JtRGF0YS5wcm90b3R5cGUuaXNQcm90b3R5cGVPZihib2R5KSkge1xuICAgICAgICB0aGlzLl9ib2R5Rm9ybURhdGEgPSBib2R5O1xuICAgICAgfSBlbHNlIGlmIChzdXBwb3J0LnNlYXJjaFBhcmFtcyAmJiBVUkxTZWFyY2hQYXJhbXMucHJvdG90eXBlLmlzUHJvdG90eXBlT2YoYm9keSkpIHtcbiAgICAgICAgdGhpcy5fYm9keVRleHQgPSBib2R5LnRvU3RyaW5nKCk7XG4gICAgICB9IGVsc2UgaWYgKHN1cHBvcnQuYXJyYXlCdWZmZXIgJiYgc3VwcG9ydC5ibG9iICYmIGlzRGF0YVZpZXcoYm9keSkpIHtcbiAgICAgICAgdGhpcy5fYm9keUFycmF5QnVmZmVyID0gYnVmZmVyQ2xvbmUoYm9keS5idWZmZXIpO1xuICAgICAgICAvLyBJRSAxMC0xMSBjYW4ndCBoYW5kbGUgYSBEYXRhVmlldyBib2R5LlxuICAgICAgICB0aGlzLl9ib2R5SW5pdCA9IG5ldyBCbG9iKFt0aGlzLl9ib2R5QXJyYXlCdWZmZXJdKTtcbiAgICAgIH0gZWxzZSBpZiAoc3VwcG9ydC5hcnJheUJ1ZmZlciAmJiAoQXJyYXlCdWZmZXIucHJvdG90eXBlLmlzUHJvdG90eXBlT2YoYm9keSkgfHwgaXNBcnJheUJ1ZmZlclZpZXcoYm9keSkpKSB7XG4gICAgICAgIHRoaXMuX2JvZHlBcnJheUJ1ZmZlciA9IGJ1ZmZlckNsb25lKGJvZHkpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5fYm9keVRleHQgPSBib2R5ID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGJvZHkpO1xuICAgICAgfVxuXG4gICAgICBpZiAoIXRoaXMuaGVhZGVycy5nZXQoJ2NvbnRlbnQtdHlwZScpKSB7XG4gICAgICAgIGlmICh0eXBlb2YgYm9keSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICB0aGlzLmhlYWRlcnMuc2V0KCdjb250ZW50LXR5cGUnLCAndGV4dC9wbGFpbjtjaGFyc2V0PVVURi04Jyk7XG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5fYm9keUJsb2IgJiYgdGhpcy5fYm9keUJsb2IudHlwZSkge1xuICAgICAgICAgIHRoaXMuaGVhZGVycy5zZXQoJ2NvbnRlbnQtdHlwZScsIHRoaXMuX2JvZHlCbG9iLnR5cGUpO1xuICAgICAgICB9IGVsc2UgaWYgKHN1cHBvcnQuc2VhcmNoUGFyYW1zICYmIFVSTFNlYXJjaFBhcmFtcy5wcm90b3R5cGUuaXNQcm90b3R5cGVPZihib2R5KSkge1xuICAgICAgICAgIHRoaXMuaGVhZGVycy5zZXQoJ2NvbnRlbnQtdHlwZScsICdhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQ7Y2hhcnNldD1VVEYtOCcpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfTtcblxuICAgIGlmIChzdXBwb3J0LmJsb2IpIHtcbiAgICAgIHRoaXMuYmxvYiA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgcmVqZWN0ZWQgPSBjb25zdW1lZCh0aGlzKTtcbiAgICAgICAgaWYgKHJlamVjdGVkKSB7XG4gICAgICAgICAgcmV0dXJuIHJlamVjdGVkXG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5fYm9keUJsb2IpIHtcbiAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHRoaXMuX2JvZHlCbG9iKVxuICAgICAgICB9IGVsc2UgaWYgKHRoaXMuX2JvZHlBcnJheUJ1ZmZlcikge1xuICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUobmV3IEJsb2IoW3RoaXMuX2JvZHlBcnJheUJ1ZmZlcl0pKVxuICAgICAgICB9IGVsc2UgaWYgKHRoaXMuX2JvZHlGb3JtRGF0YSkge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcignY291bGQgbm90IHJlYWQgRm9ybURhdGEgYm9keSBhcyBibG9iJylcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKG5ldyBCbG9iKFt0aGlzLl9ib2R5VGV4dF0pKVxuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICB0aGlzLmFycmF5QnVmZmVyID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmICh0aGlzLl9ib2R5QXJyYXlCdWZmZXIpIHtcbiAgICAgICAgICByZXR1cm4gY29uc3VtZWQodGhpcykgfHwgUHJvbWlzZS5yZXNvbHZlKHRoaXMuX2JvZHlBcnJheUJ1ZmZlcilcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXR1cm4gdGhpcy5ibG9iKCkudGhlbihyZWFkQmxvYkFzQXJyYXlCdWZmZXIpXG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfVxuXG4gICAgdGhpcy50ZXh0ID0gZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgcmVqZWN0ZWQgPSBjb25zdW1lZCh0aGlzKTtcbiAgICAgIGlmIChyZWplY3RlZCkge1xuICAgICAgICByZXR1cm4gcmVqZWN0ZWRcbiAgICAgIH1cblxuICAgICAgaWYgKHRoaXMuX2JvZHlCbG9iKSB7XG4gICAgICAgIHJldHVybiByZWFkQmxvYkFzVGV4dCh0aGlzLl9ib2R5QmxvYilcbiAgICAgIH0gZWxzZSBpZiAodGhpcy5fYm9keUFycmF5QnVmZmVyKSB7XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUocmVhZEFycmF5QnVmZmVyQXNUZXh0KHRoaXMuX2JvZHlBcnJheUJ1ZmZlcikpXG4gICAgICB9IGVsc2UgaWYgKHRoaXMuX2JvZHlGb3JtRGF0YSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2NvdWxkIG5vdCByZWFkIEZvcm1EYXRhIGJvZHkgYXMgdGV4dCcpXG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHRoaXMuX2JvZHlUZXh0KVxuICAgICAgfVxuICAgIH07XG5cbiAgICBpZiAoc3VwcG9ydC5mb3JtRGF0YSkge1xuICAgICAgdGhpcy5mb3JtRGF0YSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy50ZXh0KCkudGhlbihkZWNvZGUpXG4gICAgICB9O1xuICAgIH1cblxuICAgIHRoaXMuanNvbiA9IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHRoaXMudGV4dCgpLnRoZW4oSlNPTi5wYXJzZSlcbiAgICB9O1xuXG4gICAgcmV0dXJuIHRoaXNcbiAgfVxuXG4gIC8vIEhUVFAgbWV0aG9kcyB3aG9zZSBjYXBpdGFsaXphdGlvbiBzaG91bGQgYmUgbm9ybWFsaXplZFxuICB2YXIgbWV0aG9kcyA9IFsnREVMRVRFJywgJ0dFVCcsICdIRUFEJywgJ09QVElPTlMnLCAnUE9TVCcsICdQVVQnXTtcblxuICBmdW5jdGlvbiBub3JtYWxpemVNZXRob2QobWV0aG9kKSB7XG4gICAgdmFyIHVwY2FzZWQgPSBtZXRob2QudG9VcHBlckNhc2UoKTtcbiAgICByZXR1cm4gbWV0aG9kcy5pbmRleE9mKHVwY2FzZWQpID4gLTEgPyB1cGNhc2VkIDogbWV0aG9kXG4gIH1cblxuICBmdW5jdGlvbiBSZXF1ZXN0KGlucHV0LCBvcHRpb25zKSB7XG4gICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG4gICAgdmFyIGJvZHkgPSBvcHRpb25zLmJvZHk7XG5cbiAgICBpZiAoaW5wdXQgaW5zdGFuY2VvZiBSZXF1ZXN0KSB7XG4gICAgICBpZiAoaW5wdXQuYm9keVVzZWQpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignQWxyZWFkeSByZWFkJylcbiAgICAgIH1cbiAgICAgIHRoaXMudXJsID0gaW5wdXQudXJsO1xuICAgICAgdGhpcy5jcmVkZW50aWFscyA9IGlucHV0LmNyZWRlbnRpYWxzO1xuICAgICAgaWYgKCFvcHRpb25zLmhlYWRlcnMpIHtcbiAgICAgICAgdGhpcy5oZWFkZXJzID0gbmV3IEhlYWRlcnMoaW5wdXQuaGVhZGVycyk7XG4gICAgICB9XG4gICAgICB0aGlzLm1ldGhvZCA9IGlucHV0Lm1ldGhvZDtcbiAgICAgIHRoaXMubW9kZSA9IGlucHV0Lm1vZGU7XG4gICAgICB0aGlzLnNpZ25hbCA9IGlucHV0LnNpZ25hbDtcbiAgICAgIGlmICghYm9keSAmJiBpbnB1dC5fYm9keUluaXQgIT0gbnVsbCkge1xuICAgICAgICBib2R5ID0gaW5wdXQuX2JvZHlJbml0O1xuICAgICAgICBpbnB1dC5ib2R5VXNlZCA9IHRydWU7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMudXJsID0gU3RyaW5nKGlucHV0KTtcbiAgICB9XG5cbiAgICB0aGlzLmNyZWRlbnRpYWxzID0gb3B0aW9ucy5jcmVkZW50aWFscyB8fCB0aGlzLmNyZWRlbnRpYWxzIHx8ICdzYW1lLW9yaWdpbic7XG4gICAgaWYgKG9wdGlvbnMuaGVhZGVycyB8fCAhdGhpcy5oZWFkZXJzKSB7XG4gICAgICB0aGlzLmhlYWRlcnMgPSBuZXcgSGVhZGVycyhvcHRpb25zLmhlYWRlcnMpO1xuICAgIH1cbiAgICB0aGlzLm1ldGhvZCA9IG5vcm1hbGl6ZU1ldGhvZChvcHRpb25zLm1ldGhvZCB8fCB0aGlzLm1ldGhvZCB8fCAnR0VUJyk7XG4gICAgdGhpcy5tb2RlID0gb3B0aW9ucy5tb2RlIHx8IHRoaXMubW9kZSB8fCBudWxsO1xuICAgIHRoaXMuc2lnbmFsID0gb3B0aW9ucy5zaWduYWwgfHwgdGhpcy5zaWduYWw7XG4gICAgdGhpcy5yZWZlcnJlciA9IG51bGw7XG5cbiAgICBpZiAoKHRoaXMubWV0aG9kID09PSAnR0VUJyB8fCB0aGlzLm1ldGhvZCA9PT0gJ0hFQUQnKSAmJiBib2R5KSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdCb2R5IG5vdCBhbGxvd2VkIGZvciBHRVQgb3IgSEVBRCByZXF1ZXN0cycpXG4gICAgfVxuICAgIHRoaXMuX2luaXRCb2R5KGJvZHkpO1xuICB9XG5cbiAgUmVxdWVzdC5wcm90b3R5cGUuY2xvbmUgPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gbmV3IFJlcXVlc3QodGhpcywge2JvZHk6IHRoaXMuX2JvZHlJbml0fSlcbiAgfTtcblxuICBmdW5jdGlvbiBkZWNvZGUoYm9keSkge1xuICAgIHZhciBmb3JtID0gbmV3IEZvcm1EYXRhKCk7XG4gICAgYm9keVxuICAgICAgLnRyaW0oKVxuICAgICAgLnNwbGl0KCcmJylcbiAgICAgIC5mb3JFYWNoKGZ1bmN0aW9uKGJ5dGVzKSB7XG4gICAgICAgIGlmIChieXRlcykge1xuICAgICAgICAgIHZhciBzcGxpdCA9IGJ5dGVzLnNwbGl0KCc9Jyk7XG4gICAgICAgICAgdmFyIG5hbWUgPSBzcGxpdC5zaGlmdCgpLnJlcGxhY2UoL1xcKy9nLCAnICcpO1xuICAgICAgICAgIHZhciB2YWx1ZSA9IHNwbGl0LmpvaW4oJz0nKS5yZXBsYWNlKC9cXCsvZywgJyAnKTtcbiAgICAgICAgICBmb3JtLmFwcGVuZChkZWNvZGVVUklDb21wb25lbnQobmFtZSksIGRlY29kZVVSSUNvbXBvbmVudCh2YWx1ZSkpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICByZXR1cm4gZm9ybVxuICB9XG5cbiAgZnVuY3Rpb24gcGFyc2VIZWFkZXJzKHJhd0hlYWRlcnMpIHtcbiAgICB2YXIgaGVhZGVycyA9IG5ldyBIZWFkZXJzKCk7XG4gICAgLy8gUmVwbGFjZSBpbnN0YW5jZXMgb2YgXFxyXFxuIGFuZCBcXG4gZm9sbG93ZWQgYnkgYXQgbGVhc3Qgb25lIHNwYWNlIG9yIGhvcml6b250YWwgdGFiIHdpdGggYSBzcGFjZVxuICAgIC8vIGh0dHBzOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmM3MjMwI3NlY3Rpb24tMy4yXG4gICAgdmFyIHByZVByb2Nlc3NlZEhlYWRlcnMgPSByYXdIZWFkZXJzLnJlcGxhY2UoL1xccj9cXG5bXFx0IF0rL2csICcgJyk7XG4gICAgcHJlUHJvY2Vzc2VkSGVhZGVycy5zcGxpdCgvXFxyP1xcbi8pLmZvckVhY2goZnVuY3Rpb24obGluZSkge1xuICAgICAgdmFyIHBhcnRzID0gbGluZS5zcGxpdCgnOicpO1xuICAgICAgdmFyIGtleSA9IHBhcnRzLnNoaWZ0KCkudHJpbSgpO1xuICAgICAgaWYgKGtleSkge1xuICAgICAgICB2YXIgdmFsdWUgPSBwYXJ0cy5qb2luKCc6JykudHJpbSgpO1xuICAgICAgICBoZWFkZXJzLmFwcGVuZChrZXksIHZhbHVlKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gaGVhZGVyc1xuICB9XG5cbiAgQm9keS5jYWxsKFJlcXVlc3QucHJvdG90eXBlKTtcblxuICBmdW5jdGlvbiBSZXNwb25zZShib2R5SW5pdCwgb3B0aW9ucykge1xuICAgIGlmICghb3B0aW9ucykge1xuICAgICAgb3B0aW9ucyA9IHt9O1xuICAgIH1cblxuICAgIHRoaXMudHlwZSA9ICdkZWZhdWx0JztcbiAgICB0aGlzLnN0YXR1cyA9IG9wdGlvbnMuc3RhdHVzID09PSB1bmRlZmluZWQgPyAyMDAgOiBvcHRpb25zLnN0YXR1cztcbiAgICB0aGlzLm9rID0gdGhpcy5zdGF0dXMgPj0gMjAwICYmIHRoaXMuc3RhdHVzIDwgMzAwO1xuICAgIHRoaXMuc3RhdHVzVGV4dCA9ICdzdGF0dXNUZXh0JyBpbiBvcHRpb25zID8gb3B0aW9ucy5zdGF0dXNUZXh0IDogJ09LJztcbiAgICB0aGlzLmhlYWRlcnMgPSBuZXcgSGVhZGVycyhvcHRpb25zLmhlYWRlcnMpO1xuICAgIHRoaXMudXJsID0gb3B0aW9ucy51cmwgfHwgJyc7XG4gICAgdGhpcy5faW5pdEJvZHkoYm9keUluaXQpO1xuICB9XG5cbiAgQm9keS5jYWxsKFJlc3BvbnNlLnByb3RvdHlwZSk7XG5cbiAgUmVzcG9uc2UucHJvdG90eXBlLmNsb25lID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIG5ldyBSZXNwb25zZSh0aGlzLl9ib2R5SW5pdCwge1xuICAgICAgc3RhdHVzOiB0aGlzLnN0YXR1cyxcbiAgICAgIHN0YXR1c1RleHQ6IHRoaXMuc3RhdHVzVGV4dCxcbiAgICAgIGhlYWRlcnM6IG5ldyBIZWFkZXJzKHRoaXMuaGVhZGVycyksXG4gICAgICB1cmw6IHRoaXMudXJsXG4gICAgfSlcbiAgfTtcblxuICBSZXNwb25zZS5lcnJvciA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciByZXNwb25zZSA9IG5ldyBSZXNwb25zZShudWxsLCB7c3RhdHVzOiAwLCBzdGF0dXNUZXh0OiAnJ30pO1xuICAgIHJlc3BvbnNlLnR5cGUgPSAnZXJyb3InO1xuICAgIHJldHVybiByZXNwb25zZVxuICB9O1xuXG4gIHZhciByZWRpcmVjdFN0YXR1c2VzID0gWzMwMSwgMzAyLCAzMDMsIDMwNywgMzA4XTtcblxuICBSZXNwb25zZS5yZWRpcmVjdCA9IGZ1bmN0aW9uKHVybCwgc3RhdHVzKSB7XG4gICAgaWYgKHJlZGlyZWN0U3RhdHVzZXMuaW5kZXhPZihzdGF0dXMpID09PSAtMSkge1xuICAgICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ0ludmFsaWQgc3RhdHVzIGNvZGUnKVxuICAgIH1cblxuICAgIHJldHVybiBuZXcgUmVzcG9uc2UobnVsbCwge3N0YXR1czogc3RhdHVzLCBoZWFkZXJzOiB7bG9jYXRpb246IHVybH19KVxuICB9O1xuXG4gIGV4cG9ydHMuRE9NRXhjZXB0aW9uID0gc2VsZi5ET01FeGNlcHRpb247XG4gIHRyeSB7XG4gICAgbmV3IGV4cG9ydHMuRE9NRXhjZXB0aW9uKCk7XG4gIH0gY2F0Y2ggKGVycikge1xuICAgIGV4cG9ydHMuRE9NRXhjZXB0aW9uID0gZnVuY3Rpb24obWVzc2FnZSwgbmFtZSkge1xuICAgICAgdGhpcy5tZXNzYWdlID0gbWVzc2FnZTtcbiAgICAgIHRoaXMubmFtZSA9IG5hbWU7XG4gICAgICB2YXIgZXJyb3IgPSBFcnJvcihtZXNzYWdlKTtcbiAgICAgIHRoaXMuc3RhY2sgPSBlcnJvci5zdGFjaztcbiAgICB9O1xuICAgIGV4cG9ydHMuRE9NRXhjZXB0aW9uLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoRXJyb3IucHJvdG90eXBlKTtcbiAgICBleHBvcnRzLkRPTUV4Y2VwdGlvbi5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBleHBvcnRzLkRPTUV4Y2VwdGlvbjtcbiAgfVxuXG4gIGZ1bmN0aW9uIGZldGNoKGlucHV0LCBpbml0KSB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgdmFyIHJlcXVlc3QgPSBuZXcgUmVxdWVzdChpbnB1dCwgaW5pdCk7XG5cbiAgICAgIGlmIChyZXF1ZXN0LnNpZ25hbCAmJiByZXF1ZXN0LnNpZ25hbC5hYm9ydGVkKSB7XG4gICAgICAgIHJldHVybiByZWplY3QobmV3IGV4cG9ydHMuRE9NRXhjZXB0aW9uKCdBYm9ydGVkJywgJ0Fib3J0RXJyb3InKSlcbiAgICAgIH1cblxuICAgICAgdmFyIHhociA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xuXG4gICAgICBmdW5jdGlvbiBhYm9ydFhocigpIHtcbiAgICAgICAgeGhyLmFib3J0KCk7XG4gICAgICB9XG5cbiAgICAgIHhoci5vbmxvYWQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIG9wdGlvbnMgPSB7XG4gICAgICAgICAgc3RhdHVzOiB4aHIuc3RhdHVzLFxuICAgICAgICAgIHN0YXR1c1RleHQ6IHhoci5zdGF0dXNUZXh0LFxuICAgICAgICAgIGhlYWRlcnM6IHBhcnNlSGVhZGVycyh4aHIuZ2V0QWxsUmVzcG9uc2VIZWFkZXJzKCkgfHwgJycpXG4gICAgICAgIH07XG4gICAgICAgIG9wdGlvbnMudXJsID0gJ3Jlc3BvbnNlVVJMJyBpbiB4aHIgPyB4aHIucmVzcG9uc2VVUkwgOiBvcHRpb25zLmhlYWRlcnMuZ2V0KCdYLVJlcXVlc3QtVVJMJyk7XG4gICAgICAgIHZhciBib2R5ID0gJ3Jlc3BvbnNlJyBpbiB4aHIgPyB4aHIucmVzcG9uc2UgOiB4aHIucmVzcG9uc2VUZXh0O1xuICAgICAgICByZXNvbHZlKG5ldyBSZXNwb25zZShib2R5LCBvcHRpb25zKSk7XG4gICAgICB9O1xuXG4gICAgICB4aHIub25lcnJvciA9IGZ1bmN0aW9uKCkge1xuICAgICAgICByZWplY3QobmV3IFR5cGVFcnJvcignTmV0d29yayByZXF1ZXN0IGZhaWxlZCcpKTtcbiAgICAgIH07XG5cbiAgICAgIHhoci5vbnRpbWVvdXQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgcmVqZWN0KG5ldyBUeXBlRXJyb3IoJ05ldHdvcmsgcmVxdWVzdCBmYWlsZWQnKSk7XG4gICAgICB9O1xuXG4gICAgICB4aHIub25hYm9ydCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICByZWplY3QobmV3IGV4cG9ydHMuRE9NRXhjZXB0aW9uKCdBYm9ydGVkJywgJ0Fib3J0RXJyb3InKSk7XG4gICAgICB9O1xuXG4gICAgICB4aHIub3BlbihyZXF1ZXN0Lm1ldGhvZCwgcmVxdWVzdC51cmwsIHRydWUpO1xuXG4gICAgICBpZiAocmVxdWVzdC5jcmVkZW50aWFscyA9PT0gJ2luY2x1ZGUnKSB7XG4gICAgICAgIHhoci53aXRoQ3JlZGVudGlhbHMgPSB0cnVlO1xuICAgICAgfSBlbHNlIGlmIChyZXF1ZXN0LmNyZWRlbnRpYWxzID09PSAnb21pdCcpIHtcbiAgICAgICAgeGhyLndpdGhDcmVkZW50aWFscyA9IGZhbHNlO1xuICAgICAgfVxuXG4gICAgICBpZiAoJ3Jlc3BvbnNlVHlwZScgaW4geGhyICYmIHN1cHBvcnQuYmxvYikge1xuICAgICAgICB4aHIucmVzcG9uc2VUeXBlID0gJ2Jsb2InO1xuICAgICAgfVxuXG4gICAgICByZXF1ZXN0LmhlYWRlcnMuZm9yRWFjaChmdW5jdGlvbih2YWx1ZSwgbmFtZSkge1xuICAgICAgICB4aHIuc2V0UmVxdWVzdEhlYWRlcihuYW1lLCB2YWx1ZSk7XG4gICAgICB9KTtcblxuICAgICAgaWYgKHJlcXVlc3Quc2lnbmFsKSB7XG4gICAgICAgIHJlcXVlc3Quc2lnbmFsLmFkZEV2ZW50TGlzdGVuZXIoJ2Fib3J0JywgYWJvcnRYaHIpO1xuXG4gICAgICAgIHhoci5vbnJlYWR5c3RhdGVjaGFuZ2UgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAvLyBET05FIChzdWNjZXNzIG9yIGZhaWx1cmUpXG4gICAgICAgICAgaWYgKHhoci5yZWFkeVN0YXRlID09PSA0KSB7XG4gICAgICAgICAgICByZXF1ZXN0LnNpZ25hbC5yZW1vdmVFdmVudExpc3RlbmVyKCdhYm9ydCcsIGFib3J0WGhyKTtcbiAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICB9XG5cbiAgICAgIHhoci5zZW5kKHR5cGVvZiByZXF1ZXN0Ll9ib2R5SW5pdCA9PT0gJ3VuZGVmaW5lZCcgPyBudWxsIDogcmVxdWVzdC5fYm9keUluaXQpO1xuICAgIH0pXG4gIH1cblxuICBmZXRjaC5wb2x5ZmlsbCA9IHRydWU7XG5cbiAgaWYgKCFzZWxmLmZldGNoKSB7XG4gICAgc2VsZi5mZXRjaCA9IGZldGNoO1xuICAgIHNlbGYuSGVhZGVycyA9IEhlYWRlcnM7XG4gICAgc2VsZi5SZXF1ZXN0ID0gUmVxdWVzdDtcbiAgICBzZWxmLlJlc3BvbnNlID0gUmVzcG9uc2U7XG4gIH1cblxuICBleHBvcnRzLkhlYWRlcnMgPSBIZWFkZXJzO1xuICBleHBvcnRzLlJlcXVlc3QgPSBSZXF1ZXN0O1xuICBleHBvcnRzLlJlc3BvbnNlID0gUmVzcG9uc2U7XG4gIGV4cG9ydHMuZmV0Y2ggPSBmZXRjaDtcblxuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuXG4gIHJldHVybiBleHBvcnRzO1xuXG59KSh7fSk7XG59KShfX3NlbGZfXyk7XG5fX3NlbGZfXy5mZXRjaC5wb255ZmlsbCA9IHRydWU7XG4vLyBSZW1vdmUgXCJwb2x5ZmlsbFwiIHByb3BlcnR5IGFkZGVkIGJ5IHdoYXR3Zy1mZXRjaFxuZGVsZXRlIF9fc2VsZl9fLmZldGNoLnBvbHlmaWxsO1xuLy8gQ2hvb3NlIGJldHdlZW4gbmF0aXZlIGltcGxlbWVudGF0aW9uIChnbG9iYWwpIG9yIGN1c3RvbSBpbXBsZW1lbnRhdGlvbiAoX19zZWxmX18pXG4vLyB2YXIgY3R4ID0gZ2xvYmFsLmZldGNoID8gZ2xvYmFsIDogX19zZWxmX187XG52YXIgY3R4ID0gX19zZWxmX187IC8vIHRoaXMgbGluZSBkaXNhYmxlIHNlcnZpY2Ugd29ya2VyIHN1cHBvcnQgdGVtcG9yYXJpbHlcbmV4cG9ydHMgPSBjdHguZmV0Y2ggLy8gVG8gZW5hYmxlOiBpbXBvcnQgZmV0Y2ggZnJvbSAnY3Jvc3MtZmV0Y2gnXG5leHBvcnRzLmRlZmF1bHQgPSBjdHguZmV0Y2ggLy8gRm9yIFR5cGVTY3JpcHQgY29uc3VtZXJzIHdpdGhvdXQgZXNNb2R1bGVJbnRlcm9wLlxuZXhwb3J0cy5mZXRjaCA9IGN0eC5mZXRjaCAvLyBUbyBlbmFibGU6IGltcG9ydCB7ZmV0Y2h9IGZyb20gJ2Nyb3NzLWZldGNoJ1xuZXhwb3J0cy5IZWFkZXJzID0gY3R4LkhlYWRlcnNcbmV4cG9ydHMuUmVxdWVzdCA9IGN0eC5SZXF1ZXN0XG5leHBvcnRzLlJlc3BvbnNlID0gY3R4LlJlc3BvbnNlXG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNcbiIsICIndXNlIHN0cmljdCc7XG5cbnZhciBpc01lcmdlYWJsZU9iamVjdCA9IGZ1bmN0aW9uIGlzTWVyZ2VhYmxlT2JqZWN0KHZhbHVlKSB7XG5cdHJldHVybiBpc05vbk51bGxPYmplY3QodmFsdWUpXG5cdFx0JiYgIWlzU3BlY2lhbCh2YWx1ZSlcbn07XG5cbmZ1bmN0aW9uIGlzTm9uTnVsbE9iamVjdCh2YWx1ZSkge1xuXHRyZXR1cm4gISF2YWx1ZSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnXG59XG5cbmZ1bmN0aW9uIGlzU3BlY2lhbCh2YWx1ZSkge1xuXHR2YXIgc3RyaW5nVmFsdWUgPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwodmFsdWUpO1xuXG5cdHJldHVybiBzdHJpbmdWYWx1ZSA9PT0gJ1tvYmplY3QgUmVnRXhwXSdcblx0XHR8fCBzdHJpbmdWYWx1ZSA9PT0gJ1tvYmplY3QgRGF0ZV0nXG5cdFx0fHwgaXNSZWFjdEVsZW1lbnQodmFsdWUpXG59XG5cbi8vIHNlZSBodHRwczovL2dpdGh1Yi5jb20vZmFjZWJvb2svcmVhY3QvYmxvYi9iNWFjOTYzZmI3OTFkMTI5OGU3ZjM5NjIzNjM4M2JjOTU1ZjkxNmMxL3NyYy9pc29tb3JwaGljL2NsYXNzaWMvZWxlbWVudC9SZWFjdEVsZW1lbnQuanMjTDIxLUwyNVxudmFyIGNhblVzZVN5bWJvbCA9IHR5cGVvZiBTeW1ib2wgPT09ICdmdW5jdGlvbicgJiYgU3ltYm9sLmZvcjtcbnZhciBSRUFDVF9FTEVNRU5UX1RZUEUgPSBjYW5Vc2VTeW1ib2wgPyBTeW1ib2wuZm9yKCdyZWFjdC5lbGVtZW50JykgOiAweGVhYzc7XG5cbmZ1bmN0aW9uIGlzUmVhY3RFbGVtZW50KHZhbHVlKSB7XG5cdHJldHVybiB2YWx1ZS4kJHR5cGVvZiA9PT0gUkVBQ1RfRUxFTUVOVF9UWVBFXG59XG5cbmZ1bmN0aW9uIGVtcHR5VGFyZ2V0KHZhbCkge1xuXHRyZXR1cm4gQXJyYXkuaXNBcnJheSh2YWwpID8gW10gOiB7fVxufVxuXG5mdW5jdGlvbiBjbG9uZVVubGVzc090aGVyd2lzZVNwZWNpZmllZCh2YWx1ZSwgb3B0aW9ucykge1xuXHRyZXR1cm4gKG9wdGlvbnMuY2xvbmUgIT09IGZhbHNlICYmIG9wdGlvbnMuaXNNZXJnZWFibGVPYmplY3QodmFsdWUpKVxuXHRcdD8gZGVlcG1lcmdlKGVtcHR5VGFyZ2V0KHZhbHVlKSwgdmFsdWUsIG9wdGlvbnMpXG5cdFx0OiB2YWx1ZVxufVxuXG5mdW5jdGlvbiBkZWZhdWx0QXJyYXlNZXJnZSh0YXJnZXQsIHNvdXJjZSwgb3B0aW9ucykge1xuXHRyZXR1cm4gdGFyZ2V0LmNvbmNhdChzb3VyY2UpLm1hcChmdW5jdGlvbihlbGVtZW50KSB7XG5cdFx0cmV0dXJuIGNsb25lVW5sZXNzT3RoZXJ3aXNlU3BlY2lmaWVkKGVsZW1lbnQsIG9wdGlvbnMpXG5cdH0pXG59XG5cbmZ1bmN0aW9uIGdldE1lcmdlRnVuY3Rpb24oa2V5LCBvcHRpb25zKSB7XG5cdGlmICghb3B0aW9ucy5jdXN0b21NZXJnZSkge1xuXHRcdHJldHVybiBkZWVwbWVyZ2Vcblx0fVxuXHR2YXIgY3VzdG9tTWVyZ2UgPSBvcHRpb25zLmN1c3RvbU1lcmdlKGtleSk7XG5cdHJldHVybiB0eXBlb2YgY3VzdG9tTWVyZ2UgPT09ICdmdW5jdGlvbicgPyBjdXN0b21NZXJnZSA6IGRlZXBtZXJnZVxufVxuXG5mdW5jdGlvbiBnZXRFbnVtZXJhYmxlT3duUHJvcGVydHlTeW1ib2xzKHRhcmdldCkge1xuXHRyZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9sc1xuXHRcdD8gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyh0YXJnZXQpLmZpbHRlcihmdW5jdGlvbihzeW1ib2wpIHtcblx0XHRcdHJldHVybiBPYmplY3QucHJvcGVydHlJc0VudW1lcmFibGUuY2FsbCh0YXJnZXQsIHN5bWJvbClcblx0XHR9KVxuXHRcdDogW11cbn1cblxuZnVuY3Rpb24gZ2V0S2V5cyh0YXJnZXQpIHtcblx0cmV0dXJuIE9iamVjdC5rZXlzKHRhcmdldCkuY29uY2F0KGdldEVudW1lcmFibGVPd25Qcm9wZXJ0eVN5bWJvbHModGFyZ2V0KSlcbn1cblxuZnVuY3Rpb24gcHJvcGVydHlJc09uT2JqZWN0KG9iamVjdCwgcHJvcGVydHkpIHtcblx0dHJ5IHtcblx0XHRyZXR1cm4gcHJvcGVydHkgaW4gb2JqZWN0XG5cdH0gY2F0Y2goXykge1xuXHRcdHJldHVybiBmYWxzZVxuXHR9XG59XG5cbi8vIFByb3RlY3RzIGZyb20gcHJvdG90eXBlIHBvaXNvbmluZyBhbmQgdW5leHBlY3RlZCBtZXJnaW5nIHVwIHRoZSBwcm90b3R5cGUgY2hhaW4uXG5mdW5jdGlvbiBwcm9wZXJ0eUlzVW5zYWZlKHRhcmdldCwga2V5KSB7XG5cdHJldHVybiBwcm9wZXJ0eUlzT25PYmplY3QodGFyZ2V0LCBrZXkpIC8vIFByb3BlcnRpZXMgYXJlIHNhZmUgdG8gbWVyZ2UgaWYgdGhleSBkb24ndCBleGlzdCBpbiB0aGUgdGFyZ2V0IHlldCxcblx0XHQmJiAhKE9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKHRhcmdldCwga2V5KSAvLyB1bnNhZmUgaWYgdGhleSBleGlzdCB1cCB0aGUgcHJvdG90eXBlIGNoYWluLFxuXHRcdFx0JiYgT2JqZWN0LnByb3BlcnR5SXNFbnVtZXJhYmxlLmNhbGwodGFyZ2V0LCBrZXkpKSAvLyBhbmQgYWxzbyB1bnNhZmUgaWYgdGhleSdyZSBub25lbnVtZXJhYmxlLlxufVxuXG5mdW5jdGlvbiBtZXJnZU9iamVjdCh0YXJnZXQsIHNvdXJjZSwgb3B0aW9ucykge1xuXHR2YXIgZGVzdGluYXRpb24gPSB7fTtcblx0aWYgKG9wdGlvbnMuaXNNZXJnZWFibGVPYmplY3QodGFyZ2V0KSkge1xuXHRcdGdldEtleXModGFyZ2V0KS5mb3JFYWNoKGZ1bmN0aW9uKGtleSkge1xuXHRcdFx0ZGVzdGluYXRpb25ba2V5XSA9IGNsb25lVW5sZXNzT3RoZXJ3aXNlU3BlY2lmaWVkKHRhcmdldFtrZXldLCBvcHRpb25zKTtcblx0XHR9KTtcblx0fVxuXHRnZXRLZXlzKHNvdXJjZSkuZm9yRWFjaChmdW5jdGlvbihrZXkpIHtcblx0XHRpZiAocHJvcGVydHlJc1Vuc2FmZSh0YXJnZXQsIGtleSkpIHtcblx0XHRcdHJldHVyblxuXHRcdH1cblxuXHRcdGlmIChwcm9wZXJ0eUlzT25PYmplY3QodGFyZ2V0LCBrZXkpICYmIG9wdGlvbnMuaXNNZXJnZWFibGVPYmplY3Qoc291cmNlW2tleV0pKSB7XG5cdFx0XHRkZXN0aW5hdGlvbltrZXldID0gZ2V0TWVyZ2VGdW5jdGlvbihrZXksIG9wdGlvbnMpKHRhcmdldFtrZXldLCBzb3VyY2Vba2V5XSwgb3B0aW9ucyk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdGRlc3RpbmF0aW9uW2tleV0gPSBjbG9uZVVubGVzc090aGVyd2lzZVNwZWNpZmllZChzb3VyY2Vba2V5XSwgb3B0aW9ucyk7XG5cdFx0fVxuXHR9KTtcblx0cmV0dXJuIGRlc3RpbmF0aW9uXG59XG5cbmZ1bmN0aW9uIGRlZXBtZXJnZSh0YXJnZXQsIHNvdXJjZSwgb3B0aW9ucykge1xuXHRvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcblx0b3B0aW9ucy5hcnJheU1lcmdlID0gb3B0aW9ucy5hcnJheU1lcmdlIHx8IGRlZmF1bHRBcnJheU1lcmdlO1xuXHRvcHRpb25zLmlzTWVyZ2VhYmxlT2JqZWN0ID0gb3B0aW9ucy5pc01lcmdlYWJsZU9iamVjdCB8fCBpc01lcmdlYWJsZU9iamVjdDtcblx0Ly8gY2xvbmVVbmxlc3NPdGhlcndpc2VTcGVjaWZpZWQgaXMgYWRkZWQgdG8gYG9wdGlvbnNgIHNvIHRoYXQgY3VzdG9tIGFycmF5TWVyZ2UoKVxuXHQvLyBpbXBsZW1lbnRhdGlvbnMgY2FuIHVzZSBpdC4gVGhlIGNhbGxlciBtYXkgbm90IHJlcGxhY2UgaXQuXG5cdG9wdGlvbnMuY2xvbmVVbmxlc3NPdGhlcndpc2VTcGVjaWZpZWQgPSBjbG9uZVVubGVzc090aGVyd2lzZVNwZWNpZmllZDtcblxuXHR2YXIgc291cmNlSXNBcnJheSA9IEFycmF5LmlzQXJyYXkoc291cmNlKTtcblx0dmFyIHRhcmdldElzQXJyYXkgPSBBcnJheS5pc0FycmF5KHRhcmdldCk7XG5cdHZhciBzb3VyY2VBbmRUYXJnZXRUeXBlc01hdGNoID0gc291cmNlSXNBcnJheSA9PT0gdGFyZ2V0SXNBcnJheTtcblxuXHRpZiAoIXNvdXJjZUFuZFRhcmdldFR5cGVzTWF0Y2gpIHtcblx0XHRyZXR1cm4gY2xvbmVVbmxlc3NPdGhlcndpc2VTcGVjaWZpZWQoc291cmNlLCBvcHRpb25zKVxuXHR9IGVsc2UgaWYgKHNvdXJjZUlzQXJyYXkpIHtcblx0XHRyZXR1cm4gb3B0aW9ucy5hcnJheU1lcmdlKHRhcmdldCwgc291cmNlLCBvcHRpb25zKVxuXHR9IGVsc2Uge1xuXHRcdHJldHVybiBtZXJnZU9iamVjdCh0YXJnZXQsIHNvdXJjZSwgb3B0aW9ucylcblx0fVxufVxuXG5kZWVwbWVyZ2UuYWxsID0gZnVuY3Rpb24gZGVlcG1lcmdlQWxsKGFycmF5LCBvcHRpb25zKSB7XG5cdGlmICghQXJyYXkuaXNBcnJheShhcnJheSkpIHtcblx0XHR0aHJvdyBuZXcgRXJyb3IoJ2ZpcnN0IGFyZ3VtZW50IHNob3VsZCBiZSBhbiBhcnJheScpXG5cdH1cblxuXHRyZXR1cm4gYXJyYXkucmVkdWNlKGZ1bmN0aW9uKHByZXYsIG5leHQpIHtcblx0XHRyZXR1cm4gZGVlcG1lcmdlKHByZXYsIG5leHQsIG9wdGlvbnMpXG5cdH0sIHt9KVxufTtcblxudmFyIGRlZXBtZXJnZV8xID0gZGVlcG1lcmdlO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGRlZXBtZXJnZV8xO1xuIiwgInZhciBuYWl2ZUZhbGxiYWNrID0gZnVuY3Rpb24gKCkge1xuXHRpZiAodHlwZW9mIHNlbGYgPT09IFwib2JqZWN0XCIgJiYgc2VsZikgcmV0dXJuIHNlbGY7XG5cdGlmICh0eXBlb2Ygd2luZG93ID09PSBcIm9iamVjdFwiICYmIHdpbmRvdykgcmV0dXJuIHdpbmRvdztcblx0dGhyb3cgbmV3IEVycm9yKFwiVW5hYmxlIHRvIHJlc29sdmUgZ2xvYmFsIGB0aGlzYFwiKTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gKGZ1bmN0aW9uICgpIHtcblx0aWYgKHRoaXMpIHJldHVybiB0aGlzO1xuXG5cdC8vIFVuZXhwZWN0ZWQgc3RyaWN0IG1vZGUgKG1heSBoYXBwZW4gaWYgZS5nLiBidW5kbGVkIGludG8gRVNNIG1vZHVsZSlcblxuXHQvLyBGYWxsYmFjayB0byBzdGFuZGFyZCBnbG9iYWxUaGlzIGlmIGF2YWlsYWJsZVxuXHRpZiAodHlwZW9mIGdsb2JhbFRoaXMgPT09IFwib2JqZWN0XCIgJiYgZ2xvYmFsVGhpcykgcmV0dXJuIGdsb2JhbFRoaXM7XG5cblx0Ly8gVGhhbmtzIEBtYXRoaWFzYnluZW5zIC0+IGh0dHBzOi8vbWF0aGlhc2J5bmVucy5iZS9ub3Rlcy9nbG9iYWx0aGlzXG5cdC8vIEluIGFsbCBFUzUrIGVuZ2luZXMgZ2xvYmFsIG9iamVjdCBpbmhlcml0cyBmcm9tIE9iamVjdC5wcm90b3R5cGVcblx0Ly8gKGlmIHlvdSBhcHByb2FjaGVkIG9uZSB0aGF0IGRvZXNuJ3QgcGxlYXNlIHJlcG9ydClcblx0dHJ5IHtcblx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoT2JqZWN0LnByb3RvdHlwZSwgXCJfX2dsb2JhbF9fXCIsIHtcblx0XHRcdGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpczsgfSxcblx0XHRcdGNvbmZpZ3VyYWJsZTogdHJ1ZVxuXHRcdH0pO1xuXHR9IGNhdGNoIChlcnJvcikge1xuXHRcdC8vIFVuZm9ydHVuYXRlIGNhc2Ugb2YgdXBkYXRlcyB0byBPYmplY3QucHJvdG90eXBlIGJlaW5nIHJlc3RyaWN0ZWRcblx0XHQvLyB2aWEgcHJldmVudEV4dGVuc2lvbnMsIHNlYWwgb3IgZnJlZXplXG5cdFx0cmV0dXJuIG5haXZlRmFsbGJhY2soKTtcblx0fVxuXHR0cnkge1xuXHRcdC8vIFNhZmFyaSBjYXNlICh3aW5kb3cuX19nbG9iYWxfXyB3b3JrcywgYnV0IF9fZ2xvYmFsX18gZG9lcyBub3QpXG5cdFx0aWYgKCFfX2dsb2JhbF9fKSByZXR1cm4gbmFpdmVGYWxsYmFjaygpO1xuXHRcdHJldHVybiBfX2dsb2JhbF9fO1xuXHR9IGZpbmFsbHkge1xuXHRcdGRlbGV0ZSBPYmplY3QucHJvdG90eXBlLl9fZ2xvYmFsX187XG5cdH1cbn0pKCk7XG4iLCAie1xuICBcIl9mcm9tXCI6IFwid2Vic29ja2V0QF4xLjAuMzRcIixcbiAgXCJfaWRcIjogXCJ3ZWJzb2NrZXRAMS4wLjM0XCIsXG4gIFwiX2luQnVuZGxlXCI6IGZhbHNlLFxuICBcIl9pbnRlZ3JpdHlcIjogXCJzaGE1MTItUFJEc28yc0d3RjZrTTc1UXlrSWVzQmlqS1NWY2VSNmpMMkc4TkdZeXEyWHJJdE5DMlA1L3FMNVhlUjA1NkdoQStMeTdKTUZ2SmI5STMxMm1KZm1xblE9PVwiLFxuICBcIl9sb2NhdGlvblwiOiBcIi93ZWJzb2NrZXRcIixcbiAgXCJfcGhhbnRvbUNoaWxkcmVuXCI6IHt9LFxuICBcIl9yZXF1ZXN0ZWRcIjoge1xuICAgIFwidHlwZVwiOiBcInJhbmdlXCIsXG4gICAgXCJyZWdpc3RyeVwiOiB0cnVlLFxuICAgIFwicmF3XCI6IFwid2Vic29ja2V0QF4xLjAuMzRcIixcbiAgICBcIm5hbWVcIjogXCJ3ZWJzb2NrZXRcIixcbiAgICBcImVzY2FwZWROYW1lXCI6IFwid2Vic29ja2V0XCIsXG4gICAgXCJyYXdTcGVjXCI6IFwiXjEuMC4zNFwiLFxuICAgIFwic2F2ZVNwZWNcIjogbnVsbCxcbiAgICBcImZldGNoU3BlY1wiOiBcIl4xLjAuMzRcIlxuICB9LFxuICBcIl9yZXF1aXJlZEJ5XCI6IFtcbiAgICBcIi9AZGVlcGdyYW0vc2RrXCJcbiAgXSxcbiAgXCJfcmVzb2x2ZWRcIjogXCJodHRwczovL3JlZ2lzdHJ5Lm5wbWpzLm9yZy93ZWJzb2NrZXQvLS93ZWJzb2NrZXQtMS4wLjM0LnRnelwiLFxuICBcIl9zaGFzdW1cIjogXCIyYmRjMjYwMmMwOGJmMmM4MjI1M2I3MzA2NTVjMGVmN2RjYWIzMTExXCIsXG4gIFwiX3NwZWNcIjogXCJ3ZWJzb2NrZXRAXjEuMC4zNFwiLFxuICBcIl93aGVyZVwiOiBcIi9Vc2Vycy9zYW1mYXJyYXIvRG9jdW1lbnRzL3RyYW5zY3JpcHRpb25fdGVzdC9kZWVwZ3JhbS10cmFuc2NyaXB0aW9uL25vZGVfbW9kdWxlcy9AZGVlcGdyYW0vc2RrXCIsXG4gIFwiYXV0aG9yXCI6IHtcbiAgICBcIm5hbWVcIjogXCJCcmlhbiBNY0tlbHZleVwiLFxuICAgIFwiZW1haWxcIjogXCJ0aGV0dXJ0bGUzMkBnbWFpbC5jb21cIixcbiAgICBcInVybFwiOiBcImh0dHBzOi8vZ2l0aHViLmNvbS90aGV0dXJ0bGUzMlwiXG4gIH0sXG4gIFwiYnJvd3NlclwiOiBcImxpYi9icm93c2VyLmpzXCIsXG4gIFwiYnVnc1wiOiB7XG4gICAgXCJ1cmxcIjogXCJodHRwczovL2dpdGh1Yi5jb20vdGhldHVydGxlMzIvV2ViU29ja2V0LU5vZGUvaXNzdWVzXCJcbiAgfSxcbiAgXCJidW5kbGVEZXBlbmRlbmNpZXNcIjogZmFsc2UsXG4gIFwiY29uZmlnXCI6IHtcbiAgICBcInZlcmJvc2VcIjogZmFsc2VcbiAgfSxcbiAgXCJjb250cmlidXRvcnNcIjogW1xuICAgIHtcbiAgICAgIFwibmFtZVwiOiBcIklcdTAwRjFha2kgQmF6IENhc3RpbGxvXCIsXG4gICAgICBcImVtYWlsXCI6IFwiaWJjQGFsaWF4Lm5ldFwiLFxuICAgICAgXCJ1cmxcIjogXCJodHRwOi8vZGV2LnNpcGRvYy5uZXRcIlxuICAgIH1cbiAgXSxcbiAgXCJkZXBlbmRlbmNpZXNcIjoge1xuICAgIFwiYnVmZmVydXRpbFwiOiBcIl40LjAuMVwiLFxuICAgIFwiZGVidWdcIjogXCJeMi4yLjBcIixcbiAgICBcImVzNS1leHRcIjogXCJeMC4xMC41MFwiLFxuICAgIFwidHlwZWRhcnJheS10by1idWZmZXJcIjogXCJeMy4xLjVcIixcbiAgICBcInV0Zi04LXZhbGlkYXRlXCI6IFwiXjUuMC4yXCIsXG4gICAgXCJ5YWV0aVwiOiBcIl4wLjAuNlwiXG4gIH0sXG4gIFwiZGVwcmVjYXRlZFwiOiBmYWxzZSxcbiAgXCJkZXNjcmlwdGlvblwiOiBcIldlYnNvY2tldCBDbGllbnQgJiBTZXJ2ZXIgTGlicmFyeSBpbXBsZW1lbnRpbmcgdGhlIFdlYlNvY2tldCBwcm90b2NvbCBhcyBzcGVjaWZpZWQgaW4gUkZDIDY0NTUuXCIsXG4gIFwiZGV2RGVwZW5kZW5jaWVzXCI6IHtcbiAgICBcImJ1ZmZlci1lcXVhbFwiOiBcIl4xLjAuMFwiLFxuICAgIFwiZ3VscFwiOiBcIl40LjAuMlwiLFxuICAgIFwiZ3VscC1qc2hpbnRcIjogXCJeMi4wLjRcIixcbiAgICBcImpzaGludFwiOiBcIl4yLjAuMFwiLFxuICAgIFwianNoaW50LXN0eWxpc2hcIjogXCJeMi4yLjFcIixcbiAgICBcInRhcGVcIjogXCJeNC45LjFcIlxuICB9LFxuICBcImRpcmVjdG9yaWVzXCI6IHtcbiAgICBcImxpYlwiOiBcIi4vbGliXCJcbiAgfSxcbiAgXCJlbmdpbmVzXCI6IHtcbiAgICBcIm5vZGVcIjogXCI+PTQuMC4wXCJcbiAgfSxcbiAgXCJob21lcGFnZVwiOiBcImh0dHBzOi8vZ2l0aHViLmNvbS90aGV0dXJ0bGUzMi9XZWJTb2NrZXQtTm9kZVwiLFxuICBcImtleXdvcmRzXCI6IFtcbiAgICBcIndlYnNvY2tldFwiLFxuICAgIFwid2Vic29ja2V0c1wiLFxuICAgIFwic29ja2V0XCIsXG4gICAgXCJuZXR3b3JraW5nXCIsXG4gICAgXCJjb21ldFwiLFxuICAgIFwicHVzaFwiLFxuICAgIFwiUkZDLTY0NTVcIixcbiAgICBcInJlYWx0aW1lXCIsXG4gICAgXCJzZXJ2ZXJcIixcbiAgICBcImNsaWVudFwiXG4gIF0sXG4gIFwibGljZW5zZVwiOiBcIkFwYWNoZS0yLjBcIixcbiAgXCJtYWluXCI6IFwiaW5kZXhcIixcbiAgXCJuYW1lXCI6IFwid2Vic29ja2V0XCIsXG4gIFwicmVwb3NpdG9yeVwiOiB7XG4gICAgXCJ0eXBlXCI6IFwiZ2l0XCIsXG4gICAgXCJ1cmxcIjogXCJnaXQraHR0cHM6Ly9naXRodWIuY29tL3RoZXR1cnRsZTMyL1dlYlNvY2tldC1Ob2RlLmdpdFwiXG4gIH0sXG4gIFwic2NyaXB0c1wiOiB7XG4gICAgXCJndWxwXCI6IFwiZ3VscFwiLFxuICAgIFwidGVzdFwiOiBcInRhcGUgdGVzdC91bml0LyouanNcIlxuICB9LFxuICBcInZlcnNpb25cIjogXCIxLjAuMzRcIlxufVxuIiwgIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi4vcGFja2FnZS5qc29uJykudmVyc2lvbjtcbiIsICJ2YXIgX2dsb2JhbFRoaXM7XG5pZiAodHlwZW9mIGdsb2JhbFRoaXMgPT09ICdvYmplY3QnKSB7XG5cdF9nbG9iYWxUaGlzID0gZ2xvYmFsVGhpcztcbn0gZWxzZSB7XG5cdHRyeSB7XG5cdFx0X2dsb2JhbFRoaXMgPSByZXF1aXJlKCdlczUtZXh0L2dsb2JhbCcpO1xuXHR9IGNhdGNoIChlcnJvcikge1xuXHR9IGZpbmFsbHkge1xuXHRcdGlmICghX2dsb2JhbFRoaXMgJiYgdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcpIHsgX2dsb2JhbFRoaXMgPSB3aW5kb3c7IH1cblx0XHRpZiAoIV9nbG9iYWxUaGlzKSB7IHRocm93IG5ldyBFcnJvcignQ291bGQgbm90IGRldGVybWluZSBnbG9iYWwgdGhpcycpOyB9XG5cdH1cbn1cblxudmFyIE5hdGl2ZVdlYlNvY2tldCA9IF9nbG9iYWxUaGlzLldlYlNvY2tldCB8fCBfZ2xvYmFsVGhpcy5Nb3pXZWJTb2NrZXQ7XG52YXIgd2Vic29ja2V0X3ZlcnNpb24gPSByZXF1aXJlKCcuL3ZlcnNpb24nKTtcblxuXG4vKipcbiAqIEV4cG9zZSBhIFczQyBXZWJTb2NrZXQgY2xhc3Mgd2l0aCBqdXN0IG9uZSBvciB0d28gYXJndW1lbnRzLlxuICovXG5mdW5jdGlvbiBXM0NXZWJTb2NrZXQodXJpLCBwcm90b2NvbHMpIHtcblx0dmFyIG5hdGl2ZV9pbnN0YW5jZTtcblxuXHRpZiAocHJvdG9jb2xzKSB7XG5cdFx0bmF0aXZlX2luc3RhbmNlID0gbmV3IE5hdGl2ZVdlYlNvY2tldCh1cmksIHByb3RvY29scyk7XG5cdH1cblx0ZWxzZSB7XG5cdFx0bmF0aXZlX2luc3RhbmNlID0gbmV3IE5hdGl2ZVdlYlNvY2tldCh1cmkpO1xuXHR9XG5cblx0LyoqXG5cdCAqICduYXRpdmVfaW5zdGFuY2UnIGlzIGFuIGluc3RhbmNlIG9mIG5hdGl2ZVdlYlNvY2tldCAodGhlIGJyb3dzZXIncyBXZWJTb2NrZXRcblx0ICogY2xhc3MpLiBTaW5jZSBpdCBpcyBhbiBPYmplY3QgaXQgd2lsbCBiZSByZXR1cm5lZCBhcyBpdCBpcyB3aGVuIGNyZWF0aW5nIGFuXG5cdCAqIGluc3RhbmNlIG9mIFczQ1dlYlNvY2tldCB2aWEgJ25ldyBXM0NXZWJTb2NrZXQoKScuXG5cdCAqXG5cdCAqIEVDTUFTY3JpcHQgNTogaHR0cDovL2JjbGFyeS5jb20vMjAwNC8xMS8wNy8jYS0xMy4yLjJcblx0ICovXG5cdHJldHVybiBuYXRpdmVfaW5zdGFuY2U7XG59XG5pZiAoTmF0aXZlV2ViU29ja2V0KSB7XG5cdFsnQ09OTkVDVElORycsICdPUEVOJywgJ0NMT1NJTkcnLCAnQ0xPU0VEJ10uZm9yRWFjaChmdW5jdGlvbihwcm9wKSB7XG5cdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KFczQ1dlYlNvY2tldCwgcHJvcCwge1xuXHRcdFx0Z2V0OiBmdW5jdGlvbigpIHsgcmV0dXJuIE5hdGl2ZVdlYlNvY2tldFtwcm9wXTsgfVxuXHRcdH0pO1xuXHR9KTtcbn1cblxuLyoqXG4gKiBNb2R1bGUgZXhwb3J0cy5cbiAqL1xubW9kdWxlLmV4cG9ydHMgPSB7XG4gICAgJ3czY3dlYnNvY2tldCcgOiBOYXRpdmVXZWJTb2NrZXQgPyBXM0NXZWJTb2NrZXQgOiBudWxsLFxuICAgICd2ZXJzaW9uJyAgICAgIDogd2Vic29ja2V0X3ZlcnNpb25cbn07XG4iLCAiaW1wb3J0IHtcbiAgQXBwLFxuICBFZGl0b3IsXG4gIE1hcmtkb3duVmlldyxcbiAgTW9kYWwsXG4gIE5vdGljZSxcbiAgUGx1Z2luLFxuICBQbHVnaW5TZXR0aW5nVGFiLFxuICBTZXR0aW5nLFxuICBFZGl0b3JQb3NpdGlvbixcbn0gZnJvbSBcIm9ic2lkaWFuXCI7XG5pbXBvcnQgeyBjcmVhdGVDbGllbnQsIERlZXBncmFtLCBMaXZlVHJhbnNjcmlwdGlvbkV2ZW50cyB9IGZyb20gXCJAZGVlcGdyYW0vc2RrXCI7XG5cbmludGVyZmFjZSBEZWVwR3JhbVBsdWdpblNldHRpbmdzIHtcbiAgYXBpS2V5OiBzdHJpbmc7XG4gIHN1bW1hcml6ZTogYm9vbGVhbjtcbiAgdG9waWNfZGV0ZWN0aW9uOiBib29sZWFuO1xuICBpbnRlbnRfZGV0ZWN0aW9uOiBib29sZWFuO1xuICBzZW50aW1lbnQ6IGJvb2xlYW47XG4gIHNtYXJ0X2Zvcm1hdDogYm9vbGVhbjtcbiAgcHVuY3R1YXRpb246IGJvb2xlYW47XG4gIHBhcmFncmFwaHM6IGJvb2xlYW47XG4gIHV0dGVyYW5jZXM6IGJvb2xlYW47XG4gIGZpbGxlcl93b3JkczogYm9vbGVhbjtcbn1cblxuY29uc3QgREVGQVVMVF9TRVRUSU5HUzogRGVlcEdyYW1QbHVnaW5TZXR0aW5ncyA9IHtcbiAgYXBpS2V5OiBcIlwiLFxuICBzdW1tYXJpemU6IGZhbHNlLFxuICB0b3BpY19kZXRlY3Rpb246IGZhbHNlLFxuICBpbnRlbnRfZGV0ZWN0aW9uOiBmYWxzZSxcbiAgc2VudGltZW50OiBmYWxzZSxcbiAgc21hcnRfZm9ybWF0OiB0cnVlLFxuICBwdW5jdHVhdGlvbjogdHJ1ZSxcbiAgcGFyYWdyYXBoczogZmFsc2UsXG4gIHV0dGVyYW5jZXM6IGZhbHNlLFxuICBmaWxsZXJfd29yZHM6IGZhbHNlLFxufTtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRGVlcGdyYW1QbHVnaW4gZXh0ZW5kcyBQbHVnaW4ge1xuICBzZXR0aW5nczogRGVlcEdyYW1QbHVnaW5TZXR0aW5ncztcbiAgaXNSZWNvcmRpbmc6IGJvb2xlYW4gPSBmYWxzZTtcbiAgc3RhdHVzQmFySXRlbTogSFRNTEVsZW1lbnQ7XG4gIGluaXRpYWxDdXJzb3JQb3NpdGlvbjogRWRpdG9yUG9zaXRpb247XG4gIGRlZXBncmFtOiBEZWVwZ3JhbTsgLy8gQWRkIHRoaXMgbGluZSB0byBkZWNsYXJlIHRoZSBkZWVwZ3JhbSBwcm9wZXJ0eVxuICBtZWRpYVJlY29yZGVyOiBNZWRpYVJlY29yZGVyOyAvLyBBZGQgdGhpcyBsaW5lIHRvIGRlY2xhcmUgdGhlIG1lZGlhUmVjb3JkZXIgcHJvcGVydHlcblxuICBhc3luYyBvbmxvYWQoKSB7XG4gICAgY29uc29sZS5sb2coXCJMb2FkaW5nIERlZXBncmFtIHBsdWdpblwiKTtcblxuICAgIGF3YWl0IHRoaXMubG9hZFNldHRpbmdzKCk7XG5cbiAgICB0aGlzLmFkZENvbW1hbmQoe1xuICAgICAgaWQ6IFwidG9nZ2xlLXRyYW5zY3JpcHRpb25cIixcbiAgICAgIG5hbWU6IFwiVG9nZ2xlIFRyYW5zY3JpcHRpb25cIixcbiAgICAgIGNhbGxiYWNrOiAoKSA9PiB7XG4gICAgICAgIGlmICh0aGlzLmlzUmVjb3JkaW5nKSB7XG4gICAgICAgICAgdGhpcy5zdG9wVHJhbnNjcmlwdGlvbigpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRoaXMuc3RhcnRUcmFuc2NyaXB0aW9uKCk7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgfSk7XG5cbiAgICB0aGlzLnN0YXR1c0Jhckl0ZW0gPSB0aGlzLmFkZFN0YXR1c0Jhckl0ZW0oKTtcbiAgICB0aGlzLnVwZGF0ZVN0YXR1c0Jhckl0ZW0oKTtcblxuICAgIHRoaXMuYWRkU2V0dGluZ1RhYihuZXcgRGVlcGdyYW1TZXR0aW5nVGFiKHRoaXMuYXBwLCB0aGlzKSk7XG5cbiAgICBjb25zb2xlLmxvZyhcIkRlZXBncmFtIHBsdWdpbiBsb2FkZWRcIik7XG4gIH1cblxuICBhc3luYyBvbnVubG9hZCgpIHtcbiAgICBjb25zb2xlLmxvZyhcIlVubG9hZGluZyBEZWVwZ3JhbSBwbHVnaW5cIik7XG5cbiAgICBpZiAodGhpcy5pc1JlY29yZGluZykge1xuICAgICAgYXdhaXQgdGhpcy5zdG9wVHJhbnNjcmlwdGlvbigpO1xuICAgIH1cbiAgfVxuXG4gIGFzeW5jIGxvYWRTZXR0aW5ncygpIHtcbiAgICB0aGlzLnNldHRpbmdzID0gT2JqZWN0LmFzc2lnbih7fSwgREVGQVVMVF9TRVRUSU5HUywgYXdhaXQgdGhpcy5sb2FkRGF0YSgpKTtcbiAgfVxuXG4gIGFzeW5jIHNhdmVTZXR0aW5ncygpIHtcbiAgICBhd2FpdCB0aGlzLnNhdmVEYXRhKHRoaXMuc2V0dGluZ3MpO1xuICB9XG5cbiAgdXBkYXRlU3RhdHVzQmFySXRlbSgpIHtcbiAgICB0aGlzLnN0YXR1c0Jhckl0ZW0uc2V0VGV4dChcbiAgICAgIHRoaXMuaXNSZWNvcmRpbmcgPyBcIlJlY29yZGluZ1wiIDogXCJOb3QgUmVjb3JkaW5nXCJcbiAgICApO1xuICB9XG5cbiAgYXN5bmMgc3RhcnRUcmFuc2NyaXB0aW9uKCkge1xuICAgIGNvbnNvbGUubG9nKFwiU3RhcnRpbmcgdHJhbnNjcmlwdGlvblwiKTtcblxuICAgIGNvbnN0IG9wdGlvbnMgPSB7XG4gICAgICBtb2RlbDogXCJub3ZhLTJcIixcbiAgICAgIGxhbmd1YWdlOiBcImVuLVVTXCIsXG4gICAgICBzbWFydF9mb3JtYXQ6IHRoaXMuc2V0dGluZ3Muc21hcnRfZm9ybWF0LFxuICAgICAgc3VtbWFyaXplOiB0aGlzLnNldHRpbmdzLnN1bW1hcml6ZSxcbiAgICAgIHRvcGljX2RldGVjdGlvbjogdGhpcy5zZXR0aW5ncy50b3BpY19kZXRlY3Rpb24sXG4gICAgICBpbnRlbnRfZGV0ZWN0aW9uOiB0aGlzLnNldHRpbmdzLmludGVudF9kZXRlY3Rpb24sXG4gICAgICBzZW50aW1lbnQ6IHRoaXMuc2V0dGluZ3Muc2VudGltZW50LFxuICAgICAgcHVuY3R1YXRpb246IHRoaXMuc2V0dGluZ3MucHVuY3R1YXRpb24sXG4gICAgICBwYXJhZ3JhcGhzOiB0aGlzLnNldHRpbmdzLnBhcmFncmFwaHMsXG4gICAgICB1dHRlcmFuY2VzOiB0aGlzLnNldHRpbmdzLnV0dGVyYW5jZXMsXG4gICAgICBmaWxsZXJfd29yZHM6IHRoaXMuc2V0dGluZ3MuZmlsbGVyX3dvcmRzLFxuICAgICAgaW50ZXJpbV9yZXN1bHRzOiB0cnVlLFxuICAgIH07XG5cbiAgICBjb25zdCBkZWVwZ3JhbUNsaWVudCA9IGNyZWF0ZUNsaWVudCh0aGlzLnNldHRpbmdzLmFwaUtleSk7XG4gICAgY29uc3QgZGVlcGdyYW0gPSBkZWVwZ3JhbUNsaWVudC5saXN0ZW4ubGl2ZShvcHRpb25zKTtcblxuICAgIHRoaXMuZGVlcGdyYW0gPSBkZWVwZ3JhbTtcblxuICAgIGNvbnNvbGUubG9nKFwiRGVlcGdyYW0gY2xpZW50IGNyZWF0ZWRcIiwgZGVlcGdyYW0pO1xuXG4gICAgdGhpcy5kZWVwZ3JhbS5hZGRMaXN0ZW5lcihMaXZlVHJhbnNjcmlwdGlvbkV2ZW50cy5PcGVuLCAoKSA9PiB7XG4gICAgICBjb25zb2xlLmxvZyhcIkRlZXBncmFtIGNvbm5lY3Rpb24gb3BlbmVkXCIpO1xuICAgICAgdGhpcy5pc1JlY29yZGluZyA9IHRydWU7XG4gICAgICB0aGlzLnVwZGF0ZVN0YXR1c0Jhckl0ZW0oKTtcblxuICAgICAgdGhpcy5kZWVwZ3JhbS5hZGRMaXN0ZW5lcihMaXZlVHJhbnNjcmlwdGlvbkV2ZW50cy5UcmFuc2NyaXB0LCAoZGF0YSkgPT4ge1xuICAgICAgICBjb25zdCB0cmFuc2NyaXB0ID0gZGF0YS5jaGFubmVsLmFsdGVybmF0aXZlc1swXS50cmFuc2NyaXB0O1xuICAgICAgICBjb25zdCBpc0ZpbmFsID0gZGF0YS5pc19maW5hbDtcblxuICAgICAgICBjb25zdCBhY3RpdmVWaWV3ID0gdGhpcy5hcHAud29ya3NwYWNlLmdldEFjdGl2ZVZpZXdPZlR5cGUoTWFya2Rvd25WaWV3KTtcbiAgICAgICAgaWYgKGFjdGl2ZVZpZXcpIHtcbiAgICAgICAgICBjb25zdCBlZGl0b3IgPSBhY3RpdmVWaWV3LmVkaXRvcjtcbiAgICAgICAgICBjb25zdCBjdXJyZW50UG9zaXRpb24gPSBlZGl0b3IuZ2V0Q3Vyc29yKCk7XG4gICAgICAgICAgY29uc29sZS5sb2coXCJUcmFuc2NyaXB0OiBcIiwgdHJhbnNjcmlwdCk7XG5cbiAgICAgICAgICBpZiAoaXNGaW5hbCkge1xuICAgICAgICAgICAgY29uc29sZS5sb2coXCJGaW5hbCB0cmFuc2NyaXB0OlwiLCB0cmFuc2NyaXB0KTtcbiAgICAgICAgICAgIGNvbnN0IHN0YXJ0UG9zaXRpb24gPSBjdXJyZW50UG9zaXRpb247XG4gICAgICAgICAgICBlZGl0b3IucmVwbGFjZVJhbmdlKHRyYW5zY3JpcHQsIHN0YXJ0UG9zaXRpb24pO1xuICAgICAgICAgICAgY29uc3QgZW5kUG9zaXRpb24gPSB7XG4gICAgICAgICAgICAgIGxpbmU6IGN1cnJlbnRQb3NpdGlvbi5saW5lLFxuICAgICAgICAgICAgICBjaDogY3VycmVudFBvc2l0aW9uLmNoICsgdHJhbnNjcmlwdC5sZW5ndGgsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgZWRpdG9yLnNldEN1cnNvcihlbmRQb3NpdGlvbik7IC8vIFNldCB0aGUgY3Vyc29yIGF0IHRoZSBlbmQgb2YgdGhlIGluc2VydGVkIHRleHRcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29uc29sZS5sb2coXCJQYXJ0aWFsIHRyYW5zY3JpcHQ6XCIsIHRyYW5zY3JpcHQpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICB0aGlzLmRlZXBncmFtLmFkZExpc3RlbmVyKExpdmVUcmFuc2NyaXB0aW9uRXZlbnRzLkVycm9yLCAoZXJyb3IpID0+IHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoXCJEZWVwZ3JhbSBlcnJvcjpcIiwgZXJyb3IpO1xuICAgICAgdGhpcy5zdG9wVHJhbnNjcmlwdGlvbigpO1xuICAgIH0pO1xuXG4gICAgY29uc3QgbWVkaWFTdHJlYW0gPSBhd2FpdCBuYXZpZ2F0b3IubWVkaWFEZXZpY2VzLmdldFVzZXJNZWRpYSh7XG4gICAgICBhdWRpbzogdHJ1ZSxcbiAgICB9KTtcbiAgICBjb25zdCBtZWRpYVJlY29yZGVyID0gbmV3IE1lZGlhUmVjb3JkZXIobWVkaWFTdHJlYW0sIHtcbiAgICAgIG1pbWVUeXBlOiBcImF1ZGlvL3dlYm1cIixcbiAgICB9KTtcblxuICAgIHRoaXMubWVkaWFSZWNvcmRlciA9IG1lZGlhUmVjb3JkZXI7XG5cbiAgICBtZWRpYVJlY29yZGVyLmFkZEV2ZW50TGlzdGVuZXIoXCJkYXRhYXZhaWxhYmxlXCIsIChldmVudCkgPT4ge1xuICAgICAgaWYgKGV2ZW50LmRhdGEuc2l6ZSA+IDApIHtcbiAgICAgICAgZGVlcGdyYW0uc2VuZChldmVudC5kYXRhKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIG1lZGlhUmVjb3JkZXIuc3RhcnQoMTAwMCk7XG4gIH1cblxuICBhc3luYyBzdG9wVHJhbnNjcmlwdGlvbigpIHtcbiAgICBjb25zb2xlLmxvZyhcIlN0b3BwaW5nIHRyYW5zY3JpcHRpb25cIik7XG4gICAgdGhpcy5pc1JlY29yZGluZyA9IGZhbHNlO1xuICAgIHRoaXMudXBkYXRlU3RhdHVzQmFySXRlbSgpO1xuXG4gICAgdGhpcy5kZWVwZ3JhbS5maW5pc2goKTtcblxuICAgIC8vIFN0b3AgdGhlIE1lZGlhUmVjb3JkZXJcbiAgICBpZiAodGhpcy5tZWRpYVJlY29yZGVyICYmIHRoaXMubWVkaWFSZWNvcmRlci5zdGF0ZSAhPT0gXCJpbmFjdGl2ZVwiKSB7XG4gICAgICB0aGlzLm1lZGlhUmVjb3JkZXIuc3RvcCgpO1xuICAgIH1cbiAgfVxufVxuXG5jbGFzcyBEZWVwZ3JhbVNldHRpbmdUYWIgZXh0ZW5kcyBQbHVnaW5TZXR0aW5nVGFiIHtcbiAgcGx1Z2luOiBEZWVwZ3JhbVBsdWdpbjtcblxuICBjb25zdHJ1Y3RvcihhcHA6IEFwcCwgcGx1Z2luOiBEZWVwZ3JhbVBsdWdpbikge1xuICAgIHN1cGVyKGFwcCwgcGx1Z2luKTtcbiAgICB0aGlzLnBsdWdpbiA9IHBsdWdpbjtcbiAgfVxuXG4gIGRpc3BsYXkoKTogdm9pZCB7XG4gICAgbGV0IHsgY29udGFpbmVyRWwgfSA9IHRoaXM7XG4gICAgY29udGFpbmVyRWwuZW1wdHkoKTtcblxuICAgIG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxuICAgICAgLnNldE5hbWUoXCJEZWVwZ3JhbSBBUEkgS2V5XCIpXG4gICAgICAuc2V0RGVzYyhcIkVudGVyIHlvdXIgRGVlcGdyYW0gQVBJIGtleVwiKVxuICAgICAgLmFkZFRleHQoKHRleHQpID0+XG4gICAgICAgIHRleHRcbiAgICAgICAgICAuc2V0UGxhY2Vob2xkZXIoXCJBUEkgS2V5XCIpXG4gICAgICAgICAgLnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLmFwaUtleSlcbiAgICAgICAgICAub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIkRlZXBncmFtIEFQSSBrZXkgdXBkYXRlZFwiKTtcbiAgICAgICAgICAgIHRoaXMucGx1Z2luLnNldHRpbmdzLmFwaUtleSA9IHZhbHVlO1xuICAgICAgICAgICAgYXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XG4gICAgICAgICAgfSlcbiAgICAgICk7XG5cbiAgICBuZXcgU2V0dGluZyhjb250YWluZXJFbClcbiAgICAgIC5zZXROYW1lKFwiU3VtbWFyaXplXCIpXG4gICAgICAuc2V0RGVzYyhcIkVuYWJsZSBzdW1tYXJpemF0aW9uXCIpXG4gICAgICAuYWRkVG9nZ2xlKCh0b2dnbGUpID0+XG4gICAgICAgIHRvZ2dsZVxuICAgICAgICAgIC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5zdW1tYXJpemUpXG4gICAgICAgICAgLm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xuICAgICAgICAgICAgdGhpcy5wbHVnaW4uc2V0dGluZ3Muc3VtbWFyaXplID0gdmFsdWU7XG4gICAgICAgICAgICBhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcbiAgICAgICAgICB9KVxuICAgICAgKTtcblxuICAgIG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxuICAgICAgLnNldE5hbWUoXCJUb3BpYyBEZXRlY3Rpb25cIilcbiAgICAgIC5zZXREZXNjKFwiRW5hYmxlIHRvcGljIGRldGVjdGlvblwiKVxuICAgICAgLmFkZFRvZ2dsZSgodG9nZ2xlKSA9PlxuICAgICAgICB0b2dnbGVcbiAgICAgICAgICAuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3MudG9waWNfZGV0ZWN0aW9uKVxuICAgICAgICAgIC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcbiAgICAgICAgICAgIHRoaXMucGx1Z2luLnNldHRpbmdzLnRvcGljX2RldGVjdGlvbiA9IHZhbHVlO1xuICAgICAgICAgICAgYXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XG4gICAgICAgICAgfSlcbiAgICAgICk7XG5cbiAgICBuZXcgU2V0dGluZyhjb250YWluZXJFbClcbiAgICAgIC5zZXROYW1lKFwiSW50ZW50IERldGVjdGlvblwiKVxuICAgICAgLnNldERlc2MoXCJFbmFibGUgaW50ZW50IGRldGVjdGlvblwiKVxuICAgICAgLmFkZFRvZ2dsZSgodG9nZ2xlKSA9PlxuICAgICAgICB0b2dnbGVcbiAgICAgICAgICAuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3MuaW50ZW50X2RldGVjdGlvbilcbiAgICAgICAgICAub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XG4gICAgICAgICAgICB0aGlzLnBsdWdpbi5zZXR0aW5ncy5pbnRlbnRfZGV0ZWN0aW9uID0gdmFsdWU7XG4gICAgICAgICAgICBhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcbiAgICAgICAgICB9KVxuICAgICAgKTtcblxuICAgIG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxuICAgICAgLnNldE5hbWUoXCJTZW50aW1lbnRcIilcbiAgICAgIC5zZXREZXNjKFwiRW5hYmxlIHNlbnRpbWVudCBhbmFseXNpc1wiKVxuICAgICAgLmFkZFRvZ2dsZSgodG9nZ2xlKSA9PlxuICAgICAgICB0b2dnbGVcbiAgICAgICAgICAuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3Muc2VudGltZW50KVxuICAgICAgICAgIC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcbiAgICAgICAgICAgIHRoaXMucGx1Z2luLnNldHRpbmdzLnNlbnRpbWVudCA9IHZhbHVlO1xuICAgICAgICAgICAgYXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XG4gICAgICAgICAgfSlcbiAgICAgICk7XG5cbiAgICBuZXcgU2V0dGluZyhjb250YWluZXJFbClcbiAgICAgIC5zZXROYW1lKFwiU21hcnQgRm9ybWF0dGluZ1wiKVxuICAgICAgLnNldERlc2MoXCJFbmFibGUgc21hcnQgZm9ybWF0dGluZ1wiKVxuICAgICAgLmFkZFRvZ2dsZSgodG9nZ2xlKSA9PlxuICAgICAgICB0b2dnbGVcbiAgICAgICAgICAuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3Muc21hcnRfZm9ybWF0KVxuICAgICAgICAgIC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcbiAgICAgICAgICAgIHRoaXMucGx1Z2luLnNldHRpbmdzLnNtYXJ0X2Zvcm1hdCA9IHZhbHVlO1xuICAgICAgICAgICAgYXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XG4gICAgICAgICAgfSlcbiAgICAgICk7XG5cbiAgICBuZXcgU2V0dGluZyhjb250YWluZXJFbClcbiAgICAgIC5zZXROYW1lKFwiUHVuY3R1YXRpb25cIilcbiAgICAgIC5zZXREZXNjKFwiRW5hYmxlIHB1bmN0dWF0aW9uXCIpXG4gICAgICAuYWRkVG9nZ2xlKCh0b2dnbGUpID0+XG4gICAgICAgIHRvZ2dsZVxuICAgICAgICAgIC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5wdW5jdHVhdGlvbilcbiAgICAgICAgICAub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XG4gICAgICAgICAgICB0aGlzLnBsdWdpbi5zZXR0aW5ncy5wdW5jdHVhdGlvbiA9IHZhbHVlO1xuICAgICAgICAgICAgYXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XG4gICAgICAgICAgfSlcbiAgICAgICk7XG5cbiAgICBuZXcgU2V0dGluZyhjb250YWluZXJFbClcbiAgICAgIC5zZXROYW1lKFwiUGFyYWdyYXBoc1wiKVxuICAgICAgLnNldERlc2MoXCJFbmFibGUgcGFyYWdyYXBoIGRldGVjdGlvblwiKVxuICAgICAgLmFkZFRvZ2dsZSgodG9nZ2xlKSA9PlxuICAgICAgICB0b2dnbGVcbiAgICAgICAgICAuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3MucGFyYWdyYXBocylcbiAgICAgICAgICAub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XG4gICAgICAgICAgICB0aGlzLnBsdWdpbi5zZXR0aW5ncy5wYXJhZ3JhcGhzID0gdmFsdWU7XG4gICAgICAgICAgICBhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcbiAgICAgICAgICB9KVxuICAgICAgKTtcblxuICAgIG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxuICAgICAgLnNldE5hbWUoXCJVdHRlcmFuY2VzXCIpXG4gICAgICAuc2V0RGVzYyhcIkVuYWJsZSB1dHRlcmFuY2UgZGV0ZWN0aW9uXCIpXG4gICAgICAuYWRkVG9nZ2xlKCh0b2dnbGUpID0+XG4gICAgICAgIHRvZ2dsZVxuICAgICAgICAgIC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy51dHRlcmFuY2VzKVxuICAgICAgICAgIC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcbiAgICAgICAgICAgIHRoaXMucGx1Z2luLnNldHRpbmdzLnV0dGVyYW5jZXMgPSB2YWx1ZTtcbiAgICAgICAgICAgIGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xuICAgICAgICAgIH0pXG4gICAgICApO1xuXG4gICAgbmV3IFNldHRpbmcoY29udGFpbmVyRWwpXG4gICAgICAuc2V0TmFtZShcIkZpbGxlciBXb3Jkc1wiKVxuICAgICAgLnNldERlc2MoXCJJbmNsdWRlIGZpbGxlciB3b3Jkc1wiKVxuICAgICAgLmFkZFRvZ2dsZSgodG9nZ2xlKSA9PlxuICAgICAgICB0b2dnbGVcbiAgICAgICAgICAuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3MuZmlsbGVyX3dvcmRzKVxuICAgICAgICAgIC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcbiAgICAgICAgICAgIHRoaXMucGx1Z2luLnNldHRpbmdzLmZpbGxlcl93b3JkcyA9IHZhbHVlO1xuICAgICAgICAgICAgYXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XG4gICAgICAgICAgfSlcbiAgICAgICk7XG4gICAgLy8gQWRkIHNldHRpbmdzIGZvciBvdGhlciB0cmFuc2NyaXB0aW9uIG9wdGlvbnNcbiAgICAvLyAuLi5cbiAgfVxufVxuIiwgImV4cG9ydCBjbGFzcyBEZWVwZ3JhbUVycm9yIGV4dGVuZHMgRXJyb3Ige1xuICBwcm90ZWN0ZWQgX19kZ0Vycm9yID0gdHJ1ZTtcblxuICBjb25zdHJ1Y3RvcihtZXNzYWdlOiBzdHJpbmcpIHtcbiAgICBzdXBlcihtZXNzYWdlKTtcbiAgICB0aGlzLm5hbWUgPSBcIkRlZXBncmFtRXJyb3JcIjtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gaXNEZWVwZ3JhbUVycm9yKGVycm9yOiB1bmtub3duKTogZXJyb3IgaXMgRGVlcGdyYW1FcnJvciB7XG4gIHJldHVybiB0eXBlb2YgZXJyb3IgPT09IFwib2JqZWN0XCIgJiYgZXJyb3IgIT09IG51bGwgJiYgXCJfX2RnRXJyb3JcIiBpbiBlcnJvcjtcbn1cblxuZXhwb3J0IGNsYXNzIERlZXBncmFtQXBpRXJyb3IgZXh0ZW5kcyBEZWVwZ3JhbUVycm9yIHtcbiAgc3RhdHVzOiBudW1iZXI7XG5cbiAgY29uc3RydWN0b3IobWVzc2FnZTogc3RyaW5nLCBzdGF0dXM6IG51bWJlcikge1xuICAgIHN1cGVyKG1lc3NhZ2UpO1xuICAgIHRoaXMubmFtZSA9IFwiRGVlcGdyYW1BcGlFcnJvclwiO1xuICAgIHRoaXMuc3RhdHVzID0gc3RhdHVzO1xuICB9XG5cbiAgdG9KU09OKCkge1xuICAgIHJldHVybiB7XG4gICAgICBuYW1lOiB0aGlzLm5hbWUsXG4gICAgICBtZXNzYWdlOiB0aGlzLm1lc3NhZ2UsXG4gICAgICBzdGF0dXM6IHRoaXMuc3RhdHVzLFxuICAgIH07XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIERlZXBncmFtVW5rbm93bkVycm9yIGV4dGVuZHMgRGVlcGdyYW1FcnJvciB7XG4gIG9yaWdpbmFsRXJyb3I6IHVua25vd247XG5cbiAgY29uc3RydWN0b3IobWVzc2FnZTogc3RyaW5nLCBvcmlnaW5hbEVycm9yOiB1bmtub3duKSB7XG4gICAgc3VwZXIobWVzc2FnZSk7XG4gICAgdGhpcy5uYW1lID0gXCJEZWVwZ3JhbVVua25vd25FcnJvclwiO1xuICAgIHRoaXMub3JpZ2luYWxFcnJvciA9IG9yaWdpbmFsRXJyb3I7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIERlZXBncmFtVmVyc2lvbkVycm9yIGV4dGVuZHMgRGVlcGdyYW1FcnJvciB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKFxuICAgICAgYFlvdSBhcmUgYXR0ZW1wdGluZyB0byB1c2UgYW4gb2xkIGZvcm1hdCBmb3IgYSBuZXdlciBTREsgdmVyc2lvbi4gUmVhZCBtb3JlIGhlcmU6IGh0dHBzOi8vZHBnci5hbS9qcy12M2BcbiAgICApO1xuXG4gICAgdGhpcy5uYW1lID0gXCJEZWVwZ3JhbVZlcnNpb25FcnJvclwiO1xuICB9XG59XG4iLCAiaW1wb3J0IHsgSGVhZGVycyBhcyBDcm9zc0ZldGNoSGVhZGVycyB9IGZyb20gXCJjcm9zcy1mZXRjaFwiO1xuaW1wb3J0IHtcbiAgRGVlcGdyYW1DbGllbnRPcHRpb25zLFxuICBGaWxlU291cmNlLFxuICBQcmVyZWNvcmRlZFNvdXJjZSxcbiAgVXJsU291cmNlLFxuICBUZXh0U291cmNlLFxuICBBbmFseXplU291cmNlLFxufSBmcm9tIFwiLi90eXBlc1wiO1xuaW1wb3J0IHsgUmVhZGFibGUgfSBmcm9tIFwic3RyZWFtXCI7XG5pbXBvcnQgbWVyZ2UgZnJvbSBcImRlZXBtZXJnZVwiO1xuXG5leHBvcnQgZnVuY3Rpb24gc3RyaXBUcmFpbGluZ1NsYXNoKHVybDogc3RyaW5nKTogc3RyaW5nIHtcbiAgcmV0dXJuIHVybC5yZXBsYWNlKC9cXC8kLywgXCJcIik7XG59XG5cbmV4cG9ydCBjb25zdCBpc0Jyb3dzZXIgPSAoKSA9PiB0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiO1xuZXhwb3J0IGNvbnN0IGlzU2VydmVyID0gKCkgPT4gdHlwZW9mIHByb2Nlc3MgIT09IFwidW5kZWZpbmVkXCI7XG5cbmV4cG9ydCBmdW5jdGlvbiBhcHBseVNldHRpbmdEZWZhdWx0cyhcbiAgb3B0aW9uczogRGVlcGdyYW1DbGllbnRPcHRpb25zLFxuICBkZWZhdWx0czogRGVlcGdyYW1DbGllbnRPcHRpb25zXG4pOiBEZWVwZ3JhbUNsaWVudE9wdGlvbnMge1xuICByZXR1cm4gbWVyZ2UoZGVmYXVsdHMsIG9wdGlvbnMpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gYXBwZW5kU2VhcmNoUGFyYW1zKFxuICBzZWFyY2hQYXJhbXM6IFVSTFNlYXJjaFBhcmFtcyxcbiAgb3B0aW9uczogUmVjb3JkPHN0cmluZywgdW5rbm93bj5cbik6IHZvaWQge1xuICBPYmplY3Qua2V5cyhvcHRpb25zKS5mb3JFYWNoKChpKSA9PiB7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkob3B0aW9uc1tpXSkpIHtcbiAgICAgIGNvbnN0IGFycmF5UGFyYW1zID0gb3B0aW9uc1tpXSBhcyBBcnJheTxhbnk+O1xuICAgICAgYXJyYXlQYXJhbXMuZm9yRWFjaCgocGFyYW0pID0+IHtcbiAgICAgICAgc2VhcmNoUGFyYW1zLmFwcGVuZChpLCBTdHJpbmcocGFyYW0pKTtcbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBzZWFyY2hQYXJhbXMuYXBwZW5kKGksIFN0cmluZyhvcHRpb25zW2ldKSk7XG4gICAgfVxuICB9KTtcbn1cblxuZXhwb3J0IGNvbnN0IHJlc29sdmVIZWFkZXJzQ29uc3RydWN0b3IgPSAoKSA9PiB7XG4gIGlmICh0eXBlb2YgSGVhZGVycyA9PT0gXCJ1bmRlZmluZWRcIikge1xuICAgIHJldHVybiBDcm9zc0ZldGNoSGVhZGVycztcbiAgfVxuXG4gIHJldHVybiBIZWFkZXJzO1xufTtcblxuZXhwb3J0IGNvbnN0IGlzVXJsU291cmNlID0gKFxuICBwcm92aWRlZFNvdXJjZTogUHJlcmVjb3JkZWRTb3VyY2UgfCBBbmFseXplU291cmNlXG4pOiBwcm92aWRlZFNvdXJjZSBpcyBVcmxTb3VyY2UgPT4ge1xuICBpZiAoKHByb3ZpZGVkU291cmNlIGFzIFVybFNvdXJjZSkudXJsKSByZXR1cm4gdHJ1ZTtcblxuICByZXR1cm4gZmFsc2U7XG59O1xuXG5leHBvcnQgY29uc3QgaXNUZXh0U291cmNlID0gKFxuICBwcm92aWRlZFNvdXJjZTogUHJlcmVjb3JkZWRTb3VyY2UgfCBBbmFseXplU291cmNlXG4pOiBwcm92aWRlZFNvdXJjZSBpcyBUZXh0U291cmNlID0+IHtcbiAgaWYgKChwcm92aWRlZFNvdXJjZSBhcyBUZXh0U291cmNlKS50ZXh0KSByZXR1cm4gdHJ1ZTtcblxuICByZXR1cm4gZmFsc2U7XG59O1xuXG5leHBvcnQgY29uc3QgaXNGaWxlU291cmNlID0gKHByb3ZpZGVkU291cmNlOiBQcmVyZWNvcmRlZFNvdXJjZSk6IHByb3ZpZGVkU291cmNlIGlzIEZpbGVTb3VyY2UgPT4ge1xuICBpZiAoaXNSZWFkU3RyZWFtU291cmNlKHByb3ZpZGVkU291cmNlKSB8fCBpc0J1ZmZlclNvdXJjZShwcm92aWRlZFNvdXJjZSkpIHJldHVybiB0cnVlO1xuXG4gIHJldHVybiBmYWxzZTtcbn07XG5cbmNvbnN0IGlzQnVmZmVyU291cmNlID0gKHByb3ZpZGVkU291cmNlOiBQcmVyZWNvcmRlZFNvdXJjZSk6IHByb3ZpZGVkU291cmNlIGlzIEJ1ZmZlciA9PiB7XG4gIGlmIChwcm92aWRlZFNvdXJjZSBhcyBCdWZmZXIpIHJldHVybiB0cnVlO1xuXG4gIHJldHVybiBmYWxzZTtcbn07XG5cbmNvbnN0IGlzUmVhZFN0cmVhbVNvdXJjZSA9IChwcm92aWRlZFNvdXJjZTogUHJlcmVjb3JkZWRTb3VyY2UpOiBwcm92aWRlZFNvdXJjZSBpcyBSZWFkYWJsZSA9PiB7XG4gIGlmIChwcm92aWRlZFNvdXJjZSBhcyBSZWFkYWJsZSkgcmV0dXJuIHRydWU7XG5cbiAgcmV0dXJuIGZhbHNlO1xufTtcblxuZXhwb3J0IGNsYXNzIENhbGxiYWNrVXJsIGV4dGVuZHMgVVJMIHtcbiAgcHJpdmF0ZSBjYWxsYmFja1VybCA9IHRydWU7XG59XG4iLCAiZXhwb3J0IGNvbnN0IHZlcnNpb24gPSBcIjMuMy4xXCI7XG4iLCAiaW1wb3J0IHsgaXNCcm93c2VyIH0gZnJvbSBcIi4vaGVscGVyc1wiO1xuaW1wb3J0IHsgRGVlcGdyYW1DbGllbnRPcHRpb25zIH0gZnJvbSBcIi4vdHlwZXMvRGVlcGdyYW1DbGllbnRPcHRpb25zXCI7XG5pbXBvcnQgeyBGZXRjaE9wdGlvbnMgfSBmcm9tIFwiLi90eXBlcy9GZXRjaFwiO1xuaW1wb3J0IHsgdmVyc2lvbiB9IGZyb20gXCIuL3ZlcnNpb25cIjtcblxuZXhwb3J0IGNvbnN0IE5PREVfVkVSU0lPTiA9IHByb2Nlc3MudmVyc2lvbnMubm9kZTtcblxuZXhwb3J0IGNvbnN0IERFRkFVTFRfSEVBREVSUyA9IHtcbiAgXCJDb250ZW50LVR5cGVcIjogYGFwcGxpY2F0aW9uL2pzb25gLFxuICBcIlgtQ2xpZW50LUluZm9cIjogYEBkZWVwZ3JhbS9zZGs7ICR7aXNCcm93c2VyKCkgPyBcImJyb3dzZXJcIiA6IFwic2VydmVyXCJ9OyB2JHt2ZXJzaW9ufWAsXG4gIFwiVXNlci1BZ2VudFwiOiBgQGRlZXBncmFtL3Nkay8ke3ZlcnNpb259ICR7aXNCcm93c2VyKCkgPyBcImphdmFzY3JpcHRcIiA6IGBub2RlLyR7Tk9ERV9WRVJTSU9OfWB9YCxcbn07XG5cbmV4cG9ydCBjb25zdCBERUZBVUxUX1VSTCA9IFwiaHR0cHM6Ly9hcGkuZGVlcGdyYW0uY29tXCI7XG5cbmV4cG9ydCBjb25zdCBERUZBVUxUX0dMT0JBTF9PUFRJT05TID0ge1xuICB1cmw6IERFRkFVTFRfVVJMLFxufTtcblxuZXhwb3J0IGNvbnN0IERFRkFVTFRfRkVUQ0hfT1BUSU9OUzogRmV0Y2hPcHRpb25zID0ge1xuICBoZWFkZXJzOiBERUZBVUxUX0hFQURFUlMsXG59O1xuXG5leHBvcnQgY29uc3QgREVGQVVMVF9PUFRJT05TOiBEZWVwZ3JhbUNsaWVudE9wdGlvbnMgPSB7XG4gIGdsb2JhbDogREVGQVVMVF9HTE9CQUxfT1BUSU9OUyxcbiAgZmV0Y2g6IERFRkFVTFRfRkVUQ0hfT1BUSU9OUyxcbn07XG4iLCAiaW1wb3J0IHsgREVGQVVMVF9PUFRJT05TLCBERUZBVUxUX1VSTCB9IGZyb20gXCIuLi9saWIvY29uc3RhbnRzXCI7XG5pbXBvcnQgeyBEZWVwZ3JhbUVycm9yIH0gZnJvbSBcIi4uL2xpYi9lcnJvcnNcIjtcbmltcG9ydCB7IGFwcGx5U2V0dGluZ0RlZmF1bHRzLCBzdHJpcFRyYWlsaW5nU2xhc2ggfSBmcm9tIFwiLi4vbGliL2hlbHBlcnNcIjtcbmltcG9ydCB7IERlZXBncmFtQ2xpZW50T3B0aW9ucyB9IGZyb20gXCIuLi9saWIvdHlwZXNcIjtcblxuLyoqXG4gKiBEZWVwZ3JhbSBDbGllbnQuXG4gKlxuICogQW4gaXNvbW9ycGhpYyBKYXZhc2NyaXB0IGNsaWVudCBmb3IgaW50ZXJhY3Rpbmcgd2l0aCB0aGUgRGVlcGdyYW0gQVBJLlxuICogQHNlZSBodHRwczovL2RldmVsb3BlcnMuZGVlcGdyYW0uY29tXG4gKi9cbmV4cG9ydCBhYnN0cmFjdCBjbGFzcyBBYnN0cmFjdENsaWVudCB7XG4gIHByb3RlY3RlZCBiYXNlVXJsOiBVUkw7XG5cbiAgY29uc3RydWN0b3IocHJvdGVjdGVkIGtleTogc3RyaW5nLCBwcm90ZWN0ZWQgb3B0aW9uczogRGVlcGdyYW1DbGllbnRPcHRpb25zKSB7XG4gICAgdGhpcy5rZXkgPSBrZXk7XG5cbiAgICBpZiAoIWtleSkge1xuICAgICAgdGhpcy5rZXkgPSBwcm9jZXNzLmVudi5ERUVQR1JBTV9BUElfS0VZIGFzIHN0cmluZztcbiAgICB9XG5cbiAgICBpZiAoIXRoaXMua2V5KSB7XG4gICAgICB0aHJvdyBuZXcgRGVlcGdyYW1FcnJvcihcIkEgZGVlcGdyYW0gQVBJIGtleSBpcyByZXF1aXJlZFwiKTtcbiAgICB9XG5cbiAgICB0aGlzLm9wdGlvbnMgPSBhcHBseVNldHRpbmdEZWZhdWx0cyhvcHRpb25zLCBERUZBVUxUX09QVElPTlMpO1xuXG4gICAgaWYgKCF0aGlzLm9wdGlvbnMuZ2xvYmFsPy51cmwpIHtcbiAgICAgIHRocm93IG5ldyBEZWVwZ3JhbUVycm9yKFxuICAgICAgICBgQW4gQVBJIFVSTCBpcyByZXF1aXJlZC4gSXQgc2hvdWxkIGJlIHNldCB0byAke0RFRkFVTFRfVVJMfSBieSBkZWZhdWx0LiBObyBpZGVhIHdoYXQgaGFwcGVuZWQhYFxuICAgICAgKTtcbiAgICB9XG5cbiAgICBsZXQgYmFzZVVybFN0cmluZzogc3RyaW5nID0gdGhpcy5vcHRpb25zLmdsb2JhbC51cmw7XG4gICAgbGV0IHByb3h5VXJsU3RyaW5nOiBzdHJpbmc7XG5cbiAgICAvKipcbiAgICAgKiBDaGVjayBpZiB0aGUgYmFzZSBVUkwgcHJvdmlkZWQgaXMgbWlzc2luZyBhIHByb3RvY29sIGFuZCB3YXJuIGluIHRoZSBjb25zb2xlLlxuICAgICAqL1xuICAgIGlmICghYmFzZVVybFN0cmluZy5zdGFydHNXaXRoKFwiaHR0cFwiKSAmJiAhYmFzZVVybFN0cmluZy5zdGFydHNXaXRoKFwid3NcIikpIHtcbiAgICAgIGNvbnNvbGUud2FybihcbiAgICAgICAgYFRoZSBiYXNlIFVSTCBwcm92aWRlZCBkb2VzIG5vdCBiZWdpbiB3aXRoIGh0dHAsIGh0dHBzLCB3cywgb3Igd3NzIGFuZCB3aWxsIGRlZmF1bHQgdG8gaHR0cHMgYXMgc3RhbmRhcmQuYFxuICAgICAgKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBcHBseWluZyBwcm94eSB0byBiYXNlIFVSTC5cbiAgICAgKi9cbiAgICBpZiAodGhpcy5vcHRpb25zLnJlc3RQcm94eT8udXJsKSB7XG4gICAgICAvKipcbiAgICAgICAqIFByZXZlbnQgY2xpZW50IHVzaW5nIGEgcmVhbCBBUEkga2V5IHdoZW4gdXNpbmcgYSBwcm94eSBjb25maWd1cmF0aW9uLlxuICAgICAgICovXG4gICAgICBpZiAodGhpcy5rZXkgIT09IFwicHJveHlcIikge1xuICAgICAgICB0aHJvdyBuZXcgRGVlcGdyYW1FcnJvcihcbiAgICAgICAgICBgRG8gbm90IGF0dGVtcHQgdG8gcGFzcyBhbnkgb3RoZXIgQVBJIGtleSB0aGFuIHRoZSBzdHJpbmcgXCJwcm94eVwiIHdoZW4gbWFraW5nIHByb3hpZWQgUkVTVCByZXF1ZXN0cy4gUGxlYXNlIGVuc3VyZSB5b3VyIHByb3h5IGFwcGxpY2F0aW9uIGlzIHJlc3BvbnNpYmxlIGZvciB3cml0aW5nIG91ciBBUEkga2V5IHRvIHRoZSBBdXRob3JpemF0aW9uIGhlYWRlci5gXG4gICAgICAgICk7XG4gICAgICB9XG5cbiAgICAgIHByb3h5VXJsU3RyaW5nID0gdGhpcy5vcHRpb25zLnJlc3RQcm94eS51cmw7XG5cbiAgICAgIC8qKlxuICAgICAgICogQ2hlY2sgaWYgdGhlIHByb3h5IFVSTCBwcm92aWRlZCBpcyBtaXNzaW5nIGEgcHJvdG9jb2wgYW5kIHdhcm4gaW4gdGhlIGNvbnNvbGUuXG4gICAgICAgKi9cbiAgICAgIGlmICghcHJveHlVcmxTdHJpbmcuc3RhcnRzV2l0aChcImh0dHBcIikgJiYgIXByb3h5VXJsU3RyaW5nLnN0YXJ0c1dpdGgoXCJ3c1wiKSkge1xuICAgICAgICBjb25zb2xlLndhcm4oXG4gICAgICAgICAgYFRoZSBwcm94eSBVUkwgcHJvdmlkZWQgZG9lcyBub3QgYmVnaW4gd2l0aCBodHRwLCBodHRwcywgd3MsIG9yIHdzcyBhbmQgd2lsbCBkZWZhdWx0IHRvIGh0dHBzIGFzIHN0YW5kYXJkLmBcbiAgICAgICAgKTtcbiAgICAgIH1cblxuICAgICAgYmFzZVVybFN0cmluZyA9IHByb3h5VXJsU3RyaW5nO1xuICAgIH1cblxuICAgIHRoaXMuYmFzZVVybCA9IHRoaXMucmVzb2x2ZUJhc2VVcmwoYmFzZVVybFN0cmluZyk7XG4gIH1cblxuICBwcm90ZWN0ZWQgcmVzb2x2ZUJhc2VVcmwodXJsOiBzdHJpbmcpIHtcbiAgICBpZiAoIS9eaHR0cHM/OlxcL1xcLy9pLnRlc3QodXJsKSkge1xuICAgICAgdXJsID0gXCJodHRwczovL1wiICsgdXJsO1xuICAgIH1cblxuICAgIHJldHVybiBuZXcgVVJMKHN0cmlwVHJhaWxpbmdTbGFzaCh1cmwpKTtcbiAgfVxuXG4gIHByb3RlY3RlZCB3aWxsUHJveHkoKSB7XG4gICAgY29uc3QgcHJveHlVcmwgPSB0aGlzLm9wdGlvbnMucmVzdFByb3h5Py51cmw7XG5cbiAgICByZXR1cm4gISFwcm94eVVybDtcbiAgfVxufVxuIiwgImltcG9ydCB7IEV2ZW50RW1pdHRlciB9IGZyb20gXCJldmVudHNcIjtcbmltcG9ydCB7IERFRkFVTFRfT1BUSU9OUywgREVGQVVMVF9VUkwgfSBmcm9tIFwiLi4vbGliL2NvbnN0YW50c1wiO1xuaW1wb3J0IHsgYXBwbHlTZXR0aW5nRGVmYXVsdHMsIHN0cmlwVHJhaWxpbmdTbGFzaCB9IGZyb20gXCIuLi9saWIvaGVscGVyc1wiO1xuaW1wb3J0IHsgRGVlcGdyYW1DbGllbnRPcHRpb25zIH0gZnJvbSBcIi4uL2xpYi90eXBlc1wiO1xuXG5leHBvcnQgYWJzdHJhY3QgY2xhc3MgQWJzdHJhY3RXc0NsaWVudCBleHRlbmRzIEV2ZW50RW1pdHRlciB7XG4gIHByb3RlY3RlZCBiYXNlVXJsOiBVUkw7XG5cbiAgY29uc3RydWN0b3IoXG4gICAgcHJvdGVjdGVkIGtleTogc3RyaW5nLFxuICAgIHByb3RlY3RlZCBvcHRpb25zOiBEZWVwZ3JhbUNsaWVudE9wdGlvbnMgfCB1bmRlZmluZWQgPSBERUZBVUxUX09QVElPTlNcbiAgKSB7XG4gICAgc3VwZXIoKTtcblxuICAgIHRoaXMua2V5ID0ga2V5O1xuXG4gICAgaWYgKCFrZXkpIHtcbiAgICAgIHRoaXMua2V5ID0gcHJvY2Vzcy5lbnYuREVFUEdSQU1fQVBJX0tFWSBhcyBzdHJpbmc7XG4gICAgfVxuXG4gICAgaWYgKCF0aGlzLmtleSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQSBkZWVwZ3JhbSBBUEkga2V5IGlzIHJlcXVpcmVkXCIpO1xuICAgIH1cblxuICAgIHRoaXMub3B0aW9ucyA9IGFwcGx5U2V0dGluZ0RlZmF1bHRzKG9wdGlvbnMsIERFRkFVTFRfT1BUSU9OUyk7XG5cbiAgICBpZiAoIXRoaXMub3B0aW9ucy5nbG9iYWw/LnVybCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICBgQW4gQVBJIFVSTCBpcyByZXF1aXJlZC4gSXQgc2hvdWxkIGJlIHNldCB0byAke0RFRkFVTFRfVVJMfSBieSBkZWZhdWx0LiBObyBpZGVhIHdoYXQgaGFwcGVuZWQhYFxuICAgICAgKTtcbiAgICB9XG5cbiAgICBsZXQgdXJsID0gdGhpcy5vcHRpb25zLmdsb2JhbC51cmw7XG5cbiAgICBpZiAoIS9eaHR0cHM/OlxcL1xcLy9pLnRlc3QodXJsKSkge1xuICAgICAgdXJsID0gXCJodHRwczovL1wiICsgdXJsO1xuICAgIH1cblxuICAgIHRoaXMuYmFzZVVybCA9IG5ldyBVUkwoc3RyaXBUcmFpbGluZ1NsYXNoKHVybCkpO1xuICAgIHRoaXMuYmFzZVVybC5wcm90b2NvbCA9IHRoaXMuYmFzZVVybC5wcm90b2NvbC50b0xvd2VyQ2FzZSgpLnJlcGxhY2UoLyhodHRwKShzKT8vZ2ksIFwid3MkMlwiKTtcbiAgfVxufVxuIiwgImV4cG9ydCBlbnVtIExpdmVDb25uZWN0aW9uU3RhdGUge1xuICBDT05ORUNUSU5HID0gMCxcbiAgT1BFTiA9IDEsXG4gIENMT1NJTkcgPSAyLFxuICBDTE9TRUQgPSAzLFxufVxuIiwgImV4cG9ydCBlbnVtIExpdmVUcmFuc2NyaXB0aW9uRXZlbnRzIHtcbiAgT3BlbiA9IFwib3BlblwiLFxuICBDbG9zZSA9IFwiY2xvc2VcIixcbiAgVHJhbnNjcmlwdCA9IFwiUmVzdWx0c1wiLCAvLyBleGFjdCBtYXRjaCB0byBkYXRhIHR5cGUgZnJvbSBBUElcbiAgTWV0YWRhdGEgPSBcIk1ldGFkYXRhXCIsIC8vIGV4YWN0IG1hdGNoIHRvIGRhdGEgdHlwZSBmcm9tIEFQSVxuICBFcnJvciA9IFwiZXJyb3JcIixcbiAgV2FybmluZyA9IFwid2FybmluZ1wiLFxuICBVdHRlcmFuY2VFbmQgPSBcIlV0dGVyYW5jZUVuZFwiLCAvLyBleGFjdCBtYXRjaCB0byBkYXRhIHR5cGUgZnJvbSBBUElcbiAgU3BlZWNoU3RhcnRlZCA9IFwiU3BlZWNoU3RhcnRlZFwiLFxufVxuIiwgImltcG9ydCB7IEFic3RyYWN0V3NDbGllbnQgfSBmcm9tIFwiLi9BYnN0cmFjdFdzQ2xpZW50XCI7XG5pbXBvcnQgeyBhcHBlbmRTZWFyY2hQYXJhbXMgfSBmcm9tIFwiLi4vbGliL2hlbHBlcnNcIjtcbmltcG9ydCB7IERlZXBncmFtRXJyb3IgfSBmcm9tIFwiLi4vbGliL2Vycm9yc1wiO1xuaW1wb3J0IHsgREVGQVVMVF9PUFRJT05TIH0gZnJvbSBcIi4uL2xpYi9jb25zdGFudHNcIjtcbmltcG9ydCB7IExpdmVDb25uZWN0aW9uU3RhdGUsIExpdmVUcmFuc2NyaXB0aW9uRXZlbnRzIH0gZnJvbSBcIi4uL2xpYi9lbnVtc1wiO1xuaW1wb3J0IHsgdzNjd2Vic29ja2V0IH0gZnJvbSBcIndlYnNvY2tldFwiO1xuXG5pbXBvcnQgdHlwZSB7XG4gIExpdmVTY2hlbWEsXG4gIExpdmVDb25maWdPcHRpb25zLFxuICBMaXZlTWV0YWRhdGFFdmVudCxcbiAgTGl2ZVRyYW5zY3JpcHRpb25FdmVudCxcbiAgRGVlcGdyYW1DbGllbnRPcHRpb25zLFxuICBVdHRlcmFuY2VFbmRFdmVudCxcbiAgU3BlZWNoU3RhcnRlZEV2ZW50LFxufSBmcm9tIFwiLi4vbGliL3R5cGVzXCI7XG5cbmV4cG9ydCBjbGFzcyBMaXZlQ2xpZW50IGV4dGVuZHMgQWJzdHJhY3RXc0NsaWVudCB7XG4gIHByaXZhdGUgX3NvY2tldDogdzNjd2Vic29ja2V0O1xuXG4gIGNvbnN0cnVjdG9yKFxuICAgIHByb3RlY3RlZCBrZXk6IHN0cmluZyxcbiAgICBwcm90ZWN0ZWQgb3B0aW9uczogRGVlcGdyYW1DbGllbnRPcHRpb25zIHwgdW5kZWZpbmVkID0gREVGQVVMVF9PUFRJT05TLFxuICAgIHByaXZhdGUgdHJhbnNjcmlwdGlvbk9wdGlvbnM6IExpdmVTY2hlbWEgPSB7fSxcbiAgICBlbmRwb2ludCA9IFwidjEvbGlzdGVuXCJcbiAgKSB7XG4gICAgc3VwZXIoa2V5LCBvcHRpb25zKTtcblxuICAgIGNvbnN0IHVybCA9IG5ldyBVUkwoZW5kcG9pbnQsIHRoaXMuYmFzZVVybCk7XG4gICAgdXJsLnByb3RvY29sID0gdXJsLnByb3RvY29sLnRvTG93ZXJDYXNlKCkucmVwbGFjZSgvKGh0dHApKHMpPy9naSwgXCJ3cyQyXCIpO1xuICAgIGFwcGVuZFNlYXJjaFBhcmFtcyh1cmwuc2VhcmNoUGFyYW1zLCB0aGlzLnRyYW5zY3JpcHRpb25PcHRpb25zKTtcblxuICAgIHRoaXMuX3NvY2tldCA9IG5ldyB3M2N3ZWJzb2NrZXQodXJsLnRvU3RyaW5nKCksIFtcInRva2VuXCIsIHRoaXMua2V5XSk7XG5cbiAgICB0aGlzLl9zb2NrZXQub25vcGVuID0gKCkgPT4ge1xuICAgICAgdGhpcy5lbWl0KExpdmVUcmFuc2NyaXB0aW9uRXZlbnRzLk9wZW4sIHRoaXMpO1xuICAgIH07XG5cbiAgICB0aGlzLl9zb2NrZXQub25jbG9zZSA9IChldmVudDogYW55KSA9PiB7XG4gICAgICB0aGlzLmVtaXQoTGl2ZVRyYW5zY3JpcHRpb25FdmVudHMuQ2xvc2UsIGV2ZW50KTtcbiAgICB9O1xuXG4gICAgdGhpcy5fc29ja2V0Lm9uZXJyb3IgPSAoZXZlbnQpID0+IHtcbiAgICAgIHRoaXMuZW1pdChMaXZlVHJhbnNjcmlwdGlvbkV2ZW50cy5FcnJvciwgZXZlbnQpO1xuICAgIH07XG5cbiAgICB0aGlzLl9zb2NrZXQub25tZXNzYWdlID0gKGV2ZW50KSA9PiB7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCBkYXRhOiBhbnkgPSBKU09OLnBhcnNlKGV2ZW50LmRhdGEudG9TdHJpbmcoKSk7XG5cbiAgICAgICAgaWYgKGRhdGEudHlwZSA9PT0gTGl2ZVRyYW5zY3JpcHRpb25FdmVudHMuTWV0YWRhdGEpIHtcbiAgICAgICAgICB0aGlzLmVtaXQoTGl2ZVRyYW5zY3JpcHRpb25FdmVudHMuTWV0YWRhdGEsIGRhdGEgYXMgTGl2ZU1ldGFkYXRhRXZlbnQpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGRhdGEudHlwZSA9PT0gTGl2ZVRyYW5zY3JpcHRpb25FdmVudHMuVHJhbnNjcmlwdCkge1xuICAgICAgICAgIHRoaXMuZW1pdChMaXZlVHJhbnNjcmlwdGlvbkV2ZW50cy5UcmFuc2NyaXB0LCBkYXRhIGFzIExpdmVUcmFuc2NyaXB0aW9uRXZlbnQpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGRhdGEudHlwZSA9PT0gTGl2ZVRyYW5zY3JpcHRpb25FdmVudHMuVXR0ZXJhbmNlRW5kKSB7XG4gICAgICAgICAgdGhpcy5lbWl0KExpdmVUcmFuc2NyaXB0aW9uRXZlbnRzLlV0dGVyYW5jZUVuZCwgZGF0YSBhcyBVdHRlcmFuY2VFbmRFdmVudCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZGF0YS50eXBlID09PSBMaXZlVHJhbnNjcmlwdGlvbkV2ZW50cy5TcGVlY2hTdGFydGVkKSB7XG4gICAgICAgICAgdGhpcy5lbWl0KExpdmVUcmFuc2NyaXB0aW9uRXZlbnRzLlNwZWVjaFN0YXJ0ZWQsIGRhdGEgYXMgU3BlZWNoU3RhcnRlZEV2ZW50KTtcbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgdGhpcy5lbWl0KExpdmVUcmFuc2NyaXB0aW9uRXZlbnRzLkVycm9yLCB7XG4gICAgICAgICAgZXZlbnQsXG4gICAgICAgICAgbWVzc2FnZTogXCJVbmFibGUgdG8gcGFyc2UgYGRhdGFgIGFzIEpTT04uXCIsXG4gICAgICAgICAgZXJyb3IsXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH07XG4gIH1cblxuICBwdWJsaWMgY29uZmlndXJlKGNvbmZpZzogTGl2ZUNvbmZpZ09wdGlvbnMpOiB2b2lkIHtcbiAgICB0aGlzLl9zb2NrZXQuc2VuZChcbiAgICAgIEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgdHlwZTogXCJDb25maWd1cmVcIixcbiAgICAgICAgcHJvY2Vzc29yczogY29uZmlnLFxuICAgICAgfSlcbiAgICApO1xuICB9XG5cbiAgcHVibGljIGtlZXBBbGl2ZSgpOiB2b2lkIHtcbiAgICB0aGlzLl9zb2NrZXQuc2VuZChcbiAgICAgIEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgdHlwZTogXCJLZWVwQWxpdmVcIixcbiAgICAgIH0pXG4gICAgKTtcbiAgfVxuXG4gIHB1YmxpYyBnZXRSZWFkeVN0YXRlKCk6IExpdmVDb25uZWN0aW9uU3RhdGUge1xuICAgIHJldHVybiB0aGlzLl9zb2NrZXQucmVhZHlTdGF0ZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZW5kcyBkYXRhIHRvIHRoZSBEZWVwZ3JhbSBBUEkgdmlhIHdlYnNvY2tldCBjb25uZWN0aW9uXG4gICAqIEBwYXJhbSBkYXRhIEF1ZGlvIGRhdGEgdG8gc2VuZCB0byBEZWVwZ3JhbVxuICAgKlxuICAgKiBDb25mb3JtcyB0byBSRkMgIzE0NiBmb3IgTm9kZS5qcyAtIGRvZXMgbm90IHNlbmQgYW4gZW1wdHkgYnl0ZS5cbiAgICogSW4gdGhlIGJyb3dzZXIsIGEgQmxvYiB3aWxsIGNvbnRhaW4gbGVuZ3RoIHdpdGggbm8gYXVkaW8uXG4gICAqIEBzZWUgaHR0cHM6Ly9naXRodWIuY29tL2RlZXBncmFtL2RlZXBncmFtLXB5dGhvbi1zZGsvaXNzdWVzLzE0NlxuICAgKi9cbiAgcHVibGljIHNlbmQoZGF0YTogc3RyaW5nIHwgQXJyYXlCdWZmZXJMaWtlIHwgQmxvYik6IHZvaWQge1xuICAgIGlmICh0aGlzLl9zb2NrZXQucmVhZHlTdGF0ZSA9PT0gTGl2ZUNvbm5lY3Rpb25TdGF0ZS5PUEVOKSB7XG4gICAgICBpZiAodHlwZW9mIGRhdGEgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgdGhpcy5fc29ja2V0LnNlbmQoZGF0YSk7IC8vIHNlbmQgdGV4dCBkYXRhXG4gICAgICB9IGVsc2UgaWYgKChkYXRhIGFzIGFueSkgaW5zdGFuY2VvZiBCbG9iKSB7XG4gICAgICAgIHRoaXMuX3NvY2tldC5zZW5kKGRhdGEgYXMgdW5rbm93biBhcyBBcnJheUJ1ZmZlckxpa2UpOyAvLyBzZW5kIGJsb2IgZGF0YVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29uc3QgYnVmZmVyID0gZGF0YSBhcyBBcnJheUJ1ZmZlckxpa2U7XG5cbiAgICAgICAgaWYgKGJ1ZmZlci5ieXRlTGVuZ3RoID4gMCkge1xuICAgICAgICAgIHRoaXMuX3NvY2tldC5zZW5kKGJ1ZmZlcik7IC8vIHNlbmQgYnVmZmVyIHdoZW4gbm90IHplcm8tYnl0ZSAob3IgYnJvd3NlcilcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aGlzLmVtaXQoXG4gICAgICAgICAgICBMaXZlVHJhbnNjcmlwdGlvbkV2ZW50cy5XYXJuaW5nLFxuICAgICAgICAgICAgXCJaZXJvLWJ5dGUgZGV0ZWN0ZWQsIHNraXBwaW5nLiBTZW5kIGBDbG9zZVN0cmVhbWAgaWYgdHJ5aW5nIHRvIGNsb3NlIHRoZSBjb25uZWN0aW9uLlwiXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICB0aHJvdyBuZXcgRGVlcGdyYW1FcnJvcihcIkNvdWxkIG5vdCBzZW5kLiBDb25uZWN0aW9uIG5vdCBvcGVuLlwiKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogRGVub3RlIHRoYXQgeW91IGFyZSBmaW5pc2hlZCBzZW5kaW5nIGF1ZGlvIGFuZCBjbG9zZVxuICAgKiB0aGUgd2Vic29ja2V0IGNvbm5lY3Rpb24gd2hlbiB0cmFuc2NyaXB0aW9uIGlzIGZpbmlzaGVkXG4gICAqL1xuICBwdWJsaWMgZmluaXNoKCk6IHZvaWQge1xuICAgIC8vIHRlbGwgdGhlIHNlcnZlciB0byBjbG9zZSB0aGUgc29ja2V0XG4gICAgdGhpcy5fc29ja2V0LnNlbmQoXG4gICAgICBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgIHR5cGU6IFwiQ2xvc2VTdHJlYW1cIixcbiAgICAgIH0pXG4gICAgKTtcbiAgfVxufVxuIiwgImltcG9ydCBjcm9zc0ZldGNoIGZyb20gXCJjcm9zcy1mZXRjaFwiO1xuaW1wb3J0IHsgcmVzb2x2ZUhlYWRlcnNDb25zdHJ1Y3RvciB9IGZyb20gXCIuL2hlbHBlcnNcIjtcbmltcG9ydCB0eXBlIHsgRmV0Y2ggfSBmcm9tIFwiLi90eXBlcy9GZXRjaFwiO1xuXG5leHBvcnQgY29uc3QgcmVzb2x2ZUZldGNoID0gKGN1c3RvbUZldGNoPzogRmV0Y2gpOiBGZXRjaCA9PiB7XG4gIGxldCBfZmV0Y2g6IEZldGNoO1xuICBpZiAoY3VzdG9tRmV0Y2gpIHtcbiAgICBfZmV0Y2ggPSBjdXN0b21GZXRjaDtcbiAgfSBlbHNlIGlmICh0eXBlb2YgZmV0Y2ggPT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICBfZmV0Y2ggPSBjcm9zc0ZldGNoIGFzIHVua25vd24gYXMgRmV0Y2g7XG4gIH0gZWxzZSB7XG4gICAgX2ZldGNoID0gZmV0Y2g7XG4gIH1cbiAgcmV0dXJuICguLi5hcmdzKSA9PiBfZmV0Y2goLi4uYXJncyk7XG59O1xuXG5leHBvcnQgY29uc3QgZmV0Y2hXaXRoQXV0aCA9IChhcGlLZXk6IHN0cmluZywgY3VzdG9tRmV0Y2g/OiBGZXRjaCk6IEZldGNoID0+IHtcbiAgY29uc3QgZmV0Y2ggPSByZXNvbHZlRmV0Y2goY3VzdG9tRmV0Y2gpO1xuICBjb25zdCBIZWFkZXJzQ29uc3RydWN0b3IgPSByZXNvbHZlSGVhZGVyc0NvbnN0cnVjdG9yKCk7XG5cbiAgcmV0dXJuIGFzeW5jIChpbnB1dCwgaW5pdCkgPT4ge1xuICAgIGxldCBoZWFkZXJzID0gbmV3IEhlYWRlcnNDb25zdHJ1Y3Rvcihpbml0Py5oZWFkZXJzKTtcblxuICAgIGlmICghaGVhZGVycy5oYXMoXCJBdXRob3JpemF0aW9uXCIpKSB7XG4gICAgICBoZWFkZXJzLnNldChcIkF1dGhvcml6YXRpb25cIiwgYFRva2VuICR7YXBpS2V5fWApO1xuICAgIH1cblxuICAgIHJldHVybiBmZXRjaChpbnB1dCwgeyAuLi5pbml0LCBoZWFkZXJzIH0pO1xuICB9O1xufTtcblxuZXhwb3J0IGNvbnN0IHJlc29sdmVSZXNwb25zZSA9IGFzeW5jICgpID0+IHtcbiAgaWYgKHR5cGVvZiBSZXNwb25zZSA9PT0gXCJ1bmRlZmluZWRcIikge1xuICAgIHJldHVybiAoYXdhaXQgaW1wb3J0KFwiY3Jvc3MtZmV0Y2hcIikpLlJlc3BvbnNlO1xuICB9XG5cbiAgcmV0dXJuIFJlc3BvbnNlO1xufTtcbiIsICJpbXBvcnQgeyBEZWVwZ3JhbUFwaUVycm9yLCBEZWVwZ3JhbUVycm9yLCBEZWVwZ3JhbVVua25vd25FcnJvciB9IGZyb20gXCIuLi9saWIvZXJyb3JzXCI7XG5pbXBvcnQgeyBSZWFkYWJsZSB9IGZyb20gXCJzdHJlYW1cIjtcbmltcG9ydCB7IGZldGNoV2l0aEF1dGgsIHJlc29sdmVSZXNwb25zZSB9IGZyb20gXCIuLi9saWIvZmV0Y2hcIjtcbmltcG9ydCB0eXBlIHsgRmV0Y2gsIEZldGNoUGFyYW1ldGVycywgUmVxdWVzdE1ldGhvZFR5cGUgfSBmcm9tIFwiLi4vbGliL3R5cGVzL0ZldGNoXCI7XG5pbXBvcnQgeyBBYnN0cmFjdENsaWVudCB9IGZyb20gXCIuL0Fic3RyYWN0Q2xpZW50XCI7XG5pbXBvcnQgeyBEZWVwZ3JhbUNsaWVudE9wdGlvbnMgfSBmcm9tIFwiLi4vbGliL3R5cGVzXCI7XG5pbXBvcnQgeyBpc0Jyb3dzZXIgfSBmcm9tIFwiLi4vbGliL2hlbHBlcnNcIjtcblxuZXhwb3J0IGFic3RyYWN0IGNsYXNzIEFic3RyYWN0UmVzdGZ1bENsaWVudCBleHRlbmRzIEFic3RyYWN0Q2xpZW50IHtcbiAgcHJvdGVjdGVkIGZldGNoOiBGZXRjaDtcblxuICBjb25zdHJ1Y3Rvcihwcm90ZWN0ZWQga2V5OiBzdHJpbmcsIHByb3RlY3RlZCBvcHRpb25zOiBEZWVwZ3JhbUNsaWVudE9wdGlvbnMpIHtcbiAgICBzdXBlcihrZXksIG9wdGlvbnMpO1xuXG4gICAgaWYgKGlzQnJvd3NlcigpICYmICF0aGlzLl93aWxsUHJveHkoKSkge1xuICAgICAgdGhyb3cgbmV3IERlZXBncmFtRXJyb3IoXG4gICAgICAgIFwiRHVlIHRvIENPUlMgd2UgYXJlIHVuYWJsZSB0byBzdXBwb3J0IFJFU1QtYmFzZWQgQVBJIGNhbGxzIHRvIG91ciBBUEkgZnJvbSB0aGUgYnJvd3Nlci4gUGxlYXNlIGNvbnNpZGVyIHVzaW5nIGEgcHJveHksIGFuZCBpbmNsdWRpbmcgYSBgcmVzdFByb3h5OiB7IHVybDogJyd9YCBpbiB5b3VyIERlZXBncmFtIGNsaWVudCBvcHRpb25zLlwiXG4gICAgICApO1xuICAgIH1cblxuICAgIHRoaXMuZmV0Y2ggPSBmZXRjaFdpdGhBdXRoKHRoaXMua2V5LCBvcHRpb25zLl9leHBlcmltZW50YWxDdXN0b21GZXRjaCk7XG4gIH1cblxuICBwcm90ZWN0ZWQgX2dldEVycm9yTWVzc2FnZShlcnI6IGFueSk6IHN0cmluZyB7XG4gICAgcmV0dXJuIGVyci5tc2cgfHwgZXJyLm1lc3NhZ2UgfHwgZXJyLmVycm9yX2Rlc2NyaXB0aW9uIHx8IGVyci5lcnJvciB8fCBKU09OLnN0cmluZ2lmeShlcnIpO1xuICB9XG5cbiAgcHJvdGVjdGVkIGFzeW5jIGhhbmRsZUVycm9yKGVycm9yOiB1bmtub3duLCByZWplY3Q6IChyZWFzb24/OiBhbnkpID0+IHZvaWQpIHtcbiAgICBjb25zdCBSZXMgPSBhd2FpdCByZXNvbHZlUmVzcG9uc2UoKTtcblxuICAgIGlmIChlcnJvciBpbnN0YW5jZW9mIFJlcykge1xuICAgICAgZXJyb3JcbiAgICAgICAgLmpzb24oKVxuICAgICAgICAudGhlbigoZXJyKSA9PiB7XG4gICAgICAgICAgcmVqZWN0KG5ldyBEZWVwZ3JhbUFwaUVycm9yKHRoaXMuX2dldEVycm9yTWVzc2FnZShlcnIpLCBlcnJvci5zdGF0dXMgfHwgNTAwKSk7XG4gICAgICAgIH0pXG4gICAgICAgIC5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICAgICAgcmVqZWN0KG5ldyBEZWVwZ3JhbVVua25vd25FcnJvcih0aGlzLl9nZXRFcnJvck1lc3NhZ2UoZXJyKSwgZXJyKSk7XG4gICAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICByZWplY3QobmV3IERlZXBncmFtVW5rbm93bkVycm9yKHRoaXMuX2dldEVycm9yTWVzc2FnZShlcnJvciksIGVycm9yKSk7XG4gICAgfVxuICB9XG5cbiAgcHJvdGVjdGVkIF9nZXRSZXF1ZXN0UGFyYW1zKFxuICAgIG1ldGhvZDogUmVxdWVzdE1ldGhvZFR5cGUsXG4gICAgaGVhZGVycz86IFJlY29yZDxzdHJpbmcsIHN0cmluZz4sXG4gICAgcGFyYW1ldGVycz86IEZldGNoUGFyYW1ldGVycyxcbiAgICBib2R5Pzogc3RyaW5nIHwgQnVmZmVyIHwgUmVhZGFibGVcbiAgKSB7XG4gICAgY29uc3QgcGFyYW1zOiB7IFtrOiBzdHJpbmddOiBhbnkgfSA9IHtcbiAgICAgIC4uLnRoaXMub3B0aW9ucz8uZmV0Y2gsXG4gICAgICBtZXRob2QsXG4gICAgICBoZWFkZXJzOiB7IC4uLnRoaXMub3B0aW9ucz8uZmV0Y2g/LmhlYWRlcnMsIC4uLmhlYWRlcnMgfSB8fCB7fSxcbiAgICB9O1xuXG4gICAgaWYgKG1ldGhvZCA9PT0gXCJHRVRcIikge1xuICAgICAgcmV0dXJuIHBhcmFtcztcbiAgICB9XG5cbiAgICBwYXJhbXMuYm9keSA9IGJvZHk7XG4gICAgcGFyYW1zLmR1cGxleCA9IFwiaGFsZlwiO1xuXG4gICAgcmV0dXJuIHsgLi4ucGFyYW1zLCAuLi5wYXJhbWV0ZXJzIH07XG4gIH1cblxuICBwcm90ZWN0ZWQgYXN5bmMgX2hhbmRsZVJlcXVlc3QoXG4gICAgZmV0Y2hlcjogRmV0Y2gsXG4gICAgbWV0aG9kOiBSZXF1ZXN0TWV0aG9kVHlwZSxcbiAgICB1cmw6IHN0cmluZyB8IFVSTCxcbiAgICBoZWFkZXJzPzogUmVjb3JkPHN0cmluZywgc3RyaW5nPixcbiAgICBwYXJhbWV0ZXJzPzogRmV0Y2hQYXJhbWV0ZXJzLFxuICAgIGJvZHk/OiBzdHJpbmcgfCBCdWZmZXIgfCBSZWFkYWJsZVxuICApOiBQcm9taXNlPGFueT4ge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICBmZXRjaGVyKHVybCwgdGhpcy5fZ2V0UmVxdWVzdFBhcmFtcyhtZXRob2QsIGhlYWRlcnMsIHBhcmFtZXRlcnMsIGJvZHkpKVxuICAgICAgICAudGhlbigocmVzdWx0KSA9PiB7XG4gICAgICAgICAgaWYgKCFyZXN1bHQub2spIHRocm93IHJlc3VsdDtcblxuICAgICAgICAgIHJldHVybiByZXN1bHQuanNvbigpO1xuICAgICAgICB9KVxuICAgICAgICAudGhlbigoZGF0YSkgPT4gcmVzb2x2ZShkYXRhKSlcbiAgICAgICAgLmNhdGNoKChlcnJvcikgPT4gdGhpcy5oYW5kbGVFcnJvcihlcnJvciwgcmVqZWN0KSk7XG4gICAgfSk7XG4gIH1cblxuICBwcm90ZWN0ZWQgYXN5bmMgX2hhbmRsZVJhd1JlcXVlc3QoXG4gICAgZmV0Y2hlcjogRmV0Y2gsXG4gICAgbWV0aG9kOiBSZXF1ZXN0TWV0aG9kVHlwZSxcbiAgICB1cmw6IHN0cmluZyB8IFVSTCxcbiAgICBoZWFkZXJzPzogUmVjb3JkPHN0cmluZywgc3RyaW5nPixcbiAgICBwYXJhbWV0ZXJzPzogRmV0Y2hQYXJhbWV0ZXJzLFxuICAgIGJvZHk/OiBzdHJpbmcgfCBCdWZmZXIgfCBSZWFkYWJsZVxuICApOiBQcm9taXNlPGFueT4ge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICBmZXRjaGVyKHVybCwgdGhpcy5fZ2V0UmVxdWVzdFBhcmFtcyhtZXRob2QsIGhlYWRlcnMsIHBhcmFtZXRlcnMsIGJvZHkpKVxuICAgICAgICAudGhlbigocmVzdWx0KSA9PiB7XG4gICAgICAgICAgaWYgKCFyZXN1bHQub2spIHRocm93IHJlc3VsdDtcblxuICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgIH0pXG4gICAgICAgIC50aGVuKChkYXRhKSA9PiByZXNvbHZlKGRhdGEpKVxuICAgICAgICAuY2F0Y2goKGVycm9yKSA9PiB0aGlzLmhhbmRsZUVycm9yKGVycm9yLCByZWplY3QpKTtcbiAgICB9KTtcbiAgfVxuXG4gIHByb3RlY3RlZCBhc3luYyBnZXQoXG4gICAgZmV0Y2hlcjogRmV0Y2gsXG4gICAgdXJsOiBzdHJpbmcgfCBVUkwsXG4gICAgaGVhZGVycz86IFJlY29yZDxzdHJpbmcsIHN0cmluZz4sXG4gICAgcGFyYW1ldGVycz86IEZldGNoUGFyYW1ldGVyc1xuICApOiBQcm9taXNlPGFueT4ge1xuICAgIHJldHVybiB0aGlzLl9oYW5kbGVSZXF1ZXN0KGZldGNoZXIsIFwiR0VUXCIsIHVybCwgaGVhZGVycywgcGFyYW1ldGVycyk7XG4gIH1cblxuICBwcm90ZWN0ZWQgYXN5bmMgcG9zdChcbiAgICBmZXRjaGVyOiBGZXRjaCxcbiAgICB1cmw6IHN0cmluZyB8IFVSTCxcbiAgICBib2R5OiBzdHJpbmcgfCBCdWZmZXIgfCBSZWFkYWJsZSxcbiAgICBoZWFkZXJzPzogUmVjb3JkPHN0cmluZywgc3RyaW5nPixcbiAgICBwYXJhbWV0ZXJzPzogRmV0Y2hQYXJhbWV0ZXJzXG4gICk6IFByb21pc2U8YW55PiB7XG4gICAgcmV0dXJuIHRoaXMuX2hhbmRsZVJlcXVlc3QoZmV0Y2hlciwgXCJQT1NUXCIsIHVybCwgaGVhZGVycywgcGFyYW1ldGVycywgYm9keSk7XG4gIH1cblxuICBwcm90ZWN0ZWQgYXN5bmMgcHV0KFxuICAgIGZldGNoZXI6IEZldGNoLFxuICAgIHVybDogc3RyaW5nIHwgVVJMLFxuICAgIGJvZHk6IHN0cmluZyB8IEJ1ZmZlciB8IFJlYWRhYmxlLFxuICAgIGhlYWRlcnM/OiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+LFxuICAgIHBhcmFtZXRlcnM/OiBGZXRjaFBhcmFtZXRlcnNcbiAgKTogUHJvbWlzZTxhbnk+IHtcbiAgICByZXR1cm4gdGhpcy5faGFuZGxlUmVxdWVzdChmZXRjaGVyLCBcIlBVVFwiLCB1cmwsIGhlYWRlcnMsIHBhcmFtZXRlcnMsIGJvZHkpO1xuICB9XG5cbiAgcHJvdGVjdGVkIGFzeW5jIHBhdGNoKFxuICAgIGZldGNoZXI6IEZldGNoLFxuICAgIHVybDogc3RyaW5nIHwgVVJMLFxuICAgIGJvZHk6IHN0cmluZyB8IEJ1ZmZlciB8IFJlYWRhYmxlLFxuICAgIGhlYWRlcnM/OiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+LFxuICAgIHBhcmFtZXRlcnM/OiBGZXRjaFBhcmFtZXRlcnNcbiAgKTogUHJvbWlzZTxhbnk+IHtcbiAgICByZXR1cm4gdGhpcy5faGFuZGxlUmVxdWVzdChmZXRjaGVyLCBcIlBBVENIXCIsIHVybCwgaGVhZGVycywgcGFyYW1ldGVycywgYm9keSk7XG4gIH1cblxuICBwcm90ZWN0ZWQgYXN5bmMgZGVsZXRlKFxuICAgIGZldGNoZXI6IEZldGNoLFxuICAgIHVybDogc3RyaW5nIHwgVVJMLFxuICAgIGhlYWRlcnM/OiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+LFxuICAgIHBhcmFtZXRlcnM/OiBGZXRjaFBhcmFtZXRlcnNcbiAgKTogUHJvbWlzZTxhbnk+IHtcbiAgICByZXR1cm4gdGhpcy5faGFuZGxlUmVxdWVzdChmZXRjaGVyLCBcIkRFTEVURVwiLCB1cmwsIGhlYWRlcnMsIHBhcmFtZXRlcnMpO1xuICB9XG5cbiAgcHJpdmF0ZSBfd2lsbFByb3h5KCkge1xuICAgIGNvbnN0IHByb3h5VXJsID0gdGhpcy5vcHRpb25zLnJlc3RQcm94eT8udXJsO1xuXG4gICAgcmV0dXJuICEhcHJveHlVcmw7XG4gIH1cbn1cbiIsICJpbXBvcnQgeyBBYnN0cmFjdFJlc3RmdWxDbGllbnQgfSBmcm9tIFwiLi9BYnN0cmFjdFJlc3RmdWxDbGllbnRcIjtcbmltcG9ydCB7IENhbGxiYWNrVXJsLCBhcHBlbmRTZWFyY2hQYXJhbXMsIGlzRmlsZVNvdXJjZSwgaXNVcmxTb3VyY2UgfSBmcm9tIFwiLi4vbGliL2hlbHBlcnNcIjtcbmltcG9ydCB7IERlZXBncmFtRXJyb3IsIGlzRGVlcGdyYW1FcnJvciB9IGZyb20gXCIuLi9saWIvZXJyb3JzXCI7XG5pbXBvcnQgdHlwZSB7XG4gIEFzeW5jUHJlcmVjb3JkZWRSZXNwb25zZSxcbiAgRGVlcGdyYW1SZXNwb25zZSxcbiAgRmV0Y2gsXG4gIEZpbGVTb3VyY2UsXG4gIFByZXJlY29yZGVkU2NoZW1hLFxuICBTeW5jUHJlcmVjb3JkZWRSZXNwb25zZSxcbiAgVXJsU291cmNlLFxufSBmcm9tIFwiLi4vbGliL3R5cGVzXCI7XG5cbmV4cG9ydCBjbGFzcyBQcmVyZWNvcmRlZENsaWVudCBleHRlbmRzIEFic3RyYWN0UmVzdGZ1bENsaWVudCB7XG4gIGFzeW5jIHRyYW5zY3JpYmVVcmwoXG4gICAgc291cmNlOiBVcmxTb3VyY2UsXG4gICAgb3B0aW9ucz86IFByZXJlY29yZGVkU2NoZW1hLFxuICAgIGVuZHBvaW50ID0gXCJ2MS9saXN0ZW5cIlxuICApOiBQcm9taXNlPERlZXBncmFtUmVzcG9uc2U8U3luY1ByZXJlY29yZGVkUmVzcG9uc2U+PiB7XG4gICAgdHJ5IHtcbiAgICAgIGxldCBib2R5O1xuXG4gICAgICBpZiAoaXNVcmxTb3VyY2Uoc291cmNlKSkge1xuICAgICAgICBib2R5ID0gSlNPTi5zdHJpbmdpZnkoc291cmNlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRocm93IG5ldyBEZWVwZ3JhbUVycm9yKFwiVW5rbm93biB0cmFuc2NyaXB0aW9uIHNvdXJjZSB0eXBlXCIpO1xuICAgICAgfVxuXG4gICAgICBpZiAob3B0aW9ucyAhPT0gdW5kZWZpbmVkICYmIFwiY2FsbGJhY2tcIiBpbiBvcHRpb25zKSB7XG4gICAgICAgIHRocm93IG5ldyBEZWVwZ3JhbUVycm9yKFxuICAgICAgICAgIFwiQ2FsbGJhY2sgY2Fubm90IGJlIHByb3ZpZGVkIGFzIGFuIG9wdGlvbiB0byBhIHN5bmNocm9ub3VzIHRyYW5zY3JpcHRpb24uIFVzZSBgdHJhbnNjcmliZVVybENhbGxiYWNrYCBvciBgdHJhbnNjcmliZUZpbGVDYWxsYmFja2AgaW5zdGVhZC5cIlxuICAgICAgICApO1xuICAgICAgfVxuXG4gICAgICBjb25zdCB0cmFuc2NyaXB0aW9uT3B0aW9uczogUHJlcmVjb3JkZWRTY2hlbWEgPSB7IC4uLnt9LCAuLi5vcHRpb25zIH07XG5cbiAgICAgIGNvbnN0IHVybCA9IG5ldyBVUkwoZW5kcG9pbnQsIHRoaXMuYmFzZVVybCk7XG4gICAgICBhcHBlbmRTZWFyY2hQYXJhbXModXJsLnNlYXJjaFBhcmFtcywgdHJhbnNjcmlwdGlvbk9wdGlvbnMpO1xuXG4gICAgICBjb25zdCByZXN1bHQ6IFN5bmNQcmVyZWNvcmRlZFJlc3BvbnNlID0gYXdhaXQgdGhpcy5wb3N0KHRoaXMuZmV0Y2ggYXMgRmV0Y2gsIHVybCwgYm9keSk7XG5cbiAgICAgIHJldHVybiB7IHJlc3VsdCwgZXJyb3I6IG51bGwgfTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgaWYgKGlzRGVlcGdyYW1FcnJvcihlcnJvcikpIHtcbiAgICAgICAgcmV0dXJuIHsgcmVzdWx0OiBudWxsLCBlcnJvciB9O1xuICAgICAgfVxuXG4gICAgICB0aHJvdyBlcnJvcjtcbiAgICB9XG4gIH1cblxuICBhc3luYyB0cmFuc2NyaWJlRmlsZShcbiAgICBzb3VyY2U6IEZpbGVTb3VyY2UsXG4gICAgb3B0aW9ucz86IFByZXJlY29yZGVkU2NoZW1hLFxuICAgIGVuZHBvaW50ID0gXCJ2MS9saXN0ZW5cIlxuICApOiBQcm9taXNlPERlZXBncmFtUmVzcG9uc2U8U3luY1ByZXJlY29yZGVkUmVzcG9uc2U+PiB7XG4gICAgdHJ5IHtcbiAgICAgIGxldCBib2R5O1xuXG4gICAgICBpZiAoaXNGaWxlU291cmNlKHNvdXJjZSkpIHtcbiAgICAgICAgYm9keSA9IHNvdXJjZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRocm93IG5ldyBEZWVwZ3JhbUVycm9yKFwiVW5rbm93biB0cmFuc2NyaXB0aW9uIHNvdXJjZSB0eXBlXCIpO1xuICAgICAgfVxuXG4gICAgICBpZiAob3B0aW9ucyAhPT0gdW5kZWZpbmVkICYmIFwiY2FsbGJhY2tcIiBpbiBvcHRpb25zKSB7XG4gICAgICAgIHRocm93IG5ldyBEZWVwZ3JhbUVycm9yKFxuICAgICAgICAgIFwiQ2FsbGJhY2sgY2Fubm90IGJlIHByb3ZpZGVkIGFzIGFuIG9wdGlvbiB0byBhIHN5bmNocm9ub3VzIHRyYW5zY3JpcHRpb24uIFVzZSBgdHJhbnNjcmliZVVybENhbGxiYWNrYCBvciBgdHJhbnNjcmliZUZpbGVDYWxsYmFja2AgaW5zdGVhZC5cIlxuICAgICAgICApO1xuICAgICAgfVxuXG4gICAgICBjb25zdCB0cmFuc2NyaXB0aW9uT3B0aW9uczogUHJlcmVjb3JkZWRTY2hlbWEgPSB7IC4uLnt9LCAuLi5vcHRpb25zIH07XG5cbiAgICAgIGNvbnN0IHVybCA9IG5ldyBVUkwoZW5kcG9pbnQsIHRoaXMuYmFzZVVybCk7XG4gICAgICBhcHBlbmRTZWFyY2hQYXJhbXModXJsLnNlYXJjaFBhcmFtcywgdHJhbnNjcmlwdGlvbk9wdGlvbnMpO1xuXG4gICAgICBjb25zdCByZXN1bHQ6IFN5bmNQcmVyZWNvcmRlZFJlc3BvbnNlID0gYXdhaXQgdGhpcy5wb3N0KHRoaXMuZmV0Y2ggYXMgRmV0Y2gsIHVybCwgYm9keSwge1xuICAgICAgICBcIkNvbnRlbnQtVHlwZVwiOiBcImRlZXBncmFtL2F1ZGlvK3ZpZGVvXCIsXG4gICAgICB9KTtcblxuICAgICAgcmV0dXJuIHsgcmVzdWx0LCBlcnJvcjogbnVsbCB9O1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBpZiAoaXNEZWVwZ3JhbUVycm9yKGVycm9yKSkge1xuICAgICAgICByZXR1cm4geyByZXN1bHQ6IG51bGwsIGVycm9yIH07XG4gICAgICB9XG5cbiAgICAgIHRocm93IGVycm9yO1xuICAgIH1cbiAgfVxuXG4gIGFzeW5jIHRyYW5zY3JpYmVVcmxDYWxsYmFjayhcbiAgICBzb3VyY2U6IFVybFNvdXJjZSxcbiAgICBjYWxsYmFjazogQ2FsbGJhY2tVcmwsXG4gICAgb3B0aW9ucz86IFByZXJlY29yZGVkU2NoZW1hLFxuICAgIGVuZHBvaW50ID0gXCJ2MS9saXN0ZW5cIlxuICApOiBQcm9taXNlPERlZXBncmFtUmVzcG9uc2U8QXN5bmNQcmVyZWNvcmRlZFJlc3BvbnNlPj4ge1xuICAgIHRyeSB7XG4gICAgICBsZXQgYm9keTtcblxuICAgICAgaWYgKGlzVXJsU291cmNlKHNvdXJjZSkpIHtcbiAgICAgICAgYm9keSA9IEpTT04uc3RyaW5naWZ5KHNvdXJjZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aHJvdyBuZXcgRGVlcGdyYW1FcnJvcihcIlVua25vd24gdHJhbnNjcmlwdGlvbiBzb3VyY2UgdHlwZVwiKTtcbiAgICAgIH1cblxuICAgICAgY29uc3QgdHJhbnNjcmlwdGlvbk9wdGlvbnM6IFByZXJlY29yZGVkU2NoZW1hID0ge1xuICAgICAgICAuLi5vcHRpb25zLFxuICAgICAgICAuLi57IGNhbGxiYWNrOiBjYWxsYmFjay50b1N0cmluZygpIH0sXG4gICAgICB9O1xuXG4gICAgICBjb25zdCB1cmwgPSBuZXcgVVJMKGVuZHBvaW50LCB0aGlzLmJhc2VVcmwpO1xuICAgICAgYXBwZW5kU2VhcmNoUGFyYW1zKHVybC5zZWFyY2hQYXJhbXMsIHRyYW5zY3JpcHRpb25PcHRpb25zKTtcblxuICAgICAgY29uc3QgcmVzdWx0OiBBc3luY1ByZXJlY29yZGVkUmVzcG9uc2UgPSBhd2FpdCB0aGlzLnBvc3QodGhpcy5mZXRjaCBhcyBGZXRjaCwgdXJsLCBib2R5KTtcblxuICAgICAgcmV0dXJuIHsgcmVzdWx0LCBlcnJvcjogbnVsbCB9O1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBpZiAoaXNEZWVwZ3JhbUVycm9yKGVycm9yKSkge1xuICAgICAgICByZXR1cm4geyByZXN1bHQ6IG51bGwsIGVycm9yIH07XG4gICAgICB9XG5cbiAgICAgIHRocm93IGVycm9yO1xuICAgIH1cbiAgfVxuXG4gIGFzeW5jIHRyYW5zY3JpYmVGaWxlQ2FsbGJhY2soXG4gICAgc291cmNlOiBGaWxlU291cmNlLFxuICAgIGNhbGxiYWNrOiBDYWxsYmFja1VybCxcbiAgICBvcHRpb25zPzogUHJlcmVjb3JkZWRTY2hlbWEsXG4gICAgZW5kcG9pbnQgPSBcInYxL2xpc3RlblwiXG4gICk6IFByb21pc2U8RGVlcGdyYW1SZXNwb25zZTxBc3luY1ByZXJlY29yZGVkUmVzcG9uc2U+PiB7XG4gICAgdHJ5IHtcbiAgICAgIGxldCBib2R5O1xuXG4gICAgICBpZiAoaXNGaWxlU291cmNlKHNvdXJjZSkpIHtcbiAgICAgICAgYm9keSA9IHNvdXJjZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRocm93IG5ldyBEZWVwZ3JhbUVycm9yKFwiVW5rbm93biB0cmFuc2NyaXB0aW9uIHNvdXJjZSB0eXBlXCIpO1xuICAgICAgfVxuXG4gICAgICBjb25zdCB0cmFuc2NyaXB0aW9uT3B0aW9uczogUHJlcmVjb3JkZWRTY2hlbWEgPSB7XG4gICAgICAgIC4uLm9wdGlvbnMsXG4gICAgICAgIC4uLnsgY2FsbGJhY2s6IGNhbGxiYWNrLnRvU3RyaW5nKCkgfSxcbiAgICAgIH07XG5cbiAgICAgIGNvbnN0IHVybCA9IG5ldyBVUkwoZW5kcG9pbnQsIHRoaXMuYmFzZVVybCk7XG4gICAgICBhcHBlbmRTZWFyY2hQYXJhbXModXJsLnNlYXJjaFBhcmFtcywgdHJhbnNjcmlwdGlvbk9wdGlvbnMpO1xuXG4gICAgICBjb25zdCByZXN1bHQ6IEFzeW5jUHJlcmVjb3JkZWRSZXNwb25zZSA9IGF3YWl0IHRoaXMucG9zdCh0aGlzLmZldGNoIGFzIEZldGNoLCB1cmwsIGJvZHksIHtcbiAgICAgICAgXCJDb250ZW50LVR5cGVcIjogXCJkZWVwZ3JhbS9hdWRpbyt2aWRlb1wiLFxuICAgICAgfSk7XG5cbiAgICAgIHJldHVybiB7IHJlc3VsdCwgZXJyb3I6IG51bGwgfTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgaWYgKGlzRGVlcGdyYW1FcnJvcihlcnJvcikpIHtcbiAgICAgICAgcmV0dXJuIHsgcmVzdWx0OiBudWxsLCBlcnJvciB9O1xuICAgICAgfVxuXG4gICAgICB0aHJvdyBlcnJvcjtcbiAgICB9XG4gIH1cbn1cbiIsICJpbXBvcnQgeyBBYnN0cmFjdENsaWVudCB9IGZyb20gXCIuL0Fic3RyYWN0Q2xpZW50XCI7XG5pbXBvcnQgeyBMaXZlQ2xpZW50IH0gZnJvbSBcIi4vTGl2ZUNsaWVudFwiO1xuaW1wb3J0IHsgTGl2ZVNjaGVtYSB9IGZyb20gXCIuLi9saWIvdHlwZXNcIjtcbmltcG9ydCB7IFByZXJlY29yZGVkQ2xpZW50IH0gZnJvbSBcIi4vUHJlcmVjb3JkZWRDbGllbnRcIjtcblxuZXhwb3J0IGNsYXNzIExpc3RlbkNsaWVudCBleHRlbmRzIEFic3RyYWN0Q2xpZW50IHtcbiAgZ2V0IHByZXJlY29yZGVkKCkge1xuICAgIHJldHVybiBuZXcgUHJlcmVjb3JkZWRDbGllbnQodGhpcy5rZXksIHRoaXMub3B0aW9ucyk7XG4gIH1cblxuICBwdWJsaWMgbGl2ZSh0cmFuc2NyaXB0aW9uT3B0aW9uczogTGl2ZVNjaGVtYSwgZW5kcG9pbnQgPSBcInYxL2xpc3RlblwiKSB7XG4gICAgcmV0dXJuIG5ldyBMaXZlQ2xpZW50KHRoaXMua2V5LCB0aGlzLm9wdGlvbnMsIHRyYW5zY3JpcHRpb25PcHRpb25zLCBlbmRwb2ludCk7XG4gIH1cbn1cbiIsICJpbXBvcnQgeyBBYnN0cmFjdFJlc3RmdWxDbGllbnQgfSBmcm9tIFwiLi9BYnN0cmFjdFJlc3RmdWxDbGllbnRcIjtcbmltcG9ydCB7IGlzRGVlcGdyYW1FcnJvciB9IGZyb20gXCIuLi9saWIvZXJyb3JzXCI7XG5pbXBvcnQgeyBhcHBlbmRTZWFyY2hQYXJhbXMgfSBmcm9tIFwiLi4vbGliL2hlbHBlcnNcIjtcbmltcG9ydCB0eXBlIHtcbiAgQ3JlYXRlUHJvamVjdEtleVNjaGVtYSxcbiAgQ3JlYXRlUHJvamVjdEtleVJlc3BvbnNlLFxuICBEZWVwZ3JhbVJlc3BvbnNlLFxuICBGZXRjaCxcbiAgR2V0UHJvamVjdEJhbGFuY2VSZXNwb25zZSxcbiAgR2V0UHJvamVjdEJhbGFuY2VzUmVzcG9uc2UsXG4gIEdldFByb2plY3RJbnZpdGVzUmVzcG9uc2UsXG4gIEdldFByb2plY3RLZXlSZXNwb25zZSxcbiAgR2V0UHJvamVjdEtleXNSZXNwb25zZSxcbiAgR2V0UHJvamVjdE1lbWJlclNjb3Blc1Jlc3BvbnNlLFxuICBHZXRQcm9qZWN0TWVtYmVyc1Jlc3BvbnNlLFxuICBHZXRQcm9qZWN0UmVzcG9uc2UsXG4gIEdldFByb2plY3RzUmVzcG9uc2UsXG4gIEdldFByb2plY3RVc2FnZUZpZWxkc1NjaGVtYSxcbiAgR2V0UHJvamVjdFVzYWdlRmllbGRzUmVzcG9uc2UsXG4gIEdldFByb2plY3RVc2FnZVJlcXVlc3RSZXNwb25zZSxcbiAgR2V0UHJvamVjdFVzYWdlUmVxdWVzdHNTY2hlbWEsXG4gIEdldFByb2plY3RVc2FnZVJlcXVlc3RzUmVzcG9uc2UsXG4gIEdldFByb2plY3RVc2FnZVN1bW1hcnlTY2hlbWEsXG4gIEdldFByb2plY3RVc2FnZVN1bW1hcnlSZXNwb25zZSxcbiAgTWVzc2FnZVJlc3BvbnNlLFxuICBTZW5kUHJvamVjdEludml0ZVNjaGVtYSxcbiAgVXBkYXRlUHJvamVjdE1lbWJlclNjb3BlU2NoZW1hLFxuICBVcGRhdGVQcm9qZWN0U2NoZW1hLFxuICBWb2lkUmVzcG9uc2UsXG4gIEdldFRva2VuRGV0YWlsc1Jlc3BvbnNlLFxufSBmcm9tIFwiLi4vbGliL3R5cGVzXCI7XG5cbmV4cG9ydCBjbGFzcyBNYW5hZ2VDbGllbnQgZXh0ZW5kcyBBYnN0cmFjdFJlc3RmdWxDbGllbnQge1xuICAvKipcbiAgICogQHNlZSBodHRwczovL2RldmVsb3BlcnMuZGVlcGdyYW0uY29tL2RvY3MvYXV0aGVudGljYXRpbmcjdGVzdC1yZXF1ZXN0XG4gICAqL1xuICBhc3luYyBnZXRUb2tlbkRldGFpbHMoXG4gICAgZW5kcG9pbnQgPSBcInYxL2F1dGgvdG9rZW5cIlxuICApOiBQcm9taXNlPERlZXBncmFtUmVzcG9uc2U8R2V0VG9rZW5EZXRhaWxzUmVzcG9uc2U+PiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHVybCA9IG5ldyBVUkwodGhpcy5iYXNlVXJsKTtcbiAgICAgIHVybC5wYXRobmFtZSA9IGVuZHBvaW50O1xuXG4gICAgICBjb25zdCByZXN1bHQ6IEdldFRva2VuRGV0YWlsc1Jlc3BvbnNlID0gYXdhaXQgdGhpcy5nZXQodGhpcy5mZXRjaCBhcyBGZXRjaCwgdXJsKTtcblxuICAgICAgcmV0dXJuIHsgcmVzdWx0LCBlcnJvcjogbnVsbCB9O1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBpZiAoaXNEZWVwZ3JhbUVycm9yKGVycm9yKSkge1xuICAgICAgICByZXR1cm4geyByZXN1bHQ6IG51bGwsIGVycm9yIH07XG4gICAgICB9XG5cbiAgICAgIHRocm93IGVycm9yO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVycy5kZWVwZ3JhbS5jb20vcmVmZXJlbmNlL2dldC1wcm9qZWN0c1xuICAgKi9cbiAgYXN5bmMgZ2V0UHJvamVjdHMoZW5kcG9pbnQgPSBcInYxL3Byb2plY3RzXCIpOiBQcm9taXNlPERlZXBncmFtUmVzcG9uc2U8R2V0UHJvamVjdHNSZXNwb25zZT4+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgdXJsID0gbmV3IFVSTCh0aGlzLmJhc2VVcmwpO1xuICAgICAgdXJsLnBhdGhuYW1lID0gZW5kcG9pbnQ7XG5cbiAgICAgIGNvbnN0IHJlc3VsdDogR2V0UHJvamVjdHNSZXNwb25zZSA9IGF3YWl0IHRoaXMuZ2V0KHRoaXMuZmV0Y2ggYXMgRmV0Y2gsIHVybCk7XG5cbiAgICAgIHJldHVybiB7IHJlc3VsdCwgZXJyb3I6IG51bGwgfTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgaWYgKGlzRGVlcGdyYW1FcnJvcihlcnJvcikpIHtcbiAgICAgICAgcmV0dXJuIHsgcmVzdWx0OiBudWxsLCBlcnJvciB9O1xuICAgICAgfVxuXG4gICAgICB0aHJvdyBlcnJvcjtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQHNlZSBodHRwczovL2RldmVsb3BlcnMuZGVlcGdyYW0uY29tL3JlZmVyZW5jZS9nZXQtcHJvamVjdFxuICAgKi9cbiAgYXN5bmMgZ2V0UHJvamVjdChcbiAgICBwcm9qZWN0SWQ6IHN0cmluZyxcbiAgICBlbmRwb2ludCA9IFwidjEvcHJvamVjdHMvOnByb2plY3RJZFwiXG4gICk6IFByb21pc2U8RGVlcGdyYW1SZXNwb25zZTxHZXRQcm9qZWN0UmVzcG9uc2U+PiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHVybCA9IG5ldyBVUkwodGhpcy5iYXNlVXJsKTtcbiAgICAgIHVybC5wYXRobmFtZSA9IGVuZHBvaW50LnJlcGxhY2UoLzpwcm9qZWN0SWQvLCBwcm9qZWN0SWQpO1xuXG4gICAgICBjb25zdCByZXN1bHQ6IEdldFByb2plY3RSZXNwb25zZSA9IGF3YWl0IHRoaXMuZ2V0KHRoaXMuZmV0Y2ggYXMgRmV0Y2gsIHVybCk7XG5cbiAgICAgIHJldHVybiB7IHJlc3VsdCwgZXJyb3I6IG51bGwgfTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgaWYgKGlzRGVlcGdyYW1FcnJvcihlcnJvcikpIHtcbiAgICAgICAgcmV0dXJuIHsgcmVzdWx0OiBudWxsLCBlcnJvciB9O1xuICAgICAgfVxuXG4gICAgICB0aHJvdyBlcnJvcjtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQHNlZSBodHRwczovL2RldmVsb3BlcnMuZGVlcGdyYW0uY29tL3JlZmVyZW5jZS91cGRhdGUtcHJvamVjdFxuICAgKi9cbiAgYXN5bmMgdXBkYXRlUHJvamVjdChcbiAgICBwcm9qZWN0SWQ6IHN0cmluZyxcbiAgICBvcHRpb25zOiBVcGRhdGVQcm9qZWN0U2NoZW1hLFxuICAgIGVuZHBvaW50ID0gXCJ2MS9wcm9qZWN0cy86cHJvamVjdElkXCJcbiAgKTogUHJvbWlzZTxEZWVwZ3JhbVJlc3BvbnNlPE1lc3NhZ2VSZXNwb25zZT4+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgdXJsID0gbmV3IFVSTCh0aGlzLmJhc2VVcmwpO1xuICAgICAgdXJsLnBhdGhuYW1lID0gZW5kcG9pbnQucmVwbGFjZSgvOnByb2plY3RJZC8sIHByb2plY3RJZCk7XG5cbiAgICAgIGNvbnN0IGJvZHkgPSBKU09OLnN0cmluZ2lmeShvcHRpb25zKTtcblxuICAgICAgY29uc3QgcmVzdWx0OiBNZXNzYWdlUmVzcG9uc2UgPSBhd2FpdCB0aGlzLnBhdGNoKHRoaXMuZmV0Y2ggYXMgRmV0Y2gsIHVybCwgYm9keSk7XG5cbiAgICAgIHJldHVybiB7IHJlc3VsdCwgZXJyb3I6IG51bGwgfTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgaWYgKGlzRGVlcGdyYW1FcnJvcihlcnJvcikpIHtcbiAgICAgICAgcmV0dXJuIHsgcmVzdWx0OiBudWxsLCBlcnJvciB9O1xuICAgICAgfVxuXG4gICAgICB0aHJvdyBlcnJvcjtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQHNlZSBodHRwczovL2RldmVsb3BlcnMuZGVlcGdyYW0uY29tL3JlZmVyZW5jZS9kZWxldGUtcHJvamVjdFxuICAgKi9cbiAgYXN5bmMgZGVsZXRlUHJvamVjdChcbiAgICBwcm9qZWN0SWQ6IHN0cmluZyxcbiAgICBlbmRwb2ludCA9IFwidjEvcHJvamVjdHMvOnByb2plY3RJZFwiXG4gICk6IFByb21pc2U8Vm9pZFJlc3BvbnNlPiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHVybCA9IG5ldyBVUkwodGhpcy5iYXNlVXJsKTtcbiAgICAgIHVybC5wYXRobmFtZSA9IGVuZHBvaW50LnJlcGxhY2UoLzpwcm9qZWN0SWQvLCBwcm9qZWN0SWQpO1xuXG4gICAgICBhd2FpdCB0aGlzLmRlbGV0ZSh0aGlzLmZldGNoIGFzIEZldGNoLCB1cmwpO1xuXG4gICAgICByZXR1cm4geyBlcnJvcjogbnVsbCB9O1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBpZiAoaXNEZWVwZ3JhbUVycm9yKGVycm9yKSkge1xuICAgICAgICByZXR1cm4geyBlcnJvciB9O1xuICAgICAgfVxuXG4gICAgICB0aHJvdyBlcnJvcjtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQHNlZSBodHRwczovL2RldmVsb3BlcnMuZGVlcGdyYW0uY29tL3JlZmVyZW5jZS9saXN0LWtleXNcbiAgICovXG4gIGFzeW5jIGdldFByb2plY3RLZXlzKFxuICAgIHByb2plY3RJZDogc3RyaW5nLFxuICAgIGVuZHBvaW50ID0gXCJ2MS9wcm9qZWN0cy86cHJvamVjdElkL2tleXNcIlxuICApOiBQcm9taXNlPERlZXBncmFtUmVzcG9uc2U8R2V0UHJvamVjdEtleXNSZXNwb25zZT4+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgdXJsID0gbmV3IFVSTCh0aGlzLmJhc2VVcmwpO1xuICAgICAgdXJsLnBhdGhuYW1lID0gZW5kcG9pbnQucmVwbGFjZSgvOnByb2plY3RJZC8sIHByb2plY3RJZCk7XG5cbiAgICAgIGNvbnN0IHJlc3VsdDogR2V0UHJvamVjdEtleXNSZXNwb25zZSA9IGF3YWl0IHRoaXMuZ2V0KHRoaXMuZmV0Y2ggYXMgRmV0Y2gsIHVybCk7XG5cbiAgICAgIHJldHVybiB7IHJlc3VsdCwgZXJyb3I6IG51bGwgfTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgaWYgKGlzRGVlcGdyYW1FcnJvcihlcnJvcikpIHtcbiAgICAgICAgcmV0dXJuIHsgcmVzdWx0OiBudWxsLCBlcnJvciB9O1xuICAgICAgfVxuXG4gICAgICB0aHJvdyBlcnJvcjtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQHNlZSBodHRwczovL2RldmVsb3BlcnMuZGVlcGdyYW0uY29tL3JlZmVyZW5jZS9nZXQta2V5XG4gICAqL1xuICBhc3luYyBnZXRQcm9qZWN0S2V5KFxuICAgIHByb2plY3RJZDogc3RyaW5nLFxuICAgIGtleUlkOiBzdHJpbmcsXG4gICAgZW5kcG9pbnQgPSBcInYxL3Byb2plY3RzLzpwcm9qZWN0SWQva2V5cy86a2V5SWRcIlxuICApOiBQcm9taXNlPERlZXBncmFtUmVzcG9uc2U8R2V0UHJvamVjdEtleVJlc3BvbnNlPj4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCB1cmwgPSBuZXcgVVJMKHRoaXMuYmFzZVVybCk7XG4gICAgICB1cmwucGF0aG5hbWUgPSBlbmRwb2ludC5yZXBsYWNlKC86cHJvamVjdElkLywgcHJvamVjdElkKS5yZXBsYWNlKC86a2V5SWQvLCBrZXlJZCk7XG5cbiAgICAgIGNvbnN0IHJlc3VsdDogR2V0UHJvamVjdEtleVJlc3BvbnNlID0gYXdhaXQgdGhpcy5nZXQodGhpcy5mZXRjaCBhcyBGZXRjaCwgdXJsKTtcblxuICAgICAgcmV0dXJuIHsgcmVzdWx0LCBlcnJvcjogbnVsbCB9O1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBpZiAoaXNEZWVwZ3JhbUVycm9yKGVycm9yKSkge1xuICAgICAgICByZXR1cm4geyByZXN1bHQ6IG51bGwsIGVycm9yIH07XG4gICAgICB9XG5cbiAgICAgIHRocm93IGVycm9yO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVycy5kZWVwZ3JhbS5jb20vcmVmZXJlbmNlL2NyZWF0ZS1rZXlcbiAgICovXG4gIGFzeW5jIGNyZWF0ZVByb2plY3RLZXkoXG4gICAgcHJvamVjdElkOiBzdHJpbmcsXG4gICAgb3B0aW9uczogQ3JlYXRlUHJvamVjdEtleVNjaGVtYSxcbiAgICBlbmRwb2ludCA9IFwidjEvcHJvamVjdHMvOnByb2plY3RJZC9rZXlzXCJcbiAgKTogUHJvbWlzZTxEZWVwZ3JhbVJlc3BvbnNlPENyZWF0ZVByb2plY3RLZXlSZXNwb25zZT4+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgdXJsID0gbmV3IFVSTCh0aGlzLmJhc2VVcmwpO1xuICAgICAgdXJsLnBhdGhuYW1lID0gZW5kcG9pbnQucmVwbGFjZSgvOnByb2plY3RJZC8sIHByb2plY3RJZCk7XG5cbiAgICAgIGNvbnN0IGJvZHkgPSBKU09OLnN0cmluZ2lmeShvcHRpb25zKTtcblxuICAgICAgY29uc3QgcmVzdWx0OiBDcmVhdGVQcm9qZWN0S2V5UmVzcG9uc2UgPSBhd2FpdCB0aGlzLnBvc3QodGhpcy5mZXRjaCBhcyBGZXRjaCwgdXJsLCBib2R5KTtcblxuICAgICAgcmV0dXJuIHsgcmVzdWx0LCBlcnJvcjogbnVsbCB9O1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBpZiAoaXNEZWVwZ3JhbUVycm9yKGVycm9yKSkge1xuICAgICAgICByZXR1cm4geyByZXN1bHQ6IG51bGwsIGVycm9yIH07XG4gICAgICB9XG5cbiAgICAgIHRocm93IGVycm9yO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVycy5kZWVwZ3JhbS5jb20vcmVmZXJlbmNlL2RlbGV0ZS1rZXlcbiAgICovXG4gIGFzeW5jIGRlbGV0ZVByb2plY3RLZXkoXG4gICAgcHJvamVjdElkOiBzdHJpbmcsXG4gICAga2V5SWQ6IHN0cmluZyxcbiAgICBlbmRwb2ludCA9IFwidjEvcHJvamVjdHMvOnByb2plY3RJZC9rZXlzLzprZXlJZFwiXG4gICk6IFByb21pc2U8Vm9pZFJlc3BvbnNlPiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHVybCA9IG5ldyBVUkwodGhpcy5iYXNlVXJsKTtcbiAgICAgIHVybC5wYXRobmFtZSA9IGVuZHBvaW50LnJlcGxhY2UoLzpwcm9qZWN0SWQvLCBwcm9qZWN0SWQpLnJlcGxhY2UoLzprZXlJZC8sIGtleUlkKTtcblxuICAgICAgYXdhaXQgdGhpcy5kZWxldGUodGhpcy5mZXRjaCBhcyBGZXRjaCwgdXJsKTtcblxuICAgICAgcmV0dXJuIHsgZXJyb3I6IG51bGwgfTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgaWYgKGlzRGVlcGdyYW1FcnJvcihlcnJvcikpIHtcbiAgICAgICAgcmV0dXJuIHsgZXJyb3IgfTtcbiAgICAgIH1cblxuICAgICAgdGhyb3cgZXJyb3I7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXJzLmRlZXBncmFtLmNvbS9yZWZlcmVuY2UvZ2V0LW1lbWJlcnNcbiAgICovXG4gIGFzeW5jIGdldFByb2plY3RNZW1iZXJzKFxuICAgIHByb2plY3RJZDogc3RyaW5nLFxuICAgIGVuZHBvaW50ID0gXCJ2MS9wcm9qZWN0cy86cHJvamVjdElkL21lbWJlcnNcIlxuICApOiBQcm9taXNlPERlZXBncmFtUmVzcG9uc2U8R2V0UHJvamVjdE1lbWJlcnNSZXNwb25zZT4+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgdXJsID0gbmV3IFVSTCh0aGlzLmJhc2VVcmwpO1xuICAgICAgdXJsLnBhdGhuYW1lID0gZW5kcG9pbnQucmVwbGFjZSgvOnByb2plY3RJZC8sIHByb2plY3RJZCk7XG5cbiAgICAgIGNvbnN0IHJlc3VsdDogR2V0UHJvamVjdE1lbWJlcnNSZXNwb25zZSA9IGF3YWl0IHRoaXMuZ2V0KHRoaXMuZmV0Y2ggYXMgRmV0Y2gsIHVybCk7XG5cbiAgICAgIHJldHVybiB7IHJlc3VsdCwgZXJyb3I6IG51bGwgfTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgaWYgKGlzRGVlcGdyYW1FcnJvcihlcnJvcikpIHtcbiAgICAgICAgcmV0dXJuIHsgcmVzdWx0OiBudWxsLCBlcnJvciB9O1xuICAgICAgfVxuXG4gICAgICB0aHJvdyBlcnJvcjtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQHNlZSBodHRwczovL2RldmVsb3BlcnMuZGVlcGdyYW0uY29tL3JlZmVyZW5jZS9yZW1vdmUtbWVtYmVyXG4gICAqL1xuICBhc3luYyByZW1vdmVQcm9qZWN0TWVtYmVyKFxuICAgIHByb2plY3RJZDogc3RyaW5nLFxuICAgIG1lbWJlcklkOiBzdHJpbmcsXG4gICAgZW5kcG9pbnQgPSBcInYxL3Byb2plY3RzLzpwcm9qZWN0SWQvbWVtYmVycy86bWVtYmVySWRcIlxuICApOiBQcm9taXNlPFZvaWRSZXNwb25zZT4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCB1cmwgPSBuZXcgVVJMKHRoaXMuYmFzZVVybCk7XG4gICAgICB1cmwucGF0aG5hbWUgPSBlbmRwb2ludC5yZXBsYWNlKC86cHJvamVjdElkLywgcHJvamVjdElkKS5yZXBsYWNlKC86bWVtYmVySWQvLCBtZW1iZXJJZCk7XG5cbiAgICAgIGF3YWl0IHRoaXMuZGVsZXRlKHRoaXMuZmV0Y2ggYXMgRmV0Y2gsIHVybCk7XG5cbiAgICAgIHJldHVybiB7IGVycm9yOiBudWxsIH07XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGlmIChpc0RlZXBncmFtRXJyb3IoZXJyb3IpKSB7XG4gICAgICAgIHJldHVybiB7IGVycm9yIH07XG4gICAgICB9XG5cbiAgICAgIHRocm93IGVycm9yO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVycy5kZWVwZ3JhbS5jb20vcmVmZXJlbmNlL2dldC1tZW1iZXItc2NvcGVzXG4gICAqL1xuICBhc3luYyBnZXRQcm9qZWN0TWVtYmVyU2NvcGVzKFxuICAgIHByb2plY3RJZDogc3RyaW5nLFxuICAgIG1lbWJlcklkOiBzdHJpbmcsXG4gICAgZW5kcG9pbnQgPSBcInYxL3Byb2plY3RzLzpwcm9qZWN0SWQvbWVtYmVycy86bWVtYmVySWQvc2NvcGVzXCJcbiAgKTogUHJvbWlzZTxEZWVwZ3JhbVJlc3BvbnNlPEdldFByb2plY3RNZW1iZXJTY29wZXNSZXNwb25zZT4+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgdXJsID0gbmV3IFVSTCh0aGlzLmJhc2VVcmwpO1xuICAgICAgdXJsLnBhdGhuYW1lID0gZW5kcG9pbnQucmVwbGFjZSgvOnByb2plY3RJZC8sIHByb2plY3RJZCkucmVwbGFjZSgvOm1lbWJlcklkLywgbWVtYmVySWQpO1xuXG4gICAgICBjb25zdCByZXN1bHQ6IEdldFByb2plY3RNZW1iZXJTY29wZXNSZXNwb25zZSA9IGF3YWl0IHRoaXMuZ2V0KHRoaXMuZmV0Y2ggYXMgRmV0Y2gsIHVybCk7XG5cbiAgICAgIHJldHVybiB7IHJlc3VsdCwgZXJyb3I6IG51bGwgfTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgaWYgKGlzRGVlcGdyYW1FcnJvcihlcnJvcikpIHtcbiAgICAgICAgcmV0dXJuIHsgcmVzdWx0OiBudWxsLCBlcnJvciB9O1xuICAgICAgfVxuXG4gICAgICB0aHJvdyBlcnJvcjtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQHNlZSBodHRwczovL2RldmVsb3BlcnMuZGVlcGdyYW0uY29tL3JlZmVyZW5jZS91cGRhdGUtc2NvcGVcbiAgICovXG4gIGFzeW5jIHVwZGF0ZVByb2plY3RNZW1iZXJTY29wZShcbiAgICBwcm9qZWN0SWQ6IHN0cmluZyxcbiAgICBtZW1iZXJJZDogc3RyaW5nLFxuICAgIG9wdGlvbnM6IFVwZGF0ZVByb2plY3RNZW1iZXJTY29wZVNjaGVtYSxcbiAgICBlbmRwb2ludCA9IFwidjEvcHJvamVjdHMvOnByb2plY3RJZC9tZW1iZXJzLzptZW1iZXJJZC9zY29wZXNcIlxuICApOiBQcm9taXNlPERlZXBncmFtUmVzcG9uc2U8TWVzc2FnZVJlc3BvbnNlPj4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCB1cmwgPSBuZXcgVVJMKHRoaXMuYmFzZVVybCk7XG4gICAgICB1cmwucGF0aG5hbWUgPSBlbmRwb2ludC5yZXBsYWNlKC86cHJvamVjdElkLywgcHJvamVjdElkKS5yZXBsYWNlKC86bWVtYmVySWQvLCBtZW1iZXJJZCk7XG5cbiAgICAgIGNvbnN0IGJvZHkgPSBKU09OLnN0cmluZ2lmeShvcHRpb25zKTtcblxuICAgICAgY29uc3QgcmVzdWx0OiBNZXNzYWdlUmVzcG9uc2UgPSBhd2FpdCB0aGlzLnB1dCh0aGlzLmZldGNoIGFzIEZldGNoLCB1cmwsIGJvZHkpO1xuXG4gICAgICByZXR1cm4geyByZXN1bHQsIGVycm9yOiBudWxsIH07XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGlmIChpc0RlZXBncmFtRXJyb3IoZXJyb3IpKSB7XG4gICAgICAgIHJldHVybiB7IHJlc3VsdDogbnVsbCwgZXJyb3IgfTtcbiAgICAgIH1cblxuICAgICAgdGhyb3cgZXJyb3I7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXJzLmRlZXBncmFtLmNvbS9yZWZlcmVuY2UvbGlzdC1pbnZpdGVzXG4gICAqL1xuICBhc3luYyBnZXRQcm9qZWN0SW52aXRlcyhcbiAgICBwcm9qZWN0SWQ6IHN0cmluZyxcbiAgICBlbmRwb2ludCA9IFwidjEvcHJvamVjdHMvOnByb2plY3RJZC9pbnZpdGVzXCJcbiAgKTogUHJvbWlzZTxEZWVwZ3JhbVJlc3BvbnNlPEdldFByb2plY3RJbnZpdGVzUmVzcG9uc2U+PiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHVybCA9IG5ldyBVUkwodGhpcy5iYXNlVXJsKTtcbiAgICAgIHVybC5wYXRobmFtZSA9IGVuZHBvaW50LnJlcGxhY2UoLzpwcm9qZWN0SWQvLCBwcm9qZWN0SWQpO1xuXG4gICAgICBjb25zdCByZXN1bHQ6IEdldFByb2plY3RJbnZpdGVzUmVzcG9uc2UgPSBhd2FpdCB0aGlzLmdldCh0aGlzLmZldGNoIGFzIEZldGNoLCB1cmwpO1xuXG4gICAgICByZXR1cm4geyByZXN1bHQsIGVycm9yOiBudWxsIH07XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGlmIChpc0RlZXBncmFtRXJyb3IoZXJyb3IpKSB7XG4gICAgICAgIHJldHVybiB7IHJlc3VsdDogbnVsbCwgZXJyb3IgfTtcbiAgICAgIH1cblxuICAgICAgdGhyb3cgZXJyb3I7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXJzLmRlZXBncmFtLmNvbS9yZWZlcmVuY2Uvc2VuZC1pbnZpdGVzXG4gICAqL1xuICBhc3luYyBzZW5kUHJvamVjdEludml0ZShcbiAgICBwcm9qZWN0SWQ6IHN0cmluZyxcbiAgICBvcHRpb25zOiBTZW5kUHJvamVjdEludml0ZVNjaGVtYSxcbiAgICBlbmRwb2ludCA9IFwidjEvcHJvamVjdHMvOnByb2plY3RJZC9pbnZpdGVzXCJcbiAgKTogUHJvbWlzZTxEZWVwZ3JhbVJlc3BvbnNlPE1lc3NhZ2VSZXNwb25zZT4+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgdXJsID0gbmV3IFVSTCh0aGlzLmJhc2VVcmwpO1xuICAgICAgdXJsLnBhdGhuYW1lID0gZW5kcG9pbnQucmVwbGFjZSgvOnByb2plY3RJZC8sIHByb2plY3RJZCk7XG5cbiAgICAgIGNvbnN0IGJvZHkgPSBKU09OLnN0cmluZ2lmeShvcHRpb25zKTtcblxuICAgICAgY29uc3QgcmVzdWx0OiBNZXNzYWdlUmVzcG9uc2UgPSBhd2FpdCB0aGlzLnBvc3QodGhpcy5mZXRjaCBhcyBGZXRjaCwgdXJsLCBib2R5KTtcblxuICAgICAgcmV0dXJuIHsgcmVzdWx0LCBlcnJvcjogbnVsbCB9O1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBpZiAoaXNEZWVwZ3JhbUVycm9yKGVycm9yKSkge1xuICAgICAgICByZXR1cm4geyByZXN1bHQ6IG51bGwsIGVycm9yIH07XG4gICAgICB9XG5cbiAgICAgIHRocm93IGVycm9yO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVycy5kZWVwZ3JhbS5jb20vcmVmZXJlbmNlL2RlbGV0ZS1pbnZpdGVcbiAgICovXG4gIGFzeW5jIGRlbGV0ZVByb2plY3RJbnZpdGUoXG4gICAgcHJvamVjdElkOiBzdHJpbmcsXG4gICAgZW1haWw6IHN0cmluZyxcbiAgICBlbmRwb2ludCA9IFwidjEvcHJvamVjdHMvOnByb2plY3RJZC9pbnZpdGVzLzplbWFpbFwiXG4gICk6IFByb21pc2U8Vm9pZFJlc3BvbnNlPiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHVybCA9IG5ldyBVUkwodGhpcy5iYXNlVXJsKTtcbiAgICAgIHVybC5wYXRobmFtZSA9IGVuZHBvaW50LnJlcGxhY2UoLzpwcm9qZWN0SWQvLCBwcm9qZWN0SWQpLnJlcGxhY2UoLzplbWFpbC8sIGVtYWlsKTtcblxuICAgICAgYXdhaXQgdGhpcy5kZWxldGUodGhpcy5mZXRjaCBhcyBGZXRjaCwgdXJsKTtcblxuICAgICAgcmV0dXJuIHsgZXJyb3I6IG51bGwgfTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgaWYgKGlzRGVlcGdyYW1FcnJvcihlcnJvcikpIHtcbiAgICAgICAgcmV0dXJuIHsgZXJyb3IgfTtcbiAgICAgIH1cblxuICAgICAgdGhyb3cgZXJyb3I7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXJzLmRlZXBncmFtLmNvbS9yZWZlcmVuY2UvbGVhdmUtcHJvamVjdFxuICAgKi9cbiAgYXN5bmMgbGVhdmVQcm9qZWN0KFxuICAgIHByb2plY3RJZDogc3RyaW5nLFxuICAgIGVuZHBvaW50ID0gXCJ2MS9wcm9qZWN0cy86cHJvamVjdElkL2xlYXZlXCJcbiAgKTogUHJvbWlzZTxEZWVwZ3JhbVJlc3BvbnNlPE1lc3NhZ2VSZXNwb25zZT4+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgdXJsID0gbmV3IFVSTCh0aGlzLmJhc2VVcmwpO1xuICAgICAgdXJsLnBhdGhuYW1lID0gZW5kcG9pbnQucmVwbGFjZSgvOnByb2plY3RJZC8sIHByb2plY3RJZCk7XG5cbiAgICAgIGNvbnN0IHJlc3VsdDogTWVzc2FnZVJlc3BvbnNlID0gYXdhaXQgdGhpcy5kZWxldGUodGhpcy5mZXRjaCBhcyBGZXRjaCwgdXJsKTtcblxuICAgICAgcmV0dXJuIHsgcmVzdWx0LCBlcnJvcjogbnVsbCB9O1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBpZiAoaXNEZWVwZ3JhbUVycm9yKGVycm9yKSkge1xuICAgICAgICByZXR1cm4geyByZXN1bHQ6IG51bGwsIGVycm9yIH07XG4gICAgICB9XG5cbiAgICAgIHRocm93IGVycm9yO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVycy5kZWVwZ3JhbS5jb20vcmVmZXJlbmNlL2dldC1hbGwtcmVxdWVzdHNcbiAgICovXG4gIGFzeW5jIGdldFByb2plY3RVc2FnZVJlcXVlc3RzKFxuICAgIHByb2plY3RJZDogc3RyaW5nLFxuICAgIG9wdGlvbnM6IEdldFByb2plY3RVc2FnZVJlcXVlc3RzU2NoZW1hLFxuICAgIGVuZHBvaW50ID0gXCJ2MS9wcm9qZWN0cy86cHJvamVjdElkL3JlcXVlc3RzXCJcbiAgKTogUHJvbWlzZTxEZWVwZ3JhbVJlc3BvbnNlPEdldFByb2plY3RVc2FnZVJlcXVlc3RzUmVzcG9uc2U+PiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHVybCA9IG5ldyBVUkwodGhpcy5iYXNlVXJsKTtcbiAgICAgIHVybC5wYXRobmFtZSA9IGVuZHBvaW50LnJlcGxhY2UoLzpwcm9qZWN0SWQvLCBwcm9qZWN0SWQpO1xuICAgICAgYXBwZW5kU2VhcmNoUGFyYW1zKHVybC5zZWFyY2hQYXJhbXMsIG9wdGlvbnMpO1xuXG4gICAgICBjb25zdCByZXN1bHQ6IEdldFByb2plY3RVc2FnZVJlcXVlc3RzUmVzcG9uc2UgPSBhd2FpdCB0aGlzLmdldCh0aGlzLmZldGNoIGFzIEZldGNoLCB1cmwpO1xuXG4gICAgICByZXR1cm4geyByZXN1bHQsIGVycm9yOiBudWxsIH07XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGlmIChpc0RlZXBncmFtRXJyb3IoZXJyb3IpKSB7XG4gICAgICAgIHJldHVybiB7IHJlc3VsdDogbnVsbCwgZXJyb3IgfTtcbiAgICAgIH1cblxuICAgICAgdGhyb3cgZXJyb3I7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXJzLmRlZXBncmFtLmNvbS9yZWZlcmVuY2UvZ2V0LXJlcXVlc3RcbiAgICovXG4gIGFzeW5jIGdldFByb2plY3RVc2FnZVJlcXVlc3QoXG4gICAgcHJvamVjdElkOiBzdHJpbmcsXG4gICAgcmVxdWVzdElkOiBzdHJpbmcsXG4gICAgZW5kcG9pbnQgPSBcInYxL3Byb2plY3RzLzpwcm9qZWN0SWQvcmVxdWVzdHMvOnJlcXVlc3RJZFwiXG4gICk6IFByb21pc2U8RGVlcGdyYW1SZXNwb25zZTxHZXRQcm9qZWN0VXNhZ2VSZXF1ZXN0UmVzcG9uc2U+PiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHVybCA9IG5ldyBVUkwodGhpcy5iYXNlVXJsKTtcbiAgICAgIHVybC5wYXRobmFtZSA9IGVuZHBvaW50LnJlcGxhY2UoLzpwcm9qZWN0SWQvLCBwcm9qZWN0SWQpLnJlcGxhY2UoLzpyZXF1ZXN0SWQvLCByZXF1ZXN0SWQpO1xuXG4gICAgICBjb25zdCByZXN1bHQ6IEdldFByb2plY3RVc2FnZVJlcXVlc3RSZXNwb25zZSA9IGF3YWl0IHRoaXMuZ2V0KHRoaXMuZmV0Y2ggYXMgRmV0Y2gsIHVybCk7XG5cbiAgICAgIHJldHVybiB7IHJlc3VsdCwgZXJyb3I6IG51bGwgfTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgaWYgKGlzRGVlcGdyYW1FcnJvcihlcnJvcikpIHtcbiAgICAgICAgcmV0dXJuIHsgcmVzdWx0OiBudWxsLCBlcnJvciB9O1xuICAgICAgfVxuXG4gICAgICB0aHJvdyBlcnJvcjtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQHNlZSBodHRwczovL2RldmVsb3BlcnMuZGVlcGdyYW0uY29tL3JlZmVyZW5jZS9zdW1tYXJpemUtdXNhZ2VcbiAgICovXG4gIGFzeW5jIGdldFByb2plY3RVc2FnZVN1bW1hcnkoXG4gICAgcHJvamVjdElkOiBzdHJpbmcsXG4gICAgb3B0aW9uczogR2V0UHJvamVjdFVzYWdlU3VtbWFyeVNjaGVtYSxcbiAgICBlbmRwb2ludCA9IFwidjEvcHJvamVjdHMvOnByb2plY3RJZC91c2FnZVwiXG4gICk6IFByb21pc2U8RGVlcGdyYW1SZXNwb25zZTxHZXRQcm9qZWN0VXNhZ2VTdW1tYXJ5UmVzcG9uc2U+PiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHVybCA9IG5ldyBVUkwodGhpcy5iYXNlVXJsKTtcbiAgICAgIHVybC5wYXRobmFtZSA9IGVuZHBvaW50LnJlcGxhY2UoLzpwcm9qZWN0SWQvLCBwcm9qZWN0SWQpO1xuICAgICAgYXBwZW5kU2VhcmNoUGFyYW1zKHVybC5zZWFyY2hQYXJhbXMsIG9wdGlvbnMpO1xuXG4gICAgICBjb25zdCByZXN1bHQ6IEdldFByb2plY3RVc2FnZVN1bW1hcnlSZXNwb25zZSA9IGF3YWl0IHRoaXMuZ2V0KHRoaXMuZmV0Y2ggYXMgRmV0Y2gsIHVybCk7XG5cbiAgICAgIHJldHVybiB7IHJlc3VsdCwgZXJyb3I6IG51bGwgfTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgaWYgKGlzRGVlcGdyYW1FcnJvcihlcnJvcikpIHtcbiAgICAgICAgcmV0dXJuIHsgcmVzdWx0OiBudWxsLCBlcnJvciB9O1xuICAgICAgfVxuXG4gICAgICB0aHJvdyBlcnJvcjtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQHNlZSBodHRwczovL2RldmVsb3BlcnMuZGVlcGdyYW0uY29tL3JlZmVyZW5jZS9nZXQtZmllbGRzXG4gICAqL1xuICBhc3luYyBnZXRQcm9qZWN0VXNhZ2VGaWVsZHMoXG4gICAgcHJvamVjdElkOiBzdHJpbmcsXG4gICAgb3B0aW9uczogR2V0UHJvamVjdFVzYWdlRmllbGRzU2NoZW1hLFxuICAgIGVuZHBvaW50ID0gXCJ2MS9wcm9qZWN0cy86cHJvamVjdElkL3VzYWdlL2ZpZWxkc1wiXG4gICk6IFByb21pc2U8RGVlcGdyYW1SZXNwb25zZTxHZXRQcm9qZWN0VXNhZ2VGaWVsZHNSZXNwb25zZT4+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgdXJsID0gbmV3IFVSTCh0aGlzLmJhc2VVcmwpO1xuICAgICAgdXJsLnBhdGhuYW1lID0gZW5kcG9pbnQucmVwbGFjZSgvOnByb2plY3RJZC8sIHByb2plY3RJZCk7XG4gICAgICBhcHBlbmRTZWFyY2hQYXJhbXModXJsLnNlYXJjaFBhcmFtcywgb3B0aW9ucyk7XG5cbiAgICAgIGNvbnN0IHJlc3VsdDogR2V0UHJvamVjdFVzYWdlRmllbGRzUmVzcG9uc2UgPSBhd2FpdCB0aGlzLmdldCh0aGlzLmZldGNoIGFzIEZldGNoLCB1cmwpO1xuXG4gICAgICByZXR1cm4geyByZXN1bHQsIGVycm9yOiBudWxsIH07XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGlmIChpc0RlZXBncmFtRXJyb3IoZXJyb3IpKSB7XG4gICAgICAgIHJldHVybiB7IHJlc3VsdDogbnVsbCwgZXJyb3IgfTtcbiAgICAgIH1cblxuICAgICAgdGhyb3cgZXJyb3I7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXJzLmRlZXBncmFtLmNvbS9yZWZlcmVuY2UvZ2V0LWFsbC1iYWxhbmNlc1xuICAgKi9cbiAgYXN5bmMgZ2V0UHJvamVjdEJhbGFuY2VzKFxuICAgIHByb2plY3RJZDogc3RyaW5nLFxuICAgIGVuZHBvaW50ID0gXCJ2MS9wcm9qZWN0cy86cHJvamVjdElkL2JhbGFuY2VzXCJcbiAgKTogUHJvbWlzZTxEZWVwZ3JhbVJlc3BvbnNlPEdldFByb2plY3RCYWxhbmNlc1Jlc3BvbnNlPj4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCB1cmwgPSBuZXcgVVJMKHRoaXMuYmFzZVVybCk7XG4gICAgICB1cmwucGF0aG5hbWUgPSBlbmRwb2ludC5yZXBsYWNlKC86cHJvamVjdElkLywgcHJvamVjdElkKTtcblxuICAgICAgY29uc3QgcmVzdWx0OiBHZXRQcm9qZWN0QmFsYW5jZXNSZXNwb25zZSA9IGF3YWl0IHRoaXMuZ2V0KHRoaXMuZmV0Y2ggYXMgRmV0Y2gsIHVybCk7XG5cbiAgICAgIHJldHVybiB7IHJlc3VsdCwgZXJyb3I6IG51bGwgfTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgaWYgKGlzRGVlcGdyYW1FcnJvcihlcnJvcikpIHtcbiAgICAgICAgcmV0dXJuIHsgcmVzdWx0OiBudWxsLCBlcnJvciB9O1xuICAgICAgfVxuXG4gICAgICB0aHJvdyBlcnJvcjtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQHNlZSBodHRwczovL2RldmVsb3BlcnMuZGVlcGdyYW0uY29tL3JlZmVyZW5jZS9nZXQtYmFsYW5jZVxuICAgKi9cbiAgYXN5bmMgZ2V0UHJvamVjdEJhbGFuY2UoXG4gICAgcHJvamVjdElkOiBzdHJpbmcsXG4gICAgYmFsYW5jZUlkOiBzdHJpbmcsXG4gICAgZW5kcG9pbnQgPSBcInYxL3Byb2plY3RzLzpwcm9qZWN0SWQvYmFsYW5jZXMvOmJhbGFuY2VJZFwiXG4gICk6IFByb21pc2U8RGVlcGdyYW1SZXNwb25zZTxHZXRQcm9qZWN0QmFsYW5jZVJlc3BvbnNlPj4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCB1cmwgPSBuZXcgVVJMKHRoaXMuYmFzZVVybCk7XG4gICAgICB1cmwucGF0aG5hbWUgPSBlbmRwb2ludC5yZXBsYWNlKC86cHJvamVjdElkLywgcHJvamVjdElkKS5yZXBsYWNlKC86YmFsYW5jZUlkLywgYmFsYW5jZUlkKTtcblxuICAgICAgY29uc3QgcmVzdWx0OiBHZXRQcm9qZWN0QmFsYW5jZVJlc3BvbnNlID0gYXdhaXQgdGhpcy5nZXQodGhpcy5mZXRjaCBhcyBGZXRjaCwgdXJsKTtcblxuICAgICAgcmV0dXJuIHsgcmVzdWx0LCBlcnJvcjogbnVsbCB9O1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBpZiAoaXNEZWVwZ3JhbUVycm9yKGVycm9yKSkge1xuICAgICAgICByZXR1cm4geyByZXN1bHQ6IG51bGwsIGVycm9yIH07XG4gICAgICB9XG5cbiAgICAgIHRocm93IGVycm9yO1xuICAgIH1cbiAgfVxufVxuIiwgImltcG9ydCB7IEFic3RyYWN0UmVzdGZ1bENsaWVudCB9IGZyb20gXCIuL0Fic3RyYWN0UmVzdGZ1bENsaWVudFwiO1xuaW1wb3J0IHsgaXNEZWVwZ3JhbUVycm9yIH0gZnJvbSBcIi4uL2xpYi9lcnJvcnNcIjtcbmltcG9ydCB0eXBlIHtcbiAgQ3JlYXRlT25QcmVtQ3JlZGVudGlhbHNTY2hlbWEsXG4gIERlZXBncmFtUmVzcG9uc2UsXG4gIEZldGNoLFxuICBMaXN0T25QcmVtQ3JlZGVudGlhbHNSZXNwb25zZSxcbiAgTWVzc2FnZVJlc3BvbnNlLFxuICBPblByZW1DcmVkZW50aWFsUmVzcG9uc2UsXG59IGZyb20gXCIuLi9saWIvdHlwZXNcIjtcblxuZXhwb3J0IGNsYXNzIE9uUHJlbUNsaWVudCBleHRlbmRzIEFic3RyYWN0UmVzdGZ1bENsaWVudCB7XG4gIC8qKlxuICAgKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVycy5kZWVwZ3JhbS5jb20vcmVmZXJlbmNlL2xpc3QtY3JlZGVudGlhbHNcbiAgICovXG4gIGFzeW5jIGxpc3RDcmVkZW50aWFscyhcbiAgICBwcm9qZWN0SWQ6IHN0cmluZyxcbiAgICBlbmRwb2ludCA9IFwidjEvcHJvamVjdHMvOnByb2plY3RJZC9vbnByZW0vZGlzdHJpYnV0aW9uL2NyZWRlbnRpYWxzXCJcbiAgKTogUHJvbWlzZTxEZWVwZ3JhbVJlc3BvbnNlPExpc3RPblByZW1DcmVkZW50aWFsc1Jlc3BvbnNlPj4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCB1cmwgPSBuZXcgVVJMKHRoaXMuYmFzZVVybCk7XG4gICAgICB1cmwucGF0aG5hbWUgPSBlbmRwb2ludC5yZXBsYWNlKC86cHJvamVjdElkLywgcHJvamVjdElkKTtcblxuICAgICAgY29uc3QgcmVzdWx0OiBMaXN0T25QcmVtQ3JlZGVudGlhbHNSZXNwb25zZSA9IGF3YWl0IHRoaXMuZ2V0KHRoaXMuZmV0Y2ggYXMgRmV0Y2gsIHVybCk7XG5cbiAgICAgIHJldHVybiB7IHJlc3VsdCwgZXJyb3I6IG51bGwgfTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgaWYgKGlzRGVlcGdyYW1FcnJvcihlcnJvcikpIHtcbiAgICAgICAgcmV0dXJuIHsgcmVzdWx0OiBudWxsLCBlcnJvciB9O1xuICAgICAgfVxuXG4gICAgICB0aHJvdyBlcnJvcjtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQHNlZSBodHRwczovL2RldmVsb3BlcnMuZGVlcGdyYW0uY29tL3JlZmVyZW5jZS9nZXQtY3JlZGVudGlhbHNcbiAgICovXG4gIGFzeW5jIGdldENyZWRlbnRpYWxzKFxuICAgIHByb2plY3RJZDogc3RyaW5nLFxuICAgIGNyZWRlbnRpYWxzSWQ6IHN0cmluZyxcbiAgICBlbmRwb2ludCA9IFwidjEvcHJvamVjdHMvOnByb2plY3RJZC9vbnByZW0vZGlzdHJpYnV0aW9uL2NyZWRlbnRpYWxzLzpjcmVkZW50aWFsc0lkXCJcbiAgKTogUHJvbWlzZTxEZWVwZ3JhbVJlc3BvbnNlPE9uUHJlbUNyZWRlbnRpYWxSZXNwb25zZT4+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgdXJsID0gbmV3IFVSTCh0aGlzLmJhc2VVcmwpO1xuICAgICAgdXJsLnBhdGhuYW1lID0gZW5kcG9pbnRcbiAgICAgICAgLnJlcGxhY2UoLzpwcm9qZWN0SWQvLCBwcm9qZWN0SWQpXG4gICAgICAgIC5yZXBsYWNlKC86Y3JlZGVudGlhbHNJZC8sIGNyZWRlbnRpYWxzSWQpO1xuXG4gICAgICBjb25zdCByZXN1bHQ6IE9uUHJlbUNyZWRlbnRpYWxSZXNwb25zZSA9IGF3YWl0IHRoaXMuZ2V0KHRoaXMuZmV0Y2ggYXMgRmV0Y2gsIHVybCk7XG5cbiAgICAgIHJldHVybiB7IHJlc3VsdCwgZXJyb3I6IG51bGwgfTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgaWYgKGlzRGVlcGdyYW1FcnJvcihlcnJvcikpIHtcbiAgICAgICAgcmV0dXJuIHsgcmVzdWx0OiBudWxsLCBlcnJvciB9O1xuICAgICAgfVxuXG4gICAgICB0aHJvdyBlcnJvcjtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQHNlZSBodHRwczovL2RldmVsb3BlcnMuZGVlcGdyYW0uY29tL3JlZmVyZW5jZS9jcmVhdGUtY3JlZGVudGlhbHNcbiAgICovXG4gIGFzeW5jIGNyZWF0ZUNyZWRlbnRpYWxzKFxuICAgIHByb2plY3RJZDogc3RyaW5nLFxuICAgIG9wdGlvbnM6IENyZWF0ZU9uUHJlbUNyZWRlbnRpYWxzU2NoZW1hLFxuICAgIGVuZHBvaW50ID0gXCJ2MS9wcm9qZWN0cy86cHJvamVjdElkL29ucHJlbS9kaXN0cmlidXRpb24vY3JlZGVudGlhbHNcIlxuICApOiBQcm9taXNlPERlZXBncmFtUmVzcG9uc2U8T25QcmVtQ3JlZGVudGlhbFJlc3BvbnNlPj4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCB1cmwgPSBuZXcgVVJMKHRoaXMuYmFzZVVybCk7XG4gICAgICB1cmwucGF0aG5hbWUgPSBlbmRwb2ludC5yZXBsYWNlKC86cHJvamVjdElkLywgcHJvamVjdElkKTtcblxuICAgICAgY29uc3QgYm9keSA9IEpTT04uc3RyaW5naWZ5KG9wdGlvbnMpO1xuXG4gICAgICBjb25zdCByZXN1bHQ6IE9uUHJlbUNyZWRlbnRpYWxSZXNwb25zZSA9IGF3YWl0IHRoaXMucG9zdCh0aGlzLmZldGNoIGFzIEZldGNoLCB1cmwsIGJvZHkpO1xuXG4gICAgICByZXR1cm4geyByZXN1bHQsIGVycm9yOiBudWxsIH07XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGlmIChpc0RlZXBncmFtRXJyb3IoZXJyb3IpKSB7XG4gICAgICAgIHJldHVybiB7IHJlc3VsdDogbnVsbCwgZXJyb3IgfTtcbiAgICAgIH1cblxuICAgICAgdGhyb3cgZXJyb3I7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXJzLmRlZXBncmFtLmNvbS9yZWZlcmVuY2UvZGVsZXRlLWNyZWRlbnRpYWxzXG4gICAqL1xuICBhc3luYyBkZWxldGVDcmVkZW50aWFscyhcbiAgICBwcm9qZWN0SWQ6IHN0cmluZyxcbiAgICBjcmVkZW50aWFsc0lkOiBzdHJpbmcsXG4gICAgZW5kcG9pbnQgPSBcInYxL3Byb2plY3RzLzpwcm9qZWN0SWQvb25wcmVtL2Rpc3RyaWJ1dGlvbi9jcmVkZW50aWFscy86Y3JlZGVudGlhbHNJZFwiXG4gICk6IFByb21pc2U8RGVlcGdyYW1SZXNwb25zZTxNZXNzYWdlUmVzcG9uc2U+PiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHVybCA9IG5ldyBVUkwodGhpcy5iYXNlVXJsKTtcbiAgICAgIHVybC5wYXRobmFtZSA9IGVuZHBvaW50XG4gICAgICAgIC5yZXBsYWNlKC86cHJvamVjdElkLywgcHJvamVjdElkKVxuICAgICAgICAucmVwbGFjZSgvOmNyZWRlbnRpYWxzSWQvLCBjcmVkZW50aWFsc0lkKTtcblxuICAgICAgY29uc3QgcmVzdWx0OiBNZXNzYWdlUmVzcG9uc2UgPSBhd2FpdCB0aGlzLmRlbGV0ZSh0aGlzLmZldGNoIGFzIEZldGNoLCB1cmwpO1xuXG4gICAgICByZXR1cm4geyByZXN1bHQsIGVycm9yOiBudWxsIH07XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGlmIChpc0RlZXBncmFtRXJyb3IoZXJyb3IpKSB7XG4gICAgICAgIHJldHVybiB7IHJlc3VsdDogbnVsbCwgZXJyb3IgfTtcbiAgICAgIH1cblxuICAgICAgdGhyb3cgZXJyb3I7XG4gICAgfVxuICB9XG59XG4iLCAiaW1wb3J0IHsgQWJzdHJhY3RSZXN0ZnVsQ2xpZW50IH0gZnJvbSBcIi4vQWJzdHJhY3RSZXN0ZnVsQ2xpZW50XCI7XG5pbXBvcnQgeyBDYWxsYmFja1VybCwgYXBwZW5kU2VhcmNoUGFyYW1zLCBpc1RleHRTb3VyY2UsIGlzVXJsU291cmNlIH0gZnJvbSBcIi4uL2xpYi9oZWxwZXJzXCI7XG5pbXBvcnQgeyBEZWVwZ3JhbUVycm9yLCBpc0RlZXBncmFtRXJyb3IgfSBmcm9tIFwiLi4vbGliL2Vycm9yc1wiO1xuaW1wb3J0IHR5cGUge1xuICBBbmFseXplU2NoZW1hLFxuICBBc3luY0FuYWx5emVSZXNwb25zZSxcbiAgRGVlcGdyYW1SZXNwb25zZSxcbiAgRmV0Y2gsXG4gIFByZXJlY29yZGVkU2NoZW1hLFxuICBTeW5jQW5hbHl6ZVJlc3BvbnNlLFxuICBUZXh0U291cmNlLFxuICBVcmxTb3VyY2UsXG59IGZyb20gXCIuLi9saWIvdHlwZXNcIjtcblxuZXhwb3J0IGNsYXNzIFJlYWRDbGllbnQgZXh0ZW5kcyBBYnN0cmFjdFJlc3RmdWxDbGllbnQge1xuICBhc3luYyBhbmFseXplVXJsKFxuICAgIHNvdXJjZTogVXJsU291cmNlLFxuICAgIG9wdGlvbnM/OiBBbmFseXplU2NoZW1hLFxuICAgIGVuZHBvaW50ID0gXCJ2MS9yZWFkXCJcbiAgKTogUHJvbWlzZTxEZWVwZ3JhbVJlc3BvbnNlPFN5bmNBbmFseXplUmVzcG9uc2U+PiB7XG4gICAgdHJ5IHtcbiAgICAgIGxldCBib2R5O1xuXG4gICAgICBpZiAoaXNVcmxTb3VyY2Uoc291cmNlKSkge1xuICAgICAgICBib2R5ID0gSlNPTi5zdHJpbmdpZnkoc291cmNlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRocm93IG5ldyBEZWVwZ3JhbUVycm9yKFwiVW5rbm93biBzb3VyY2UgdHlwZVwiKTtcbiAgICAgIH1cblxuICAgICAgaWYgKG9wdGlvbnMgIT09IHVuZGVmaW5lZCAmJiBcImNhbGxiYWNrXCIgaW4gb3B0aW9ucykge1xuICAgICAgICB0aHJvdyBuZXcgRGVlcGdyYW1FcnJvcihcbiAgICAgICAgICBcIkNhbGxiYWNrIGNhbm5vdCBiZSBwcm92aWRlZCBhcyBhbiBvcHRpb24gdG8gYSBzeW5jaHJvbm91cyB0cmFuc2NyaXB0aW9uLiBVc2UgYGFuYWx5emVVcmxDYWxsYmFja2Agb3IgYGFuYWx5emVUZXh0Q2FsbGJhY2tgIGluc3RlYWQuXCJcbiAgICAgICAgKTtcbiAgICAgIH1cblxuICAgICAgY29uc3QgYW5hbHl6ZU9wdGlvbnM6IEFuYWx5emVTY2hlbWEgPSB7IC4uLnt9LCAuLi5vcHRpb25zIH07XG5cbiAgICAgIGNvbnN0IHVybCA9IG5ldyBVUkwoZW5kcG9pbnQsIHRoaXMuYmFzZVVybCk7XG4gICAgICBhcHBlbmRTZWFyY2hQYXJhbXModXJsLnNlYXJjaFBhcmFtcywgYW5hbHl6ZU9wdGlvbnMpO1xuXG4gICAgICBjb25zdCByZXN1bHQ6IFN5bmNBbmFseXplUmVzcG9uc2UgPSBhd2FpdCB0aGlzLnBvc3QodGhpcy5mZXRjaCBhcyBGZXRjaCwgdXJsLCBib2R5KTtcblxuICAgICAgcmV0dXJuIHsgcmVzdWx0LCBlcnJvcjogbnVsbCB9O1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBpZiAoaXNEZWVwZ3JhbUVycm9yKGVycm9yKSkge1xuICAgICAgICByZXR1cm4geyByZXN1bHQ6IG51bGwsIGVycm9yIH07XG4gICAgICB9XG5cbiAgICAgIHRocm93IGVycm9yO1xuICAgIH1cbiAgfVxuXG4gIGFzeW5jIGFuYWx5emVUZXh0KFxuICAgIHNvdXJjZTogVGV4dFNvdXJjZSxcbiAgICBvcHRpb25zPzogQW5hbHl6ZVNjaGVtYSxcbiAgICBlbmRwb2ludCA9IFwidjEvcmVhZFwiXG4gICk6IFByb21pc2U8RGVlcGdyYW1SZXNwb25zZTxTeW5jQW5hbHl6ZVJlc3BvbnNlPj4ge1xuICAgIHRyeSB7XG4gICAgICBsZXQgYm9keTtcblxuICAgICAgaWYgKGlzVGV4dFNvdXJjZShzb3VyY2UpKSB7XG4gICAgICAgIGJvZHkgPSBKU09OLnN0cmluZ2lmeShzb3VyY2UpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhyb3cgbmV3IERlZXBncmFtRXJyb3IoXCJVbmtub3duIHNvdXJjZSB0eXBlXCIpO1xuICAgICAgfVxuXG4gICAgICBpZiAob3B0aW9ucyAhPT0gdW5kZWZpbmVkICYmIFwiY2FsbGJhY2tcIiBpbiBvcHRpb25zKSB7XG4gICAgICAgIHRocm93IG5ldyBEZWVwZ3JhbUVycm9yKFxuICAgICAgICAgIFwiQ2FsbGJhY2sgY2Fubm90IGJlIHByb3ZpZGVkIGFzIGFuIG9wdGlvbiB0byBhIHN5bmNocm9ub3VzIHJlcXVlc3RzLiBVc2UgYGFuYWx5emVVcmxDYWxsYmFja2Agb3IgYGFuYWx5emVUZXh0Q2FsbGJhY2tgIGluc3RlYWQuXCJcbiAgICAgICAgKTtcbiAgICAgIH1cblxuICAgICAgY29uc3QgYW5hbHl6ZU9wdGlvbnM6IEFuYWx5emVTY2hlbWEgPSB7IC4uLnt9LCAuLi5vcHRpb25zIH07XG5cbiAgICAgIGNvbnN0IHVybCA9IG5ldyBVUkwoZW5kcG9pbnQsIHRoaXMuYmFzZVVybCk7XG4gICAgICBhcHBlbmRTZWFyY2hQYXJhbXModXJsLnNlYXJjaFBhcmFtcywgYW5hbHl6ZU9wdGlvbnMpO1xuXG4gICAgICBjb25zdCByZXN1bHQ6IFN5bmNBbmFseXplUmVzcG9uc2UgPSBhd2FpdCB0aGlzLnBvc3QodGhpcy5mZXRjaCBhcyBGZXRjaCwgdXJsLCBib2R5KTtcblxuICAgICAgcmV0dXJuIHsgcmVzdWx0LCBlcnJvcjogbnVsbCB9O1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBpZiAoaXNEZWVwZ3JhbUVycm9yKGVycm9yKSkge1xuICAgICAgICByZXR1cm4geyByZXN1bHQ6IG51bGwsIGVycm9yIH07XG4gICAgICB9XG5cbiAgICAgIHRocm93IGVycm9yO1xuICAgIH1cbiAgfVxuXG4gIGFzeW5jIGFuYWx5emVVcmxDYWxsYmFjayhcbiAgICBzb3VyY2U6IFVybFNvdXJjZSxcbiAgICBjYWxsYmFjazogQ2FsbGJhY2tVcmwsXG4gICAgb3B0aW9ucz86IEFuYWx5emVTY2hlbWEsXG4gICAgZW5kcG9pbnQgPSBcInYxL3JlYWRcIlxuICApOiBQcm9taXNlPERlZXBncmFtUmVzcG9uc2U8QXN5bmNBbmFseXplUmVzcG9uc2U+PiB7XG4gICAgdHJ5IHtcbiAgICAgIGxldCBib2R5O1xuXG4gICAgICBpZiAoaXNVcmxTb3VyY2Uoc291cmNlKSkge1xuICAgICAgICBib2R5ID0gSlNPTi5zdHJpbmdpZnkoc291cmNlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRocm93IG5ldyBEZWVwZ3JhbUVycm9yKFwiVW5rbm93biBzb3VyY2UgdHlwZVwiKTtcbiAgICAgIH1cblxuICAgICAgY29uc3QgdHJhbnNjcmlwdGlvbk9wdGlvbnM6IFByZXJlY29yZGVkU2NoZW1hID0ge1xuICAgICAgICAuLi5vcHRpb25zLFxuICAgICAgICAuLi57IGNhbGxiYWNrOiBjYWxsYmFjay50b1N0cmluZygpIH0sXG4gICAgICB9O1xuXG4gICAgICBjb25zdCB1cmwgPSBuZXcgVVJMKGVuZHBvaW50LCB0aGlzLmJhc2VVcmwpO1xuICAgICAgYXBwZW5kU2VhcmNoUGFyYW1zKHVybC5zZWFyY2hQYXJhbXMsIHRyYW5zY3JpcHRpb25PcHRpb25zKTtcblxuICAgICAgY29uc3QgcmVzdWx0OiBBc3luY0FuYWx5emVSZXNwb25zZSA9IGF3YWl0IHRoaXMucG9zdCh0aGlzLmZldGNoIGFzIEZldGNoLCB1cmwsIGJvZHkpO1xuXG4gICAgICByZXR1cm4geyByZXN1bHQsIGVycm9yOiBudWxsIH07XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGlmIChpc0RlZXBncmFtRXJyb3IoZXJyb3IpKSB7XG4gICAgICAgIHJldHVybiB7IHJlc3VsdDogbnVsbCwgZXJyb3IgfTtcbiAgICAgIH1cblxuICAgICAgdGhyb3cgZXJyb3I7XG4gICAgfVxuICB9XG5cbiAgYXN5bmMgYW5hbHl6ZVRleHRDYWxsYmFjayhcbiAgICBzb3VyY2U6IFRleHRTb3VyY2UsXG4gICAgY2FsbGJhY2s6IENhbGxiYWNrVXJsLFxuICAgIG9wdGlvbnM/OiBBbmFseXplU2NoZW1hLFxuICAgIGVuZHBvaW50ID0gXCJ2MS9yZWFkXCJcbiAgKTogUHJvbWlzZTxEZWVwZ3JhbVJlc3BvbnNlPEFzeW5jQW5hbHl6ZVJlc3BvbnNlPj4ge1xuICAgIHRyeSB7XG4gICAgICBsZXQgYm9keTtcblxuICAgICAgaWYgKGlzVGV4dFNvdXJjZShzb3VyY2UpKSB7XG4gICAgICAgIGJvZHkgPSBKU09OLnN0cmluZ2lmeShzb3VyY2UpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhyb3cgbmV3IERlZXBncmFtRXJyb3IoXCJVbmtub3duIHNvdXJjZSB0eXBlXCIpO1xuICAgICAgfVxuXG4gICAgICBjb25zdCB0cmFuc2NyaXB0aW9uT3B0aW9uczogUHJlcmVjb3JkZWRTY2hlbWEgPSB7XG4gICAgICAgIC4uLm9wdGlvbnMsXG4gICAgICAgIC4uLnsgY2FsbGJhY2s6IGNhbGxiYWNrLnRvU3RyaW5nKCkgfSxcbiAgICAgIH07XG5cbiAgICAgIGNvbnN0IHVybCA9IG5ldyBVUkwoZW5kcG9pbnQsIHRoaXMuYmFzZVVybCk7XG4gICAgICBhcHBlbmRTZWFyY2hQYXJhbXModXJsLnNlYXJjaFBhcmFtcywgdHJhbnNjcmlwdGlvbk9wdGlvbnMpO1xuXG4gICAgICBjb25zdCByZXN1bHQ6IEFzeW5jQW5hbHl6ZVJlc3BvbnNlID0gYXdhaXQgdGhpcy5wb3N0KHRoaXMuZmV0Y2ggYXMgRmV0Y2gsIHVybCwgYm9keSwge1xuICAgICAgICBcIkNvbnRlbnQtVHlwZVwiOiBcImRlZXBncmFtL2F1ZGlvK3ZpZGVvXCIsXG4gICAgICB9KTtcblxuICAgICAgcmV0dXJuIHsgcmVzdWx0LCBlcnJvcjogbnVsbCB9O1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBpZiAoaXNEZWVwZ3JhbUVycm9yKGVycm9yKSkge1xuICAgICAgICByZXR1cm4geyByZXN1bHQ6IG51bGwsIGVycm9yIH07XG4gICAgICB9XG5cbiAgICAgIHRocm93IGVycm9yO1xuICAgIH1cbiAgfVxufVxuIiwgImltcG9ydCB7IEFic3RyYWN0UmVzdGZ1bENsaWVudCB9IGZyb20gXCIuL0Fic3RyYWN0UmVzdGZ1bENsaWVudFwiO1xuaW1wb3J0IHsgRGVlcGdyYW1FcnJvciwgRGVlcGdyYW1Vbmtub3duRXJyb3IsIGlzRGVlcGdyYW1FcnJvciB9IGZyb20gXCIuLi9saWIvZXJyb3JzXCI7XG5pbXBvcnQgeyBhcHBlbmRTZWFyY2hQYXJhbXMsIGlzVGV4dFNvdXJjZSB9IGZyb20gXCIuLi9saWIvaGVscGVyc1wiO1xuaW1wb3J0IHsgRmV0Y2gsIFNwZWFrU2NoZW1hLCBUZXh0U291cmNlIH0gZnJvbSBcIi4uL2xpYi90eXBlc1wiO1xuXG5leHBvcnQgY2xhc3MgU3BlYWtDbGllbnQgZXh0ZW5kcyBBYnN0cmFjdFJlc3RmdWxDbGllbnQge1xuICBwdWJsaWMgcmVzdWx0OiB1bmRlZmluZWQgfCBSZXNwb25zZTtcblxuICAvKipcbiAgICogQHNlZSBodHRwczovL2RldmVsb3BlcnMuZGVlcGdyYW0uY29tL3JlZmVyZW5jZS90ZXh0LXRvLXNwZWVjaC1hcGlcbiAgICovXG4gIGFzeW5jIHJlcXVlc3QoXG4gICAgc291cmNlOiBUZXh0U291cmNlLFxuICAgIG9wdGlvbnM/OiBTcGVha1NjaGVtYSxcbiAgICBlbmRwb2ludCA9IFwidjEvc3BlYWtcIlxuICApOiBQcm9taXNlPFNwZWFrQ2xpZW50PiB7XG4gICAgdHJ5IHtcbiAgICAgIGxldCBib2R5O1xuXG4gICAgICBpZiAoaXNUZXh0U291cmNlKHNvdXJjZSkpIHtcbiAgICAgICAgYm9keSA9IEpTT04uc3RyaW5naWZ5KHNvdXJjZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aHJvdyBuZXcgRGVlcGdyYW1FcnJvcihcIlVua25vd24gdHJhbnNjcmlwdGlvbiBzb3VyY2UgdHlwZVwiKTtcbiAgICAgIH1cblxuICAgICAgY29uc3Qgc3BlYWtPcHRpb25zOiBTcGVha1NjaGVtYSA9IHsgLi4ueyBtb2RlbDogXCJhdXJhLWFzdGVyaWEtZW5cIiB9LCAuLi5vcHRpb25zIH07XG5cbiAgICAgIGNvbnN0IHVybCA9IG5ldyBVUkwoZW5kcG9pbnQsIHRoaXMuYmFzZVVybCk7XG4gICAgICBhcHBlbmRTZWFyY2hQYXJhbXModXJsLnNlYXJjaFBhcmFtcywgc3BlYWtPcHRpb25zKTtcbiAgICAgIHRoaXMucmVzdWx0ID0gYXdhaXQgdGhpcy5faGFuZGxlUmF3UmVxdWVzdCh0aGlzLmZldGNoIGFzIEZldGNoLCBcIlBPU1RcIiwgdXJsLCB7fSwge30sIGJvZHkpO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIHRocm93IGVycm9yO1xuICAgIH1cbiAgfVxuXG4gIGFzeW5jIGdldFN0cmVhbSgpOiBQcm9taXNlPFJlYWRhYmxlU3RyZWFtPFVpbnQ4QXJyYXk+IHwgbnVsbD4ge1xuICAgIGlmICghdGhpcy5yZXN1bHQpXG4gICAgICB0aHJvdyBuZXcgRGVlcGdyYW1Vbmtub3duRXJyb3IoXCJUcmllZCB0byBnZXQgc3RyZWFtIGJlZm9yZSBtYWtpbmcgcmVxdWVzdFwiLCBcIlwiKTtcblxuICAgIHJldHVybiB0aGlzLnJlc3VsdC5ib2R5O1xuICB9XG5cbiAgYXN5bmMgZ2V0SGVhZGVycygpOiBQcm9taXNlPEhlYWRlcnM+IHtcbiAgICBpZiAoIXRoaXMucmVzdWx0KVxuICAgICAgdGhyb3cgbmV3IERlZXBncmFtVW5rbm93bkVycm9yKFwiVHJpZWQgdG8gZ2V0IGhlYWRlcnMgYmVmb3JlIG1ha2luZyByZXF1ZXN0XCIsIFwiXCIpO1xuXG4gICAgcmV0dXJuIHRoaXMucmVzdWx0LmhlYWRlcnM7XG4gIH1cbn1cbiIsICJpbXBvcnQgeyBEZWVwZ3JhbVZlcnNpb25FcnJvciB9IGZyb20gXCIuL2xpYi9lcnJvcnNcIjtcbmltcG9ydCB7IEFic3RyYWN0Q2xpZW50IH0gZnJvbSBcIi4vcGFja2FnZXMvQWJzdHJhY3RDbGllbnRcIjtcbmltcG9ydCB7IExpc3RlbkNsaWVudCB9IGZyb20gXCIuL3BhY2thZ2VzL0xpc3RlbkNsaWVudFwiO1xuaW1wb3J0IHsgTWFuYWdlQ2xpZW50IH0gZnJvbSBcIi4vcGFja2FnZXMvTWFuYWdlQ2xpZW50XCI7XG5pbXBvcnQgeyBPblByZW1DbGllbnQgfSBmcm9tIFwiLi9wYWNrYWdlcy9PblByZW1DbGllbnRcIjtcbmltcG9ydCB7IFJlYWRDbGllbnQgfSBmcm9tIFwiLi9wYWNrYWdlcy9SZWFkQ2xpZW50XCI7XG5pbXBvcnQgeyBTcGVha0NsaWVudCB9IGZyb20gXCIuL3BhY2thZ2VzL1NwZWFrQ2xpZW50XCI7XG5cbi8qKlxuICogRGVlcGdyYW0gQ2xpZW50LlxuICpcbiAqIEFuIGlzb21vcnBoaWMgSmF2YXNjcmlwdCBjbGllbnQgZm9yIGludGVyYWN0aW5nIHdpdGggdGhlIERlZXBncmFtIEFQSS5cbiAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXJzLmRlZXBncmFtLmNvbS9kb2NzL2pzLXNka1xuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBEZWVwZ3JhbUNsaWVudCBleHRlbmRzIEFic3RyYWN0Q2xpZW50IHtcbiAgZ2V0IGxpc3RlbigpOiBMaXN0ZW5DbGllbnQge1xuICAgIHJldHVybiBuZXcgTGlzdGVuQ2xpZW50KHRoaXMua2V5LCB0aGlzLm9wdGlvbnMpO1xuICB9XG5cbiAgZ2V0IG1hbmFnZSgpOiBNYW5hZ2VDbGllbnQge1xuICAgIHJldHVybiBuZXcgTWFuYWdlQ2xpZW50KHRoaXMua2V5LCB0aGlzLm9wdGlvbnMpO1xuICB9XG5cbiAgZ2V0IG9ucHJlbSgpOiBPblByZW1DbGllbnQge1xuICAgIHJldHVybiBuZXcgT25QcmVtQ2xpZW50KHRoaXMua2V5LCB0aGlzLm9wdGlvbnMpO1xuICB9XG5cbiAgZ2V0IHJlYWQoKTogUmVhZENsaWVudCB7XG4gICAgcmV0dXJuIG5ldyBSZWFkQ2xpZW50KHRoaXMua2V5LCB0aGlzLm9wdGlvbnMpO1xuICB9XG5cbiAgZ2V0IHNwZWFrKCk6IFNwZWFrQ2xpZW50IHtcbiAgICByZXR1cm4gbmV3IFNwZWFrQ2xpZW50KHRoaXMua2V5LCB0aGlzLm9wdGlvbnMpO1xuICB9XG5cbiAgLyoqXG4gICAqIE1ham9yIHZlcnNpb24gZmFsbGJhY2sgZXJyb3JzIGFyZSBiZWxvd1xuICAgKlxuICAgKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVycy5kZWVwZ3JhbS5jb20vZG9jcy9qcy1zZGstdjItdG8tdjMtbWlncmF0aW9uLWd1aWRlXG4gICAqL1xuICBnZXQgdHJhbnNjcmlwdGlvbigpOiBhbnkge1xuICAgIHRocm93IG5ldyBEZWVwZ3JhbVZlcnNpb25FcnJvcigpO1xuICB9XG5cbiAgZ2V0IHByb2plY3RzKCk6IGFueSB7XG4gICAgdGhyb3cgbmV3IERlZXBncmFtVmVyc2lvbkVycm9yKCk7XG4gIH1cblxuICBnZXQga2V5cygpOiBhbnkge1xuICAgIHRocm93IG5ldyBEZWVwZ3JhbVZlcnNpb25FcnJvcigpO1xuICB9XG5cbiAgZ2V0IG1lbWJlcnMoKTogYW55IHtcbiAgICB0aHJvdyBuZXcgRGVlcGdyYW1WZXJzaW9uRXJyb3IoKTtcbiAgfVxuXG4gIGdldCBzY29wZXMoKTogYW55IHtcbiAgICB0aHJvdyBuZXcgRGVlcGdyYW1WZXJzaW9uRXJyb3IoKTtcbiAgfVxuXG4gIGdldCBpbnZpdGF0aW9uKCk6IGFueSB7XG4gICAgdGhyb3cgbmV3IERlZXBncmFtVmVyc2lvbkVycm9yKCk7XG4gIH1cblxuICBnZXQgdXNhZ2UoKTogYW55IHtcbiAgICB0aHJvdyBuZXcgRGVlcGdyYW1WZXJzaW9uRXJyb3IoKTtcbiAgfVxuXG4gIGdldCBiaWxsaW5nKCk6IGFueSB7XG4gICAgdGhyb3cgbmV3IERlZXBncmFtVmVyc2lvbkVycm9yKCk7XG4gIH1cbn1cbiIsICJpbXBvcnQgRGVlcGdyYW1DbGllbnQgZnJvbSBcIi4vRGVlcGdyYW1DbGllbnRcIjtcbmltcG9ydCB7IERlZXBncmFtVmVyc2lvbkVycm9yIH0gZnJvbSBcIi4vbGliL2Vycm9yc1wiO1xuaW1wb3J0IHR5cGUgeyBEZWVwZ3JhbUNsaWVudE9wdGlvbnMgfSBmcm9tIFwiLi9saWIvdHlwZXNcIjtcblxuLyoqXG4gKiBNYWpvciB2ZXJzaW9uIGZhbGxiYWNrIGVycm9yXG4gKi9cbmNsYXNzIERlZXBncmFtIHtcbiAgY29uc3RydWN0b3IocHJvdGVjdGVkIGFwaUtleTogc3RyaW5nLCBwcm90ZWN0ZWQgYXBpVXJsPzogc3RyaW5nLCBwcm90ZWN0ZWQgcmVxdWlyZVNTTD86IGJvb2xlYW4pIHtcbiAgICB0aHJvdyBuZXcgRGVlcGdyYW1WZXJzaW9uRXJyb3IoKTtcbiAgfVxufVxuXG4vKipcbiAqIENyZWF0ZXMgYSBuZXcgRGVlcGdyYW0gQ2xpZW50LlxuICovXG5jb25zdCBjcmVhdGVDbGllbnQgPSAoYXBpS2V5OiBzdHJpbmcsIG9wdGlvbnM6IERlZXBncmFtQ2xpZW50T3B0aW9ucyA9IHt9KTogRGVlcGdyYW1DbGllbnQgPT4ge1xuICByZXR1cm4gbmV3IERlZXBncmFtQ2xpZW50KGFwaUtleSwgb3B0aW9ucyk7XG59O1xuXG5leHBvcnQgeyBjcmVhdGVDbGllbnQsIERlZXBncmFtQ2xpZW50LCBEZWVwZ3JhbSB9O1xuXG4vKipcbiAqIEhlbHBmdWwgZXhwb3J0cy5cbiAqL1xuZXhwb3J0ICogZnJvbSBcIi4vcGFja2FnZXNcIjtcbmV4cG9ydCAqIGZyb20gXCIuL2xpYi90eXBlc1wiO1xuZXhwb3J0ICogZnJvbSBcIi4vbGliL2VudW1zXCI7XG5leHBvcnQgKiBmcm9tIFwiLi9saWIvY29uc3RhbnRzXCI7XG5leHBvcnQgKiBmcm9tIFwiLi9saWIvZXJyb3JzXCI7XG5leHBvcnQgKiBmcm9tIFwiLi9saWIvaGVscGVyc1wiO1xuXG4vKipcbiAqIENhcHRpb25zLiBUaGVzZSB3aWxsIGJlIHRyZWUtc2hha2VuIGlmIHVudXNlZC5cbiAqXG4gKiBAc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9kZWVwZ3JhbS9kZWVwZ3JhbS1ub2RlLWNhcHRpb25zXG4gKlxuICogaW1wb3J0L2V4cG9ydCBkZWNsYXJhdGlvbnMgZG9uJ3QgZG8gYW55dGhpbmcgYnV0IHNldCB1cCBhbiBhbGlhcyB0byB0aGVcbiAqIGV4cG9ydGVkIHZhcmlhYmxlLCB0aGV5IGRvIG5vdCBjb3VudCBhcyBhIFwidXNlXCIuIEdpdmVuIHRoZWlyIHNlbWFudGljcyxcbiAqIHRoZXkgYXJlIHRyYWNrZWQgc3BlY2lhbGx5IGJ5IGFueSBidW5kbGVyIGFuZCB3aWxsIG5vdCBhZHZlcnNlbHkgYWZmZWN0XG4gKiB0cmVlLXNoYWtpbmcuXG4gKi9cbmV4cG9ydCB7IHdlYnZ0dCwgc3J0IH0gZnJvbSBcIkBkZWVwZ3JhbS9jYXB0aW9uc1wiO1xuIl0sCiAgIm1hcHBpbmdzIjogIjs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQUEsK0RBQUFBLFNBQUE7QUFBQSxRQUFJLFNBQVMsT0FBTyxTQUFTLGNBQWMsT0FBTztBQUNsRCxRQUFJLFdBQVksV0FBWTtBQUM1QixlQUFTLElBQUk7QUFDYixhQUFLLFFBQVE7QUFDYixhQUFLLGVBQWUsT0FBTztBQUFBLE1BQzNCO0FBQ0EsUUFBRSxZQUFZO0FBQ2QsYUFBTyxJQUFJLEVBQUU7QUFBQSxJQUNiLEVBQUc7QUFDSCxLQUFDLFNBQVNDLE9BQU07QUFFaEIsVUFBSSxhQUFjLFNBQVVDLFVBQVM7QUFFbkMsWUFBSSxVQUFVO0FBQUEsVUFDWixjQUFjLHFCQUFxQkQ7QUFBQSxVQUNuQyxVQUFVLFlBQVlBLFNBQVEsY0FBYztBQUFBLFVBQzVDLE1BQ0UsZ0JBQWdCQSxTQUNoQixVQUFVQSxTQUNULFdBQVc7QUFDVixnQkFBSTtBQUNGLGtCQUFJLEtBQUs7QUFDVCxxQkFBTztBQUFBLFlBQ1QsU0FBUyxHQUFQO0FBQ0EscUJBQU87QUFBQSxZQUNUO0FBQUEsVUFDRixFQUFHO0FBQUEsVUFDTCxVQUFVLGNBQWNB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VTtBQUN6QixhQUFLLE9BQU8sU0FBUyxjQUFjO0FBQ25DLGNBQU0sS0FBSyxPQUFPLGFBQWE7QUFBQSxNQUNqQyxDQUFDO0FBQUEsSUFDTDtBQUVGLFFBQUksd0JBQVEsV0FBVyxFQUNwQixRQUFRLFlBQVksRUFDcEIsUUFBUSw0QkFBNEIsRUFDcEM7QUFBQSxNQUFVLENBQUMsV0FDVixPQUNHLFNBQVMsS0FBSyxPQUFPLFNBQVMsVUFBVSxFQUN4QyxTQUFTLE9BQU8sVUFBVTtBQUN6QixhQUFLLE9BQU8sU0FBUyxhQUFhO0FBQ2xDLGNBQU0sS0FBSyxPQUFPLGFBQWE7QUFBQSxNQUNqQyxDQUFDO0FBQUEsSUFDTDtBQUVGLFFBQUksd0JBQVEsV0FBVyxFQUNwQixRQUFRLFlBQVksRUFDcEIsUUFBUSw0QkFBNEIsRUFDcEM7QUFBQSxNQUFVLENBQUMsV0FDVixPQUNHLFNBQVMsS0FBSyxPQUFPLFNBQVMsVUFBVSxFQUN4QyxTQUFTLE9BQU8sVUFBVTtBQUN6QixhQUFLLE9BQU8sU0FBUyxhQUFhO0FBQ2xDLGNBQU0sS0FBSyxPQUFPLGFBQWE7QUFBQSxNQUNqQyxDQUFDO0FBQUEsSUFDTDtBQUVGLFFBQUksd0JBQVEsV0FBVyxFQUNwQixRQUFRLGNBQWMsRUFDdEIsUUFBUSxzQkFBc0IsRUFDOUI7QUFBQSxNQUFVLENBQUMsV0FDVixPQUNHLFNBQVMsS0FBSyxPQUFPLFNBQVMsWUFBWSxFQUMxQyxTQUFTLE9BQU8sVUFBVTtBQUN6QixhQUFLLE9BQU8sU0FBUyxlQUFlO0FBQ3BDLGNBQU0sS0FBSyxPQUFPLGFBQWE7QUFBQSxNQUNqQyxDQUFDO0FBQUEsSUFDTDtBQUFBLEVBR0o7QUFDRjsiLAogICJuYW1lcyI6IFsibW9kdWxlIiwgInNlbGYiLCAiZXhwb3J0cyIsICJIZWFkZXJzIiwgIlJlc3BvbnNlIiwgImZldGNoIiwgIm1vZHVsZSIsICJpc01lcmdlYWJsZU9iamVjdCIsICJtb2R1bGUiLCAibW9kdWxlIiwgIm1vZHVsZSIsICJtb2R1bGUiLCAibWVyZ2UiLCAiQ3Jvc3NGZXRjaEhlYWRlcnMiLCAiTGl2ZUNvbm5lY3Rpb25TdGF0ZSIsICJMaXZlVHJhbnNjcmlwdGlvbkV2ZW50cyIsICJpbXBvcnRfY3Jvc3NfZmV0Y2giLCAiY3Jvc3NGZXRjaCIsICJmZXRjaCJdCn0K
