/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/

var __create = Object.create;
var __defProp = Object.defineProperty;
var __getOwnPropDesc = Object.getOwnPropertyDescriptor;
var __getOwnPropNames = Object.getOwnPropertyNames;
var __getProtoOf = Object.getPrototypeOf;
var __hasOwnProp = Object.prototype.hasOwnProperty;
var __commonJS = (cb, mod) => function __require() {
  return mod || (0, cb[__getOwnPropNames(cb)[0]])((mod = { exports: {} }).exports, mod), mod.exports;
};
var __export = (target, all) => {
  for (var name in all)
    __defProp(target, name, { get: all[name], enumerable: true });
};
var __copyProps = (to, from, except, desc) => {
  if (from && typeof from === "object" || typeof from === "function") {
    for (let key of __getOwnPropNames(from))
      if (!__hasOwnProp.call(to, key) && key !== except)
        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });
  }
  return to;
};
var __toESM = (mod, isNodeMode, target) => (target = mod != null ? __create(__getProtoOf(mod)) : {}, __copyProps(
  // If the importer is in node compatibility mode or this is not an ESM
  // file that has been converted to a CommonJS file using a Babel-
  // compatible transform (i.e. "__esModule" has not been set), then set
  // "default" to the CommonJS "module.exports" for node compatibility.
  isNodeMode || !mod || !mod.__esModule ? __defProp(target, "default", { value: mod, enumerable: true }) : target,
  mod
));
var __toCommonJS = (mod) => __copyProps(__defProp({}, "__esModule", { value: true }), mod);

// node_modules/cross-fetch/dist/browser-ponyfill.js
var require_browser_ponyfill = __commonJS({
  "node_modules/cross-fetch/dist/browser-ponyfill.js"(exports, module2) {
    var global = typeof self !== "undefined" ? self : exports;
    var __self__ = function() {
      function F() {
        this.fetch = false;
        this.DOMException = global.DOMException;
      }
      F.prototype = global;
      return new F();
    }();
    (function(self2) {
      var irrelevant = function(exports2) {
        var support = {
          searchParams: "URLSearchParams" in self2,
          iterable: "Symbol" in self2 && "iterator" in Symbol,
          blob: "FileReader" in self2 && "Blob" in self2 && function() {
            try {
              new Blob();
              return true;
            } catch (e) {
              return false;
            }
          }(),
          formData: "FormData" in self2,
          arrayBuffer: "ArrayBuffer" in self2
        };
        function isDataView(obj) {
          return obj && DataView.prototype.isPrototypeOf(obj);
        }
        if (support.arrayBuffer) {
          var viewClasses = [
            "[object Int8Array]",
            "[object Uint8Array]",
            "[object Uint8ClampedArray]",
            "[object Int16Array]",
            "[object Uint16Array]",
            "[object Int32Array]",
            "[object Uint32Array]",
            "[object Float32Array]",
            "[object Float64Array]"
          ];
          var isArrayBufferView = ArrayBuffer.isView || function(obj) {
            return obj && viewClasses.indexOf(Object.prototype.toString.call(obj)) > -1;
          };
        }
        function normalizeName(name) {
          if (typeof name !== "string") {
            name = String(name);
          }
          if (/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(name)) {
            throw new TypeError("Invalid character in header field name");
          }
          return name.toLowerCase();
        }
        function normalizeValue(value) {
          if (typeof value !== "string") {
            value = String(value);
          }
          return value;
        }
        function iteratorFor(items) {
          var iterator = {
            next: function() {
              var value = items.shift();
              return { done: value === void 0, value };
            }
          };
          if (support.iterable) {
            iterator[Symbol.iterator] = function() {
              return iterator;
            };
          }
          return iterator;
        }
        function Headers2(headers) {
          this.map = {};
          if (headers instanceof Headers2) {
            headers.forEach(function(value, name) {
              this.append(name, value);
            }, this);
          } else if (Array.isArray(headers)) {
            headers.forEach(function(header) {
              this.append(header[0], header[1]);
            }, this);
          } else if (headers) {
            Object.getOwnPropertyNames(headers).forEach(function(name) {
              this.append(name, headers[name]);
            }, this);
          }
        }
        Headers2.prototype.append = function(name, value) {
          name = normalizeName(name);
          value = normalizeValue(value);
          var oldValue = this.map[name];
          this.map[name] = oldValue ? oldValue + ", " + value : value;
        };
        Headers2.prototype["delete"] = function(name) {
          delete this.map[normalizeName(name)];
        };
        Headers2.prototype.get = function(name) {
          name = normalizeName(name);
          return this.has(name) ? this.map[name] : null;
        };
        Headers2.prototype.has = function(name) {
          return this.map.hasOwnProperty(normalizeName(name));
        };
        Headers2.prototype.set = function(name, value) {
          this.map[normalizeName(name)] = normalizeValue(value);
        };
        Headers2.prototype.forEach = function(callback, thisArg) {
          for (var name in this.map) {
            if (this.map.hasOwnProperty(name)) {
              callback.call(thisArg, this.map[name], name, this);
            }
          }
        };
        Headers2.prototype.keys = function() {
          var items = [];
          this.forEach(function(value, name) {
            items.push(name);
          });
          return iteratorFor(items);
        };
        Headers2.prototype.values = function() {
          var items = [];
          this.forEach(function(value) {
            items.push(value);
          });
          return iteratorFor(items);
        };
        Headers2.prototype.entries = function() {
          var items = [];
          this.forEach(function(value, name) {
            items.push([name, value]);
          });
          return iteratorFor(items);
        };
        if (support.iterable) {
          Headers2.prototype[Symbol.iterator] = Headers2.prototype.entries;
        }
        function consumed(body) {
          if (body.bodyUsed) {
            return Promise.reject(new TypeError("Already read"));
          }
          body.bodyUsed = true;
        }
        function fileReaderReady(reader) {
          return new Promise(function(resolve, reject) {
            reader.onload = function() {
              resolve(reader.result);
            };
            reader.onerror = function() {
              reject(reader.error);
            };
          });
        }
        function readBlobAsArrayBuffer(blob) {
          var reader = new FileReader();
          var promise = fileReaderReady(reader);
          reader.readAsArrayBuffer(blob);
          return promise;
        }
        function readBlobAsText(blob) {
          var reader = new FileReader();
          var promise = fileReaderReady(reader);
          reader.readAsText(blob);
          return promise;
        }
        function readArrayBufferAsText(buf) {
          var view = new Uint8Array(buf);
          var chars = new Array(view.length);
          for (var i = 0; i < view.length; i++) {
            chars[i] = String.fromCharCode(view[i]);
          }
          return chars.join("");
        }
        function bufferClone(buf) {
          if (buf.slice) {
            return buf.slice(0);
          } else {
            var view = new Uint8Array(buf.byteLength);
            view.set(new Uint8Array(buf));
            return view.buffer;
          }
        }
        function Body() {
          this.bodyUsed = false;
          this._initBody = function(body) {
            this._bodyInit = body;
            if (!body) {
              this._bodyText = "";
            } else if (typeof body === "string") {
              this._bodyText = body;
            } else if (support.blob && Blob.prototype.isPrototypeOf(body)) {
              this._bodyBlob = body;
            } else if (support.formData && FormData.prototype.isPrototypeOf(body)) {
              this._bodyFormData = body;
            } else if (support.searchParams && URLSearchParams.prototype.isPrototypeOf(body)) {
              this._bodyText = body.toString();
            } else if (support.arrayBuffer && support.blob && isDataView(body)) {
              this._bodyArrayBuffer = bufferClone(body.buffer);
              this._bodyInit = new Blob([this._bodyArrayBuffer]);
            } else if (support.arrayBuffer && (ArrayBuffer.prototype.isPrototypeOf(body) || isArrayBufferView(body))) {
              this._bodyArrayBuffer = bufferClone(body);
            } else {
              this._bodyText = body = Object.prototype.toString.call(body);
            }
            if (!this.headers.get("content-type")) {
              if (typeof body === "string") {
                this.headers.set("content-type", "text/plain;charset=UTF-8");
              } else if (this._bodyBlob && this._bodyBlob.type) {
                this.headers.set("content-type", this._bodyBlob.type);
              } else if (support.searchParams && URLSearchParams.prototype.isPrototypeOf(body)) {
                this.headers.set("content-type", "application/x-www-form-urlencoded;charset=UTF-8");
              }
            }
          };
          if (support.blob) {
            this.blob = function() {
              var rejected = consumed(this);
              if (rejected) {
                return rejected;
              }
              if (this._bodyBlob) {
                return Promise.resolve(this._bodyBlob);
              } else if (this._bodyArrayBuffer) {
                return Promise.resolve(new Blob([this._bodyArrayBuffer]));
              } else if (this._bodyFormData) {
                throw new Error("could not read FormData body as blob");
              } else {
                return Promise.resolve(new Blob([this._bodyText]));
              }
            };
            this.arrayBuffer = function() {
              if (this._bodyArrayBuffer) {
                return consumed(this) || Promise.resolve(this._bodyArrayBuffer);
              } else {
                return this.blob().then(readBlobAsArrayBuffer);
              }
            };
          }
          this.text = function() {
            var rejected = consumed(this);
            if (rejected) {
              return rejected;
            }
            if (this._bodyBlob) {
              return readBlobAsText(this._bodyBlob);
            } else if (this._bodyArrayBuffer) {
              return Promise.resolve(readArrayBufferAsText(this._bodyArrayBuffer));
            } else if (this._bodyFormData) {
              throw new Error("could not read FormData body as text");
            } else {
              return Promise.resolve(this._bodyText);
            }
          };
          if (support.formData) {
            this.formData = function() {
              return this.text().then(decode);
            };
          }
          this.json = function() {
            return this.text().then(JSON.parse);
          };
          return this;
        }
        var methods = ["DELETE", "GET", "HEAD", "OPTIONS", "POST", "PUT"];
        function normalizeMethod(method) {
          var upcased = method.toUpperCase();
          return methods.indexOf(upcased) > -1 ? upcased : method;
        }
        function Request(input, options) {
          options = options || {};
          var body = options.body;
          if (input instanceof Request) {
            if (input.bodyUsed) {
              throw new TypeError("Already read");
            }
            this.url = input.url;
            this.credentials = input.credentials;
            if (!options.headers) {
              this.headers = new Headers2(input.headers);
            }
            this.method = input.method;
            this.mode = input.mode;
            this.signal = input.signal;
            if (!body && input._bodyInit != null) {
              body = input._bodyInit;
              input.bodyUsed = true;
            }
          } else {
            this.url = String(input);
          }
          this.credentials = options.credentials || this.credentials || "same-origin";
          if (options.headers || !this.headers) {
            this.headers = new Headers2(options.headers);
          }
          this.method = normalizeMethod(options.method || this.method || "GET");
          this.mode = options.mode || this.mode || null;
          this.signal = options.signal || this.signal;
          this.referrer = null;
          if ((this.method === "GET" || this.method === "HEAD") && body) {
            throw new TypeError("Body not allowed for GET or HEAD requests");
          }
          this._initBody(body);
        }
        Request.prototype.clone = function() {
          return new Request(this, { body: this._bodyInit });
        };
        function decode(body) {
          var form = new FormData();
          body.trim().split("&").forEach(function(bytes) {
            if (bytes) {
              var split = bytes.split("=");
              var name = split.shift().replace(/\+/g, " ");
              var value = split.join("=").replace(/\+/g, " ");
              form.append(decodeURIComponent(name), decodeURIComponent(value));
            }
          });
          return form;
        }
        function parseHeaders(rawHeaders) {
          var headers = new Headers2();
          var preProcessedHeaders = rawHeaders.replace(/\r?\n[\t ]+/g, " ");
          preProcessedHeaders.split(/\r?\n/).forEach(function(line) {
            var parts = line.split(":");
            var key = parts.shift().trim();
            if (key) {
              var value = parts.join(":").trim();
              headers.append(key, value);
            }
          });
          return headers;
        }
        Body.call(Request.prototype);
        function Response2(bodyInit, options) {
          if (!options) {
            options = {};
          }
          this.type = "default";
          this.status = options.status === void 0 ? 200 : options.status;
          this.ok = this.status >= 200 && this.status < 300;
          this.statusText = "statusText" in options ? options.statusText : "OK";
          this.headers = new Headers2(options.headers);
          this.url = options.url || "";
          this._initBody(bodyInit);
        }
        Body.call(Response2.prototype);
        Response2.prototype.clone = function() {
          return new Response2(this._bodyInit, {
            status: this.status,
            statusText: this.statusText,
            headers: new Headers2(this.headers),
            url: this.url
          });
        };
        Response2.error = function() {
          var response = new Response2(null, { status: 0, statusText: "" });
          response.type = "error";
          return response;
        };
        var redirectStatuses = [301, 302, 303, 307, 308];
        Response2.redirect = function(url, status) {
          if (redirectStatuses.indexOf(status) === -1) {
            throw new RangeError("Invalid status code");
          }
          return new Response2(null, { status, headers: { location: url } });
        };
        exports2.DOMException = self2.DOMException;
        try {
          new exports2.DOMException();
        } catch (err) {
          exports2.DOMException = function(message, name) {
            this.message = message;
            this.name = name;
            var error = Error(message);
            this.stack = error.stack;
          };
          exports2.DOMException.prototype = Object.create(Error.prototype);
          exports2.DOMException.prototype.constructor = exports2.DOMException;
        }
        function fetch2(input, init) {
          return new Promise(function(resolve, reject) {
            var request = new Request(input, init);
            if (request.signal && request.signal.aborted) {
              return reject(new exports2.DOMException("Aborted", "AbortError"));
            }
            var xhr = new XMLHttpRequest();
            function abortXhr() {
              xhr.abort();
            }
            xhr.onload = function() {
              var options = {
                status: xhr.status,
                statusText: xhr.statusText,
                headers: parseHeaders(xhr.getAllResponseHeaders() || "")
              };
              options.url = "responseURL" in xhr ? xhr.responseURL : options.headers.get("X-Request-URL");
              var body = "response" in xhr ? xhr.response : xhr.responseText;
              resolve(new Response2(body, options));
            };
            xhr.onerror = function() {
              reject(new TypeError("Network request failed"));
            };
            xhr.ontimeout = function() {
              reject(new TypeError("Network request failed"));
            };
            xhr.onabort = function() {
              reject(new exports2.DOMException("Aborted", "AbortError"));
            };
            xhr.open(request.method, request.url, true);
            if (request.credentials === "include") {
              xhr.withCredentials = true;
            } else if (request.credentials === "omit") {
              xhr.withCredentials = false;
            }
            if ("responseType" in xhr && support.blob) {
              xhr.responseType = "blob";
            }
            request.headers.forEach(function(value, name) {
              xhr.setRequestHeader(name, value);
            });
            if (request.signal) {
              request.signal.addEventListener("abort", abortXhr);
              xhr.onreadystatechange = function() {
                if (xhr.readyState === 4) {
                  request.signal.removeEventListener("abort", abortXhr);
                }
              };
            }
            xhr.send(typeof request._bodyInit === "undefined" ? null : request._bodyInit);
          });
        }
        fetch2.polyfill = true;
        if (!self2.fetch) {
          self2.fetch = fetch2;
          self2.Headers = Headers2;
          self2.Request = Request;
          self2.Response = Response2;
        }
        exports2.Headers = Headers2;
        exports2.Request = Request;
        exports2.Response = Response2;
        exports2.fetch = fetch2;
        Object.defineProperty(exports2, "__esModule", { value: true });
        return exports2;
      }({});
    })(__self__);
    __self__.fetch.ponyfill = true;
    delete __self__.fetch.polyfill;
    var ctx = __self__;
    exports = ctx.fetch;
    exports.default = ctx.fetch;
    exports.fetch = ctx.fetch;
    exports.Headers = ctx.Headers;
    exports.Request = ctx.Request;
    exports.Response = ctx.Response;
    module2.exports = exports;
  }
});

// node_modules/deepmerge/dist/cjs.js
var require_cjs = __commonJS({
  "node_modules/deepmerge/dist/cjs.js"(exports, module2) {
    "use strict";
    var isMergeableObject = function isMergeableObject2(value) {
      return isNonNullObject(value) && !isSpecial(value);
    };
    function isNonNullObject(value) {
      return !!value && typeof value === "object";
    }
    function isSpecial(value) {
      var stringValue = Object.prototype.toString.call(value);
      return stringValue === "[object RegExp]" || stringValue === "[object Date]" || isReactElement(value);
    }
    var canUseSymbol = typeof Symbol === "function" && Symbol.for;
    var REACT_ELEMENT_TYPE = canUseSymbol ? Symbol.for("react.element") : 60103;
    function isReactElement(value) {
      return value.$$typeof === REACT_ELEMENT_TYPE;
    }
    function emptyTarget(val) {
      return Array.isArray(val) ? [] : {};
    }
    function cloneUnlessOtherwiseSpecified(value, options) {
      return options.clone !== false && options.isMergeableObject(value) ? deepmerge(emptyTarget(value), value, options) : value;
    }
    function defaultArrayMerge(target, source, options) {
      return target.concat(source).map(function(element) {
        return cloneUnlessOtherwiseSpecified(element, options);
      });
    }
    function getMergeFunction(key, options) {
      if (!options.customMerge) {
        return deepmerge;
      }
      var customMerge = options.customMerge(key);
      return typeof customMerge === "function" ? customMerge : deepmerge;
    }
    function getEnumerableOwnPropertySymbols(target) {
      return Object.getOwnPropertySymbols ? Object.getOwnPropertySymbols(target).filter(function(symbol) {
        return Object.propertyIsEnumerable.call(target, symbol);
      }) : [];
    }
    function getKeys(target) {
      return Object.keys(target).concat(getEnumerableOwnPropertySymbols(target));
    }
    function propertyIsOnObject(object, property) {
      try {
        return property in object;
      } catch (_) {
        return false;
      }
    }
    function propertyIsUnsafe(target, key) {
      return propertyIsOnObject(target, key) && !(Object.hasOwnProperty.call(target, key) && Object.propertyIsEnumerable.call(target, key));
    }
    function mergeObject(target, source, options) {
      var destination = {};
      if (options.isMergeableObject(target)) {
        getKeys(target).forEach(function(key) {
          destination[key] = cloneUnlessOtherwiseSpecified(target[key], options);
        });
      }
      getKeys(source).forEach(function(key) {
        if (propertyIsUnsafe(target, key)) {
          return;
        }
        if (propertyIsOnObject(target, key) && options.isMergeableObject(source[key])) {
          destination[key] = getMergeFunction(key, options)(target[key], source[key], options);
        } else {
          destination[key] = cloneUnlessOtherwiseSpecified(source[key], options);
        }
      });
      return destination;
    }
    function deepmerge(target, source, options) {
      options = options || {};
      options.arrayMerge = options.arrayMerge || defaultArrayMerge;
      options.isMergeableObject = options.isMergeableObject || isMergeableObject;
      options.cloneUnlessOtherwiseSpecified = cloneUnlessOtherwiseSpecified;
      var sourceIsArray = Array.isArray(source);
      var targetIsArray = Array.isArray(target);
      var sourceAndTargetTypesMatch = sourceIsArray === targetIsArray;
      if (!sourceAndTargetTypesMatch) {
        return cloneUnlessOtherwiseSpecified(source, options);
      } else if (sourceIsArray) {
        return options.arrayMerge(target, source, options);
      } else {
        return mergeObject(target, source, options);
      }
    }
    deepmerge.all = function deepmergeAll(array, options) {
      if (!Array.isArray(array)) {
        throw new Error("first argument should be an array");
      }
      return array.reduce(function(prev, next) {
        return deepmerge(prev, next, options);
      }, {});
    };
    var deepmerge_1 = deepmerge;
    module2.exports = deepmerge_1;
  }
});

// node_modules/es5-ext/global.js
var require_global = __commonJS({
  "node_modules/es5-ext/global.js"(exports, module2) {
    var naiveFallback = function() {
      if (typeof self === "object" && self)
        return self;
      if (typeof window === "object" && window)
        return window;
      throw new Error("Unable to resolve global `this`");
    };
    module2.exports = function() {
      if (this)
        return this;
      if (typeof globalThis === "object" && globalThis)
        return globalThis;
      try {
        Object.defineProperty(Object.prototype, "__global__", {
          get: function() {
            return this;
          },
          configurable: true
        });
      } catch (error) {
        return naiveFallback();
      }
      try {
        if (!__global__)
          return naiveFallback();
        return __global__;
      } finally {
        delete Object.prototype.__global__;
      }
    }();
  }
});

// node_modules/websocket/package.json
var require_package = __commonJS({
  "node_modules/websocket/package.json"(exports, module2) {
    module2.exports = {
      _from: "websocket@^1.0.34",
      _id: "websocket@1.0.34",
      _inBundle: false,
      _integrity: "sha512-PRDso2sGwF6kM75QykIesBijKSVceR6jL2G8NGYyq2XrItNC2P5/qL5XeR056GhA+Ly7JMFvJb9I312mJfmqnQ==",
      _location: "/websocket",
      _phantomChildren: {},
      _requested: {
        type: "range",
        registry: true,
        raw: "websocket@^1.0.34",
        name: "websocket",
        escapedName: "websocket",
        rawSpec: "^1.0.34",
        saveSpec: null,
        fetchSpec: "^1.0.34"
      },
      _requiredBy: [
        "/@deepgram/sdk"
      ],
      _resolved: "https://registry.npmjs.org/websocket/-/websocket-1.0.34.tgz",
      _shasum: "2bdc2602c08bf2c82253b730655c0ef7dcab3111",
      _spec: "websocket@^1.0.34",
      _where: "/Users/samfarrar/Documents/transcription_test/deepgram-transcription/node_modules/@deepgram/sdk",
      author: {
        name: "Brian McKelvey",
        email: "theturtle32@gmail.com",
        url: "https://github.com/theturtle32"
      },
      browser: "lib/browser.js",
      bugs: {
        url: "https://github.com/theturtle32/WebSocket-Node/issues"
      },
      bundleDependencies: false,
      config: {
        verbose: false
      },
      contributors: [
        {
          name: "I\xF1aki Baz Castillo",
          email: "ibc@aliax.net",
          url: "http://dev.sipdoc.net"
        }
      ],
      dependencies: {
        bufferutil: "^4.0.1",
        debug: "^2.2.0",
        "es5-ext": "^0.10.50",
        "typedarray-to-buffer": "^3.1.5",
        "utf-8-validate": "^5.0.2",
        yaeti: "^0.0.6"
      },
      deprecated: false,
      description: "Websocket Client & Server Library implementing the WebSocket protocol as specified in RFC 6455.",
      devDependencies: {
        "buffer-equal": "^1.0.0",
        gulp: "^4.0.2",
        "gulp-jshint": "^2.0.4",
        jshint: "^2.0.0",
        "jshint-stylish": "^2.2.1",
        tape: "^4.9.1"
      },
      directories: {
        lib: "./lib"
      },
      engines: {
        node: ">=4.0.0"
      },
      homepage: "https://github.com/theturtle32/WebSocket-Node",
      keywords: [
        "websocket",
        "websockets",
        "socket",
        "networking",
        "comet",
        "push",
        "RFC-6455",
        "realtime",
        "server",
        "client"
      ],
      license: "Apache-2.0",
      main: "index",
      name: "websocket",
      repository: {
        type: "git",
        url: "git+https://github.com/theturtle32/WebSocket-Node.git"
      },
      scripts: {
        gulp: "gulp",
        test: "tape test/unit/*.js"
      },
      version: "1.0.34"
    };
  }
});

// node_modules/websocket/lib/version.js
var require_version = __commonJS({
  "node_modules/websocket/lib/version.js"(exports, module2) {
    module2.exports = require_package().version;
  }
});

// node_modules/websocket/lib/browser.js
var require_browser = __commonJS({
  "node_modules/websocket/lib/browser.js"(exports, module2) {
    var _globalThis;
    if (typeof globalThis === "object") {
      _globalThis = globalThis;
    } else {
      try {
        _globalThis = require_global();
      } catch (error) {
      } finally {
        if (!_globalThis && typeof window !== "undefined") {
          _globalThis = window;
        }
        if (!_globalThis) {
          throw new Error("Could not determine global this");
        }
      }
    }
    var NativeWebSocket = _globalThis.WebSocket || _globalThis.MozWebSocket;
    var websocket_version = require_version();
    function W3CWebSocket(uri, protocols) {
      var native_instance;
      if (protocols) {
        native_instance = new NativeWebSocket(uri, protocols);
      } else {
        native_instance = new NativeWebSocket(uri);
      }
      return native_instance;
    }
    if (NativeWebSocket) {
      ["CONNECTING", "OPEN", "CLOSING", "CLOSED"].forEach(function(prop) {
        Object.defineProperty(W3CWebSocket, prop, {
          get: function() {
            return NativeWebSocket[prop];
          }
        });
      });
    }
    module2.exports = {
      "w3cwebsocket": NativeWebSocket ? W3CWebSocket : null,
      "version": websocket_version
    };
  }
});

// main.ts
var main_exports = {};
__export(main_exports, {
  default: () => DeepgramPlugin
});
module.exports = __toCommonJS(main_exports);
var import_obsidian = require("obsidian");

// node_modules/@deepgram/sdk/dist/module/lib/errors.js
var DeepgramError = class extends Error {
  constructor(message) {
    super(message);
    this.__dgError = true;
    this.name = "DeepgramError";
  }
};
function isDeepgramError(error) {
  return typeof error === "object" && error !== null && "__dgError" in error;
}
var DeepgramApiError = class extends DeepgramError {
  constructor(message, status) {
    super(message);
    this.name = "DeepgramApiError";
    this.status = status;
  }
  toJSON() {
    return {
      name: this.name,
      message: this.message,
      status: this.status
    };
  }
};
var DeepgramUnknownError = class extends DeepgramError {
  constructor(message, originalError) {
    super(message);
    this.name = "DeepgramUnknownError";
    this.originalError = originalError;
  }
};
var DeepgramVersionError = class extends DeepgramError {
  constructor() {
    super(`You are attempting to use an old format for a newer SDK version. Read more here: https://dpgr.am/js-v3`);
    this.name = "DeepgramVersionError";
  }
};

// node_modules/@deepgram/sdk/dist/module/lib/helpers.js
var import_cross_fetch = __toESM(require_browser_ponyfill());
var import_deepmerge = __toESM(require_cjs());
function stripTrailingSlash(url) {
  return url.replace(/\/$/, "");
}
var isBrowser = () => typeof window !== "undefined";
function applySettingDefaults(options, defaults) {
  return (0, import_deepmerge.default)(defaults, options);
}
function appendSearchParams(searchParams, options) {
  Object.keys(options).forEach((i) => {
    if (Array.isArray(options[i])) {
      const arrayParams = options[i];
      arrayParams.forEach((param) => {
        searchParams.append(i, String(param));
      });
    } else {
      searchParams.append(i, String(options[i]));
    }
  });
}
var resolveHeadersConstructor = () => {
  if (typeof Headers === "undefined") {
    return import_cross_fetch.Headers;
  }
  return Headers;
};
var isUrlSource = (providedSource) => {
  if (providedSource.url)
    return true;
  return false;
};
var isTextSource = (providedSource) => {
  if (providedSource.text)
    return true;
  return false;
};
var isFileSource = (providedSource) => {
  if (isReadStreamSource(providedSource) || isBufferSource(providedSource))
    return true;
  return false;
};
var isBufferSource = (providedSource) => {
  if (providedSource)
    return true;
  return false;
};
var isReadStreamSource = (providedSource) => {
  if (providedSource)
    return true;
  return false;
};

// node_modules/@deepgram/sdk/dist/module/lib/version.js
var version = "3.3.1";

// node_modules/@deepgram/sdk/dist/module/lib/constants.js
var NODE_VERSION = process.versions.node;
var DEFAULT_HEADERS = {
  "Content-Type": `application/json`,
  "X-Client-Info": `@deepgram/sdk; ${isBrowser() ? "browser" : "server"}; v${version}`,
  "User-Agent": `@deepgram/sdk/${version} ${isBrowser() ? "javascript" : `node/${NODE_VERSION}`}`
};
var DEFAULT_URL = "https://api.deepgram.com";
var DEFAULT_GLOBAL_OPTIONS = {
  url: DEFAULT_URL
};
var DEFAULT_FETCH_OPTIONS = {
  headers: DEFAULT_HEADERS
};
var DEFAULT_OPTIONS = {
  global: DEFAULT_GLOBAL_OPTIONS,
  fetch: DEFAULT_FETCH_OPTIONS
};

// node_modules/@deepgram/sdk/dist/module/packages/AbstractClient.js
var AbstractClient = class {
  constructor(key, options) {
    var _a, _b;
    this.key = key;
    this.options = options;
    this.key = key;
    if (!key) {
      this.key = process.env.DEEPGRAM_API_KEY;
    }
    if (!this.key) {
      throw new DeepgramError("A deepgram API key is required");
    }
    this.options = applySettingDefaults(options, DEFAULT_OPTIONS);
    if (!((_a = this.options.global) === null || _a === void 0 ? void 0 : _a.url)) {
      throw new DeepgramError(`An API URL is required. It should be set to ${DEFAULT_URL} by default. No idea what happened!`);
    }
    let baseUrlString = this.options.global.url;
    let proxyUrlString;
    if (!baseUrlString.startsWith("http") && !baseUrlString.startsWith("ws")) {
      console.warn(`The base URL provided does not begin with http, https, ws, or wss and will default to https as standard.`);
    }
    if ((_b = this.options.restProxy) === null || _b === void 0 ? void 0 : _b.url) {
      if (this.key !== "proxy") {
        throw new DeepgramError(`Do not attempt to pass any other API key than the string "proxy" when making proxied REST requests. Please ensure your proxy application is responsible for writing our API key to the Authorization header.`);
      }
      proxyUrlString = this.options.restProxy.url;
      if (!proxyUrlString.startsWith("http") && !proxyUrlString.startsWith("ws")) {
        console.warn(`The proxy URL provided does not begin with http, https, ws, or wss and will default to https as standard.`);
      }
      baseUrlString = proxyUrlString;
    }
    this.baseUrl = this.resolveBaseUrl(baseUrlString);
  }
  resolveBaseUrl(url) {
    if (!/^https?:\/\//i.test(url)) {
      url = "https://" + url;
    }
    return new URL(stripTrailingSlash(url));
  }
  willProxy() {
    var _a;
    const proxyUrl = (_a = this.options.restProxy) === null || _a === void 0 ? void 0 : _a.url;
    return !!proxyUrl;
  }
};

// node_modules/@deepgram/sdk/dist/module/packages/AbstractWsClient.js
var import_events = require("events");
var AbstractWsClient = class extends import_events.EventEmitter {
  constructor(key, options = DEFAULT_OPTIONS) {
    var _a;
    super();
    this.key = key;
    this.options = options;
    this.key = key;
    if (!key) {
      this.key = process.env.DEEPGRAM_API_KEY;
    }
    if (!this.key) {
      throw new Error("A deepgram API key is required");
    }
    this.options = applySettingDefaults(options, DEFAULT_OPTIONS);
    if (!((_a = this.options.global) === null || _a === void 0 ? void 0 : _a.url)) {
      throw new Error(`An API URL is required. It should be set to ${DEFAULT_URL} by default. No idea what happened!`);
    }
    let url = this.options.global.url;
    if (!/^https?:\/\//i.test(url)) {
      url = "https://" + url;
    }
    this.baseUrl = new URL(stripTrailingSlash(url));
    this.baseUrl.protocol = this.baseUrl.protocol.toLowerCase().replace(/(http)(s)?/gi, "ws$2");
  }
};

// node_modules/@deepgram/sdk/dist/module/lib/enums/LiveConnectionState.js
var LiveConnectionState;
(function(LiveConnectionState2) {
  LiveConnectionState2[LiveConnectionState2["CONNECTING"] = 0] = "CONNECTING";
  LiveConnectionState2[LiveConnectionState2["OPEN"] = 1] = "OPEN";
  LiveConnectionState2[LiveConnectionState2["CLOSING"] = 2] = "CLOSING";
  LiveConnectionState2[LiveConnectionState2["CLOSED"] = 3] = "CLOSED";
})(LiveConnectionState || (LiveConnectionState = {}));

// node_modules/@deepgram/sdk/dist/module/lib/enums/LiveTranscriptionEvents.js
var LiveTranscriptionEvents;
(function(LiveTranscriptionEvents2) {
  LiveTranscriptionEvents2["Open"] = "open";
  LiveTranscriptionEvents2["Close"] = "close";
  LiveTranscriptionEvents2["Transcript"] = "Results";
  LiveTranscriptionEvents2["Metadata"] = "Metadata";
  LiveTranscriptionEvents2["Error"] = "error";
  LiveTranscriptionEvents2["Warning"] = "warning";
  LiveTranscriptionEvents2["UtteranceEnd"] = "UtteranceEnd";
  LiveTranscriptionEvents2["SpeechStarted"] = "SpeechStarted";
})(LiveTranscriptionEvents || (LiveTranscriptionEvents = {}));

// node_modules/@deepgram/sdk/dist/module/packages/LiveClient.js
var import_websocket = __toESM(require_browser());
var LiveClient = class extends AbstractWsClient {
  constructor(key, options = DEFAULT_OPTIONS, transcriptionOptions = {}, endpoint = "v1/listen") {
    super(key, options);
    this.key = key;
    this.options = options;
    this.transcriptionOptions = transcriptionOptions;
    const url = new URL(endpoint, this.baseUrl);
    url.protocol = url.protocol.toLowerCase().replace(/(http)(s)?/gi, "ws$2");
    appendSearchParams(url.searchParams, this.transcriptionOptions);
    this._socket = new import_websocket.w3cwebsocket(url.toString(), ["token", this.key]);
    this._socket.onopen = () => {
      this.emit(LiveTranscriptionEvents.Open, this);
    };
    this._socket.onclose = (event) => {
      this.emit(LiveTranscriptionEvents.Close, event);
    };
    this._socket.onerror = (event) => {
      this.emit(LiveTranscriptionEvents.Error, event);
    };
    this._socket.onmessage = (event) => {
      try {
        const data = JSON.parse(event.data.toString());
        if (data.type === LiveTranscriptionEvents.Metadata) {
          this.emit(LiveTranscriptionEvents.Metadata, data);
        }
        if (data.type === LiveTranscriptionEvents.Transcript) {
          this.emit(LiveTranscriptionEvents.Transcript, data);
        }
        if (data.type === LiveTranscriptionEvents.UtteranceEnd) {
          this.emit(LiveTranscriptionEvents.UtteranceEnd, data);
        }
        if (data.type === LiveTranscriptionEvents.SpeechStarted) {
          this.emit(LiveTranscriptionEvents.SpeechStarted, data);
        }
      } catch (error) {
        this.emit(LiveTranscriptionEvents.Error, {
          event,
          message: "Unable to parse `data` as JSON.",
          error
        });
      }
    };
  }
  configure(config) {
    this._socket.send(JSON.stringify({
      type: "Configure",
      processors: config
    }));
  }
  keepAlive() {
    this._socket.send(JSON.stringify({
      type: "KeepAlive"
    }));
  }
  getReadyState() {
    return this._socket.readyState;
  }
  /**
   * Sends data to the Deepgram API via websocket connection
   * @param data Audio data to send to Deepgram
   *
   * Conforms to RFC #146 for Node.js - does not send an empty byte.
   * In the browser, a Blob will contain length with no audio.
   * @see https://github.com/deepgram/deepgram-python-sdk/issues/146
   */
  send(data) {
    if (this._socket.readyState === LiveConnectionState.OPEN) {
      if (typeof data === "string") {
        this._socket.send(data);
      } else if (data instanceof Blob) {
        this._socket.send(data);
      } else {
        const buffer = data;
        if (buffer.byteLength > 0) {
          this._socket.send(buffer);
        } else {
          this.emit(LiveTranscriptionEvents.Warning, "Zero-byte detected, skipping. Send `CloseStream` if trying to close the connection.");
        }
      }
    } else {
      throw new DeepgramError("Could not send. Connection not open.");
    }
  }
  /**
   * Denote that you are finished sending audio and close
   * the websocket connection when transcription is finished
   */
  finish() {
    this._socket.send(JSON.stringify({
      type: "CloseStream"
    }));
  }
};

// node_modules/@deepgram/sdk/dist/module/lib/fetch.js
var import_cross_fetch2 = __toESM(require_browser_ponyfill());
var __awaiter = function(thisArg, _arguments, P, generator) {
  function adopt(value) {
    return value instanceof P ? value : new P(function(resolve) {
      resolve(value);
    });
  }
  return new (P || (P = Promise))(function(resolve, reject) {
    function fulfilled(value) {
      try {
        step(generator.next(value));
      } catch (e) {
        reject(e);
      }
    }
    function rejected(value) {
      try {
        step(generator["throw"](value));
      } catch (e) {
        reject(e);
      }
    }
    function step(result) {
      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);
    }
    step((generator = generator.apply(thisArg, _arguments || [])).next());
  });
};
var resolveFetch = (customFetch) => {
  let _fetch;
  if (customFetch) {
    _fetch = customFetch;
  } else if (typeof fetch === "undefined") {
    _fetch = import_cross_fetch2.default;
  } else {
    _fetch = fetch;
  }
  return (...args) => _fetch(...args);
};
var fetchWithAuth = (apiKey, customFetch) => {
  const fetch2 = resolveFetch(customFetch);
  const HeadersConstructor = resolveHeadersConstructor();
  return (input, init) => __awaiter(void 0, void 0, void 0, function* () {
    let headers = new HeadersConstructor(init === null || init === void 0 ? void 0 : init.headers);
    if (!headers.has("Authorization")) {
      headers.set("Authorization", `Token ${apiKey}`);
    }
    return fetch2(input, Object.assign(Object.assign({}, init), { headers }));
  });
};
var resolveResponse = () => __awaiter(void 0, void 0, void 0, function* () {
  if (typeof Response === "undefined") {
    return (yield Promise.resolve().then(() => __toESM(require_browser_ponyfill()))).Response;
  }
  return Response;
});

// node_modules/@deepgram/sdk/dist/module/packages/AbstractRestfulClient.js
var __awaiter2 = function(thisArg, _arguments, P, generator) {
  function adopt(value) {
    return value instanceof P ? value : new P(function(resolve) {
      resolve(value);
    });
  }
  return new (P || (P = Promise))(function(resolve, reject) {
    function fulfilled(value) {
      try {
        step(generator.next(value));
      } catch (e) {
        reject(e);
      }
    }
    function rejected(value) {
      try {
        step(generator["throw"](value));
      } catch (e) {
        reject(e);
      }
    }
    function step(result) {
      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);
    }
    step((generator = generator.apply(thisArg, _arguments || [])).next());
  });
};
var AbstractRestfulClient = class extends AbstractClient {
  constructor(key, options) {
    super(key, options);
    this.key = key;
    this.options = options;
    if (isBrowser() && !this._willProxy()) {
      throw new DeepgramError("Due to CORS we are unable to support REST-based API calls to our API from the browser. Please consider using a proxy, and including a `restProxy: { url: ''}` in your Deepgram client options.");
    }
    this.fetch = fetchWithAuth(this.key, options._experimentalCustomFetch);
  }
  _getErrorMessage(err) {
    return err.msg || err.message || err.error_description || err.error || JSON.stringify(err);
  }
  handleError(error, reject) {
    return __awaiter2(this, void 0, void 0, function* () {
      const Res = yield resolveResponse();
      if (error instanceof Res) {
        error.json().then((err) => {
          reject(new DeepgramApiError(this._getErrorMessage(err), error.status || 500));
        }).catch((err) => {
          reject(new DeepgramUnknownError(this._getErrorMessage(err), err));
        });
      } else {
        reject(new DeepgramUnknownError(this._getErrorMessage(error), error));
      }
    });
  }
  _getRequestParams(method, headers, parameters, body) {
    var _a, _b, _c;
    const params = Object.assign(Object.assign({}, (_a = this.options) === null || _a === void 0 ? void 0 : _a.fetch), { method, headers: Object.assign(Object.assign({}, (_c = (_b = this.options) === null || _b === void 0 ? void 0 : _b.fetch) === null || _c === void 0 ? void 0 : _c.headers), headers) || {} });
    if (method === "GET") {
      return params;
    }
    params.body = body;
    params.duplex = "half";
    return Object.assign(Object.assign({}, params), parameters);
  }
  _handleRequest(fetcher, method, url, headers, parameters, body) {
    return __awaiter2(this, void 0, void 0, function* () {
      return new Promise((resolve, reject) => {
        fetcher(url, this._getRequestParams(method, headers, parameters, body)).then((result) => {
          if (!result.ok)
            throw result;
          return result.json();
        }).then((data) => resolve(data)).catch((error) => this.handleError(error, reject));
      });
    });
  }
  _handleRawRequest(fetcher, method, url, headers, parameters, body) {
    return __awaiter2(this, void 0, void 0, function* () {
      return new Promise((resolve, reject) => {
        fetcher(url, this._getRequestParams(method, headers, parameters, body)).then((result) => {
          if (!result.ok)
            throw result;
          return result;
        }).then((data) => resolve(data)).catch((error) => this.handleError(error, reject));
      });
    });
  }
  get(fetcher, url, headers, parameters) {
    return __awaiter2(this, void 0, void 0, function* () {
      return this._handleRequest(fetcher, "GET", url, headers, parameters);
    });
  }
  post(fetcher, url, body, headers, parameters) {
    return __awaiter2(this, void 0, void 0, function* () {
      return this._handleRequest(fetcher, "POST", url, headers, parameters, body);
    });
  }
  put(fetcher, url, body, headers, parameters) {
    return __awaiter2(this, void 0, void 0, function* () {
      return this._handleRequest(fetcher, "PUT", url, headers, parameters, body);
    });
  }
  patch(fetcher, url, body, headers, parameters) {
    return __awaiter2(this, void 0, void 0, function* () {
      return this._handleRequest(fetcher, "PATCH", url, headers, parameters, body);
    });
  }
  delete(fetcher, url, headers, parameters) {
    return __awaiter2(this, void 0, void 0, function* () {
      return this._handleRequest(fetcher, "DELETE", url, headers, parameters);
    });
  }
  _willProxy() {
    var _a;
    const proxyUrl = (_a = this.options.restProxy) === null || _a === void 0 ? void 0 : _a.url;
    return !!proxyUrl;
  }
};

// node_modules/@deepgram/sdk/dist/module/packages/PrerecordedClient.js
var __awaiter3 = function(thisArg, _arguments, P, generator) {
  function adopt(value) {
    return value instanceof P ? value : new P(function(resolve) {
      resolve(value);
    });
  }
  return new (P || (P = Promise))(function(resolve, reject) {
    function fulfilled(value) {
      try {
        step(generator.next(value));
      } catch (e) {
        reject(e);
      }
    }
    function rejected(value) {
      try {
        step(generator["throw"](value));
      } catch (e) {
        reject(e);
      }
    }
    function step(result) {
      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);
    }
    step((generator = generator.apply(thisArg, _arguments || [])).next());
  });
};
var PrerecordedClient = class extends AbstractRestfulClient {
  transcribeUrl(source, options, endpoint = "v1/listen") {
    return __awaiter3(this, void 0, void 0, function* () {
      try {
        let body;
        if (isUrlSource(source)) {
          body = JSON.stringify(source);
        } else {
          throw new DeepgramError("Unknown transcription source type");
        }
        if (options !== void 0 && "callback" in options) {
          throw new DeepgramError("Callback cannot be provided as an option to a synchronous transcription. Use `transcribeUrlCallback` or `transcribeFileCallback` instead.");
        }
        const transcriptionOptions = Object.assign({}, options);
        const url = new URL(endpoint, this.baseUrl);
        appendSearchParams(url.searchParams, transcriptionOptions);
        const result = yield this.post(this.fetch, url, body);
        return { result, error: null };
      } catch (error) {
        if (isDeepgramError(error)) {
          return { result: null, error };
        }
        throw error;
      }
    });
  }
  transcribeFile(source, options, endpoint = "v1/listen") {
    return __awaiter3(this, void 0, void 0, function* () {
      try {
        let body;
        if (isFileSource(source)) {
          body = source;
        } else {
          throw new DeepgramError("Unknown transcription source type");
        }
        if (options !== void 0 && "callback" in options) {
          throw new DeepgramError("Callback cannot be provided as an option to a synchronous transcription. Use `transcribeUrlCallback` or `transcribeFileCallback` instead.");
        }
        const transcriptionOptions = Object.assign({}, options);
        const url = new URL(endpoint, this.baseUrl);
        appendSearchParams(url.searchParams, transcriptionOptions);
        const result = yield this.post(this.fetch, url, body, {
          "Content-Type": "deepgram/audio+video"
        });
        return { result, error: null };
      } catch (error) {
        if (isDeepgramError(error)) {
          return { result: null, error };
        }
        throw error;
      }
    });
  }
  transcribeUrlCallback(source, callback, options, endpoint = "v1/listen") {
    return __awaiter3(this, void 0, void 0, function* () {
      try {
        let body;
        if (isUrlSource(source)) {
          body = JSON.stringify(source);
        } else {
          throw new DeepgramError("Unknown transcription source type");
        }
        const transcriptionOptions = Object.assign(Object.assign({}, options), { callback: callback.toString() });
        const url = new URL(endpoint, this.baseUrl);
        appendSearchParams(url.searchParams, transcriptionOptions);
        const result = yield this.post(this.fetch, url, body);
        return { result, error: null };
      } catch (error) {
        if (isDeepgramError(error)) {
          return { result: null, error };
        }
        throw error;
      }
    });
  }
  transcribeFileCallback(source, callback, options, endpoint = "v1/listen") {
    return __awaiter3(this, void 0, void 0, function* () {
      try {
        let body;
        if (isFileSource(source)) {
          body = source;
        } else {
          throw new DeepgramError("Unknown transcription source type");
        }
        const transcriptionOptions = Object.assign(Object.assign({}, options), { callback: callback.toString() });
        const url = new URL(endpoint, this.baseUrl);
        appendSearchParams(url.searchParams, transcriptionOptions);
        const result = yield this.post(this.fetch, url, body, {
          "Content-Type": "deepgram/audio+video"
        });
        return { result, error: null };
      } catch (error) {
        if (isDeepgramError(error)) {
          return { result: null, error };
        }
        throw error;
      }
    });
  }
};

// node_modules/@deepgram/sdk/dist/module/packages/ListenClient.js
var ListenClient = class extends AbstractClient {
  get prerecorded() {
    return new PrerecordedClient(this.key, this.options);
  }
  live(transcriptionOptions, endpoint = "v1/listen") {
    return new LiveClient(this.key, this.options, transcriptionOptions, endpoint);
  }
};

// node_modules/@deepgram/sdk/dist/module/packages/ManageClient.js
var __awaiter4 = function(thisArg, _arguments, P, generator) {
  function adopt(value) {
    return value instanceof P ? value : new P(function(resolve) {
      resolve(value);
    });
  }
  return new (P || (P = Promise))(function(resolve, reject) {
    function fulfilled(value) {
      try {
        step(generator.next(value));
      } catch (e) {
        reject(e);
      }
    }
    function rejected(value) {
      try {
        step(generator["throw"](value));
      } catch (e) {
        reject(e);
      }
    }
    function step(result) {
      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);
    }
    step((generator = generator.apply(thisArg, _arguments || [])).next());
  });
};
var ManageClient = class extends AbstractRestfulClient {
  /**
   * @see https://developers.deepgram.com/docs/authenticating#test-request
   */
  getTokenDetails(endpoint = "v1/auth/token") {
    return __awaiter4(this, void 0, void 0, function* () {
      try {
        const url = new URL(this.baseUrl);
        url.pathname = endpoint;
        const result = yield this.get(this.fetch, url);
        return { result, error: null };
      } catch (error) {
        if (isDeepgramError(error)) {
          return { result: null, error };
        }
        throw error;
      }
    });
  }
  /**
   * @see https://developers.deepgram.com/reference/get-projects
   */
  getProjects(endpoint = "v1/projects") {
    return __awaiter4(this, void 0, void 0, function* () {
      try {
        const url = new URL(this.baseUrl);
        url.pathname = endpoint;
        const result = yield this.get(this.fetch, url);
        return { result, error: null };
      } catch (error) {
        if (isDeepgramError(error)) {
          return { result: null, error };
        }
        throw error;
      }
    });
  }
  /**
   * @see https://developers.deepgram.com/reference/get-project
   */
  getProject(projectId, endpoint = "v1/projects/:projectId") {
    return __awaiter4(this, void 0, void 0, function* () {
      try {
        const url = new URL(this.baseUrl);
        url.pathname = endpoint.replace(/:projectId/, projectId);
        const result = yield this.get(this.fetch, url);
        return { result, error: null };
      } catch (error) {
        if (isDeepgramError(error)) {
          return { result: null, error };
        }
        throw error;
      }
    });
  }
  /**
   * @see https://developers.deepgram.com/reference/update-project
   */
  updateProject(projectId, options, endpoint = "v1/projects/:projectId") {
    return __awaiter4(this, void 0, void 0, function* () {
      try {
        const url = new URL(this.baseUrl);
        url.pathname = endpoint.replace(/:projectId/, projectId);
        const body = JSON.stringify(options);
        const result = yield this.patch(this.fetch, url, body);
        return { result, error: null };
      } catch (error) {
        if (isDeepgramError(error)) {
          return { result: null, error };
        }
        throw error;
      }
    });
  }
  /**
   * @see https://developers.deepgram.com/reference/delete-project
   */
  deleteProject(projectId, endpoint = "v1/projects/:projectId") {
    return __awaiter4(this, void 0, void 0, function* () {
      try {
        const url = new URL(this.baseUrl);
        url.pathname = endpoint.replace(/:projectId/, projectId);
        yield this.delete(this.fetch, url);
        return { error: null };
      } catch (error) {
        if (isDeepgramError(error)) {
          return { error };
        }
        throw error;
      }
    });
  }
  /**
   * @see https://developers.deepgram.com/reference/list-keys
   */
  getProjectKeys(projectId, endpoint = "v1/projects/:projectId/keys") {
    return __awaiter4(this, void 0, void 0, function* () {
      try {
        const url = new URL(this.baseUrl);
        url.pathname = endpoint.replace(/:projectId/, projectId);
        const result = yield this.get(this.fetch, url);
        return { result, error: null };
      } catch (error) {
        if (isDeepgramError(error)) {
          return { result: null, error };
        }
        throw error;
      }
    });
  }
  /**
   * @see https://developers.deepgram.com/reference/get-key
   */
  getProjectKey(projectId, keyId, endpoint = "v1/projects/:projectId/keys/:keyId") {
    return __awaiter4(this, void 0, void 0, function* () {
      try {
        const url = new URL(this.baseUrl);
        url.pathname = endpoint.replace(/:projectId/, projectId).replace(/:keyId/, keyId);
        const result = yield this.get(this.fetch, url);
        return { result, error: null };
      } catch (error) {
        if (isDeepgramError(error)) {
          return { result: null, error };
        }
        throw error;
      }
    });
  }
  /**
   * @see https://developers.deepgram.com/reference/create-key
   */
  createProjectKey(projectId, options, endpoint = "v1/projects/:projectId/keys") {
    return __awaiter4(this, void 0, void 0, function* () {
      try {
        const url = new URL(this.baseUrl);
        url.pathname = endpoint.replace(/:projectId/, projectId);
        const body = JSON.stringify(options);
        const result = yield this.post(this.fetch, url, body);
        return { result, error: null };
      } catch (error) {
        if (isDeepgramError(error)) {
          return { result: null, error };
        }
        throw error;
      }
    });
  }
  /**
   * @see https://developers.deepgram.com/reference/delete-key
   */
  deleteProjectKey(projectId, keyId, endpoint = "v1/projects/:projectId/keys/:keyId") {
    return __awaiter4(this, void 0, void 0, function* () {
      try {
        const url = new URL(this.baseUrl);
        url.pathname = endpoint.replace(/:projectId/, projectId).replace(/:keyId/, keyId);
        yield this.delete(this.fetch, url);
        return { error: null };
      } catch (error) {
        if (isDeepgramError(error)) {
          return { error };
        }
        throw error;
      }
    });
  }
  /**
   * @see https://developers.deepgram.com/reference/get-members
   */
  getProjectMembers(projectId, endpoint = "v1/projects/:projectId/members") {
    return __awaiter4(this, void 0, void 0, function* () {
      try {
        const url = new URL(this.baseUrl);
        url.pathname = endpoint.replace(/:projectId/, projectId);
        const result = yield this.get(this.fetch, url);
        return { result, error: null };
      } catch (error) {
        if (isDeepgramError(error)) {
          return { result: null, error };
        }
        throw error;
      }
    });
  }
  /**
   * @see https://developers.deepgram.com/reference/remove-member
   */
  removeProjectMember(projectId, memberId, endpoint = "v1/projects/:projectId/members/:memberId") {
    return __awaiter4(this, void 0, void 0, function* () {
      try {
        const url = new URL(this.baseUrl);
        url.pathname = endpoint.replace(/:projectId/, projectId).replace(/:memberId/, memberId);
        yield this.delete(this.fetch, url);
        return { error: null };
      } catch (error) {
        if (isDeepgramError(error)) {
          return { error };
        }
        throw error;
      }
    });
  }
  /**
   * @see https://developers.deepgram.com/reference/get-member-scopes
   */
  getProjectMemberScopes(projectId, memberId, endpoint = "v1/projects/:projectId/members/:memberId/scopes") {
    return __awaiter4(this, void 0, void 0, function* () {
      try {
        const url = new URL(this.baseUrl);
        url.pathname = endpoint.replace(/:projectId/, projectId).replace(/:memberId/, memberId);
        const result = yield this.get(this.fetch, url);
        return { result, error: null };
      } catch (error) {
        if (isDeepgramError(error)) {
          return { result: null, error };
        }
        throw error;
      }
    });
  }
  /**
   * @see https://developers.deepgram.com/reference/update-scope
   */
  updateProjectMemberScope(projectId, memberId, options, endpoint = "v1/projects/:projectId/members/:memberId/scopes") {
    return __awaiter4(this, void 0, void 0, function* () {
      try {
        const url = new URL(this.baseUrl);
        url.pathname = endpoint.replace(/:projectId/, projectId).replace(/:memberId/, memberId);
        const body = JSON.stringify(options);
        const result = yield this.put(this.fetch, url, body);
        return { result, error: null };
      } catch (error) {
        if (isDeepgramError(error)) {
          return { result: null, error };
        }
        throw error;
      }
    });
  }
  /**
   * @see https://developers.deepgram.com/reference/list-invites
   */
  getProjectInvites(projectId, endpoint = "v1/projects/:projectId/invites") {
    return __awaiter4(this, void 0, void 0, function* () {
      try {
        const url = new URL(this.baseUrl);
        url.pathname = endpoint.replace(/:projectId/, projectId);
        const result = yield this.get(this.fetch, url);
        return { result, error: null };
      } catch (error) {
        if (isDeepgramError(error)) {
          return { result: null, error };
        }
        throw error;
      }
    });
  }
  /**
   * @see https://developers.deepgram.com/reference/send-invites
   */
  sendProjectInvite(projectId, options, endpoint = "v1/projects/:projectId/invites") {
    return __awaiter4(this, void 0, void 0, function* () {
      try {
        const url = new URL(this.baseUrl);
        url.pathname = endpoint.replace(/:projectId/, projectId);
        const body = JSON.stringify(options);
        const result = yield this.post(this.fetch, url, body);
        return { result, error: null };
      } catch (error) {
        if (isDeepgramError(error)) {
          return { result: null, error };
        }
        throw error;
      }
    });
  }
  /**
   * @see https://developers.deepgram.com/reference/delete-invite
   */
  deleteProjectInvite(projectId, email, endpoint = "v1/projects/:projectId/invites/:email") {
    return __awaiter4(this, void 0, void 0, function* () {
      try {
        const url = new URL(this.baseUrl);
        url.pathname = endpoint.replace(/:projectId/, projectId).replace(/:email/, email);
        yield this.delete(this.fetch, url);
        return { error: null };
      } catch (error) {
        if (isDeepgramError(error)) {
          return { error };
        }
        throw error;
      }
    });
  }
  /**
   * @see https://developers.deepgram.com/reference/leave-project
   */
  leaveProject(projectId, endpoint = "v1/projects/:projectId/leave") {
    return __awaiter4(this, void 0, void 0, function* () {
      try {
        const url = new URL(this.baseUrl);
        url.pathname = endpoint.replace(/:projectId/, projectId);
        const result = yield this.delete(this.fetch, url);
        return { result, error: null };
      } catch (error) {
        if (isDeepgramError(error)) {
          return { result: null, error };
        }
        throw error;
      }
    });
  }
  /**
   * @see https://developers.deepgram.com/reference/get-all-requests
   */
  getProjectUsageRequests(projectId, options, endpoint = "v1/projects/:projectId/requests") {
    return __awaiter4(this, void 0, void 0, function* () {
      try {
        const url = new URL(this.baseUrl);
        url.pathname = endpoint.replace(/:projectId/, projectId);
        appendSearchParams(url.searchParams, options);
        const result = yield this.get(this.fetch, url);
        return { result, error: null };
      } catch (error) {
        if (isDeepgramError(error)) {
          return { result: null, error };
        }
        throw error;
      }
    });
  }
  /**
   * @see https://developers.deepgram.com/reference/get-request
   */
  getProjectUsageRequest(projectId, requestId, endpoint = "v1/projects/:projectId/requests/:requestId") {
    return __awaiter4(this, void 0, void 0, function* () {
      try {
        const url = new URL(this.baseUrl);
        url.pathname = endpoint.replace(/:projectId/, projectId).replace(/:requestId/, requestId);
        const result = yield this.get(this.fetch, url);
        return { result, error: null };
      } catch (error) {
        if (isDeepgramError(error)) {
          return { result: null, error };
        }
        throw error;
      }
    });
  }
  /**
   * @see https://developers.deepgram.com/reference/summarize-usage
   */
  getProjectUsageSummary(projectId, options, endpoint = "v1/projects/:projectId/usage") {
    return __awaiter4(this, void 0, void 0, function* () {
      try {
        const url = new URL(this.baseUrl);
        url.pathname = endpoint.replace(/:projectId/, projectId);
        appendSearchParams(url.searchParams, options);
        const result = yield this.get(this.fetch, url);
        return { result, error: null };
      } catch (error) {
        if (isDeepgramError(error)) {
          return { result: null, error };
        }
        throw error;
      }
    });
  }
  /**
   * @see https://developers.deepgram.com/reference/get-fields
   */
  getProjectUsageFields(projectId, options, endpoint = "v1/projects/:projectId/usage/fields") {
    return __awaiter4(this, void 0, void 0, function* () {
      try {
        const url = new URL(this.baseUrl);
        url.pathname = endpoint.replace(/:projectId/, projectId);
        appendSearchParams(url.searchParams, options);
        const result = yield this.get(this.fetch, url);
        return { result, error: null };
      } catch (error) {
        if (isDeepgramError(error)) {
          return { result: null, error };
        }
        throw error;
      }
    });
  }
  /**
   * @see https://developers.deepgram.com/reference/get-all-balances
   */
  getProjectBalances(projectId, endpoint = "v1/projects/:projectId/balances") {
    return __awaiter4(this, void 0, void 0, function* () {
      try {
        const url = new URL(this.baseUrl);
        url.pathname = endpoint.replace(/:projectId/, projectId);
        const result = yield this.get(this.fetch, url);
        return { result, error: null };
      } catch (error) {
        if (isDeepgramError(error)) {
          return { result: null, error };
        }
        throw error;
      }
    });
  }
  /**
   * @see https://developers.deepgram.com/reference/get-balance
   */
  getProjectBalance(projectId, balanceId, endpoint = "v1/projects/:projectId/balances/:balanceId") {
    return __awaiter4(this, void 0, void 0, function* () {
      try {
        const url = new URL(this.baseUrl);
        url.pathname = endpoint.replace(/:projectId/, projectId).replace(/:balanceId/, balanceId);
        const result = yield this.get(this.fetch, url);
        return { result, error: null };
      } catch (error) {
        if (isDeepgramError(error)) {
          return { result: null, error };
        }
        throw error;
      }
    });
  }
};

// node_modules/@deepgram/sdk/dist/module/packages/OnPremClient.js
var __awaiter5 = function(thisArg, _arguments, P, generator) {
  function adopt(value) {
    return value instanceof P ? value : new P(function(resolve) {
      resolve(value);
    });
  }
  return new (P || (P = Promise))(function(resolve, reject) {
    function fulfilled(value) {
      try {
        step(generator.next(value));
      } catch (e) {
        reject(e);
      }
    }
    function rejected(value) {
      try {
        step(generator["throw"](value));
      } catch (e) {
        reject(e);
      }
    }
    function step(result) {
      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);
    }
    step((generator = generator.apply(thisArg, _arguments || [])).next());
  });
};
var OnPremClient = class extends AbstractRestfulClient {
  /**
   * @see https://developers.deepgram.com/reference/list-credentials
   */
  listCredentials(projectId, endpoint = "v1/projects/:projectId/onprem/distribution/credentials") {
    return __awaiter5(this, void 0, void 0, function* () {
      try {
        const url = new URL(this.baseUrl);
        url.pathname = endpoint.replace(/:projectId/, projectId);
        const result = yield this.get(this.fetch, url);
        return { result, error: null };
      } catch (error) {
        if (isDeepgramError(error)) {
          return { result: null, error };
        }
        throw error;
      }
    });
  }
  /**
   * @see https://developers.deepgram.com/reference/get-credentials
   */
  getCredentials(projectId, credentialsId, endpoint = "v1/projects/:projectId/onprem/distribution/credentials/:credentialsId") {
    return __awaiter5(this, void 0, void 0, function* () {
      try {
        const url = new URL(this.baseUrl);
        url.pathname = endpoint.replace(/:projectId/, projectId).replace(/:credentialsId/, credentialsId);
        const result = yield this.get(this.fetch, url);
        return { result, error: null };
      } catch (error) {
        if (isDeepgramError(error)) {
          return { result: null, error };
        }
        throw error;
      }
    });
  }
  /**
   * @see https://developers.deepgram.com/reference/create-credentials
   */
  createCredentials(projectId, options, endpoint = "v1/projects/:projectId/onprem/distribution/credentials") {
    return __awaiter5(this, void 0, void 0, function* () {
      try {
        const url = new URL(this.baseUrl);
        url.pathname = endpoint.replace(/:projectId/, projectId);
        const body = JSON.stringify(options);
        const result = yield this.post(this.fetch, url, body);
        return { result, error: null };
      } catch (error) {
        if (isDeepgramError(error)) {
          return { result: null, error };
        }
        throw error;
      }
    });
  }
  /**
   * @see https://developers.deepgram.com/reference/delete-credentials
   */
  deleteCredentials(projectId, credentialsId, endpoint = "v1/projects/:projectId/onprem/distribution/credentials/:credentialsId") {
    return __awaiter5(this, void 0, void 0, function* () {
      try {
        const url = new URL(this.baseUrl);
        url.pathname = endpoint.replace(/:projectId/, projectId).replace(/:credentialsId/, credentialsId);
        const result = yield this.delete(this.fetch, url);
        return { result, error: null };
      } catch (error) {
        if (isDeepgramError(error)) {
          return { result: null, error };
        }
        throw error;
      }
    });
  }
};

// node_modules/@deepgram/sdk/dist/module/packages/ReadClient.js
var __awaiter6 = function(thisArg, _arguments, P, generator) {
  function adopt(value) {
    return value instanceof P ? value : new P(function(resolve) {
      resolve(value);
    });
  }
  return new (P || (P = Promise))(function(resolve, reject) {
    function fulfilled(value) {
      try {
        step(generator.next(value));
      } catch (e) {
        reject(e);
      }
    }
    function rejected(value) {
      try {
        step(generator["throw"](value));
      } catch (e) {
        reject(e);
      }
    }
    function step(result) {
      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);
    }
    step((generator = generator.apply(thisArg, _arguments || [])).next());
  });
};
var ReadClient = class extends AbstractRestfulClient {
  analyzeUrl(source, options, endpoint = "v1/read") {
    return __awaiter6(this, void 0, void 0, function* () {
      try {
        let body;
        if (isUrlSource(source)) {
          body = JSON.stringify(source);
        } else {
          throw new DeepgramError("Unknown source type");
        }
        if (options !== void 0 && "callback" in options) {
          throw new DeepgramError("Callback cannot be provided as an option to a synchronous transcription. Use `analyzeUrlCallback` or `analyzeTextCallback` instead.");
        }
        const analyzeOptions = Object.assign({}, options);
        const url = new URL(endpoint, this.baseUrl);
        appendSearchParams(url.searchParams, analyzeOptions);
        const result = yield this.post(this.fetch, url, body);
        return { result, error: null };
      } catch (error) {
        if (isDeepgramError(error)) {
          return { result: null, error };
        }
        throw error;
      }
    });
  }
  analyzeText(source, options, endpoint = "v1/read") {
    return __awaiter6(this, void 0, void 0, function* () {
      try {
        let body;
        if (isTextSource(source)) {
          body = JSON.stringify(source);
        } else {
          throw new DeepgramError("Unknown source type");
        }
        if (options !== void 0 && "callback" in options) {
          throw new DeepgramError("Callback cannot be provided as an option to a synchronous requests. Use `analyzeUrlCallback` or `analyzeTextCallback` instead.");
        }
        const analyzeOptions = Object.assign({}, options);
        const url = new URL(endpoint, this.baseUrl);
        appendSearchParams(url.searchParams, analyzeOptions);
        const result = yield this.post(this.fetch, url, body);
        return { result, error: null };
      } catch (error) {
        if (isDeepgramError(error)) {
          return { result: null, error };
        }
        throw error;
      }
    });
  }
  analyzeUrlCallback(source, callback, options, endpoint = "v1/read") {
    return __awaiter6(this, void 0, void 0, function* () {
      try {
        let body;
        if (isUrlSource(source)) {
          body = JSON.stringify(source);
        } else {
          throw new DeepgramError("Unknown source type");
        }
        const transcriptionOptions = Object.assign(Object.assign({}, options), { callback: callback.toString() });
        const url = new URL(endpoint, this.baseUrl);
        appendSearchParams(url.searchParams, transcriptionOptions);
        const result = yield this.post(this.fetch, url, body);
        return { result, error: null };
      } catch (error) {
        if (isDeepgramError(error)) {
          return { result: null, error };
        }
        throw error;
      }
    });
  }
  analyzeTextCallback(source, callback, options, endpoint = "v1/read") {
    return __awaiter6(this, void 0, void 0, function* () {
      try {
        let body;
        if (isTextSource(source)) {
          body = JSON.stringify(source);
        } else {
          throw new DeepgramError("Unknown source type");
        }
        const transcriptionOptions = Object.assign(Object.assign({}, options), { callback: callback.toString() });
        const url = new URL(endpoint, this.baseUrl);
        appendSearchParams(url.searchParams, transcriptionOptions);
        const result = yield this.post(this.fetch, url, body, {
          "Content-Type": "deepgram/audio+video"
        });
        return { result, error: null };
      } catch (error) {
        if (isDeepgramError(error)) {
          return { result: null, error };
        }
        throw error;
      }
    });
  }
};

// node_modules/@deepgram/sdk/dist/module/packages/SpeakClient.js
var __awaiter7 = function(thisArg, _arguments, P, generator) {
  function adopt(value) {
    return value instanceof P ? value : new P(function(resolve) {
      resolve(value);
    });
  }
  return new (P || (P = Promise))(function(resolve, reject) {
    function fulfilled(value) {
      try {
        step(generator.next(value));
      } catch (e) {
        reject(e);
      }
    }
    function rejected(value) {
      try {
        step(generator["throw"](value));
      } catch (e) {
        reject(e);
      }
    }
    function step(result) {
      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);
    }
    step((generator = generator.apply(thisArg, _arguments || [])).next());
  });
};
var SpeakClient = class extends AbstractRestfulClient {
  /**
   * @see https://developers.deepgram.com/reference/text-to-speech-api
   */
  request(source, options, endpoint = "v1/speak") {
    return __awaiter7(this, void 0, void 0, function* () {
      try {
        let body;
        if (isTextSource(source)) {
          body = JSON.stringify(source);
        } else {
          throw new DeepgramError("Unknown transcription source type");
        }
        const speakOptions = Object.assign({ model: "aura-asteria-en" }, options);
        const url = new URL(endpoint, this.baseUrl);
        appendSearchParams(url.searchParams, speakOptions);
        this.result = yield this._handleRawRequest(this.fetch, "POST", url, {}, {}, body);
        return this;
      } catch (error) {
        throw error;
      }
    });
  }
  getStream() {
    return __awaiter7(this, void 0, void 0, function* () {
      if (!this.result)
        throw new DeepgramUnknownError("Tried to get stream before making request", "");
      return this.result.body;
    });
  }
  getHeaders() {
    return __awaiter7(this, void 0, void 0, function* () {
      if (!this.result)
        throw new DeepgramUnknownError("Tried to get headers before making request", "");
      return this.result.headers;
    });
  }
};

// node_modules/@deepgram/sdk/dist/module/DeepgramClient.js
var DeepgramClient = class extends AbstractClient {
  get listen() {
    return new ListenClient(this.key, this.options);
  }
  get manage() {
    return new ManageClient(this.key, this.options);
  }
  get onprem() {
    return new OnPremClient(this.key, this.options);
  }
  get read() {
    return new ReadClient(this.key, this.options);
  }
  get speak() {
    return new SpeakClient(this.key, this.options);
  }
  /**
   * Major version fallback errors are below
   *
   * @see https://developers.deepgram.com/docs/js-sdk-v2-to-v3-migration-guide
   */
  get transcription() {
    throw new DeepgramVersionError();
  }
  get projects() {
    throw new DeepgramVersionError();
  }
  get keys() {
    throw new DeepgramVersionError();
  }
  get members() {
    throw new DeepgramVersionError();
  }
  get scopes() {
    throw new DeepgramVersionError();
  }
  get invitation() {
    throw new DeepgramVersionError();
  }
  get usage() {
    throw new DeepgramVersionError();
  }
  get billing() {
    throw new DeepgramVersionError();
  }
};

// node_modules/@deepgram/sdk/dist/module/index.js
var createClient = (apiKey, options = {}) => {
  return new DeepgramClient(apiKey, options);
};

// main.ts
var DEFAULT_SETTINGS = {
  apiKey: "",
  summarize: false,
  topic_detection: false,
  intent_detection: false,
  sentiment: false,
  smart_format: true,
  punctuation: true,
  paragraphs: false,
  utterances: false,
  filler_words: false
};
var DeepgramPlugin = class extends import_obsidian.Plugin {
  constructor() {
    super(...arguments);
    this.isRecording = false;
  }
  // Add this line to declare the mediaRecorder property
  async onload() {
    console.log("Loading Deepgram plugin");
    await this.loadSettings();
    this.addCommand({
      id: "toggle-transcription",
      name: "Toggle Transcription",
      callback: () => {
        if (this.isRecording) {
          this.stopTranscription();
        } else {
          this.startTranscription();
        }
      }
    });
    this.statusBarItem = this.addStatusBarItem();
    this.updateStatusBarItem();
    this.addSettingTab(new DeepgramSettingTab(this.app, this));
    console.log("Deepgram plugin loaded");
  }
  async onunload() {
    console.log("Unloading Deepgram plugin");
    if (this.isRecording) {
      await this.stopTranscription();
    }
  }
  async loadSettings() {
    this.settings = Object.assign({}, DEFAULT_SETTINGS, await this.loadData());
  }
  async saveSettings() {
    await this.saveData(this.settings);
  }
  updateStatusBarItem() {
    this.statusBarItem.setText(
      this.isRecording ? "Recording" : "Not Recording"
    );
  }
  async startTranscription() {
    console.log("Starting transcription");
    const options = {
      model: "nova-2",
      language: "en-US",
      smart_format: this.settings.smart_format,
      summarize: this.settings.summarize,
      topic_detection: this.settings.topic_detection,
      intent_detection: this.settings.intent_detection,
      sentiment: this.settings.sentiment,
      punctuation: this.settings.punctuation,
      paragraphs: this.settings.paragraphs,
      utterances: this.settings.utterances,
      filler_words: this.settings.filler_words,
      interim_results: true,
      endpointing: 2e3
    };
    const deepgramClient = createClient(this.settings.apiKey);
    const deepgram = deepgramClient.listen.live(options);
    this.deepgram = deepgram;
    console.log("Deepgram client created", deepgram);
    this.deepgram.addListener(LiveTranscriptionEvents.Open, () => {
      console.log("Deepgram connection opened");
      this.isRecording = true;
      this.updateStatusBarItem();
      this.deepgram.addListener(LiveTranscriptionEvents.Transcript, (data) => {
        const transcript = data.channel.alternatives[0].transcript;
        const isFinal = data.is_final;
        const activeView = this.app.workspace.getActiveViewOfType(import_obsidian.MarkdownView);
        if (activeView) {
          const editor = activeView.editor;
          const currentPosition = editor.getCursor();
          console.log("Transcript: ", transcript);
          if (isFinal) {
            console.log("Final transcript:", transcript);
            const formatted_transcript = transcript + " ";
            const startPosition = currentPosition;
            editor.replaceRange(formatted_transcript, startPosition);
            const endPosition = {
              line: currentPosition.line,
              ch: currentPosition.ch + formatted_transcript.length
            };
            editor.setCursor(endPosition);
          } else {
            console.log("Partial transcript:", transcript);
          }
        }
      });
    });
    this.deepgram.addListener(LiveTranscriptionEvents.Error, (error) => {
      console.error("Deepgram error:", error);
      this.stopTranscription();
    });
    const mediaStream = await navigator.mediaDevices.getUserMedia({
      audio: true
    });
    const mediaRecorder = new MediaRecorder(mediaStream, {
      mimeType: "audio/webm"
    });
    this.mediaRecorder = mediaRecorder;
    mediaRecorder.addEventListener("dataavailable", (event) => {
      if (event.data.size > 0) {
        deepgram.send(event.data);
      }
    });
    mediaRecorder.start(1e3);
  }
  async stopTranscription() {
    console.log("Stopping transcription");
    this.isRecording = false;
    this.updateStatusBarItem();
    this.deepgram.finish();
    if (this.mediaRecorder && this.mediaRecorder.state !== "inactive") {
      this.mediaRecorder.stop();
    }
  }
};
var DeepgramSettingTab = class extends import_obsidian.PluginSettingTab {
  constructor(app, plugin) {
    super(app, plugin);
    this.plugin = plugin;
  }
  display() {
    let { containerEl } = this;
    containerEl.empty();
    new import_obsidian.Setting(containerEl).setName("Deepgram API Key").setDesc("Enter your Deepgram API key").addText(
      (text) => text.setPlaceholder("API Key").setValue(this.plugin.settings.apiKey).onChange(async (value) => {
        console.log("Deepgram API key updated");
        this.plugin.settings.apiKey = value;
        await this.plugin.saveSettings();
      })
    );
    new import_obsidian.Setting(containerEl).setName("Summarize").setDesc("Enable summarization").addToggle(
      (toggle) => toggle.setValue(this.plugin.settings.summarize).onChange(async (value) => {
        this.plugin.settings.summarize = value;
        await this.plugin.saveSettings();
      })
    );
    new import_obsidian.Setting(containerEl).setName("Topic Detection").setDesc("Enable topic detection").addToggle(
      (toggle) => toggle.setValue(this.plugin.settings.topic_detection).onChange(async (value) => {
        this.plugin.settings.topic_detection = value;
        await this.plugin.saveSettings();
      })
    );
    new import_obsidian.Setting(containerEl).setName("Intent Detection").setDesc("Enable intent detection").addToggle(
      (toggle) => toggle.setValue(this.plugin.settings.intent_detection).onChange(async (value) => {
        this.plugin.settings.intent_detection = value;
        await this.plugin.saveSettings();
      })
    );
    new import_obsidian.Setting(containerEl).setName("Sentiment").setDesc("Enable sentiment analysis").addToggle(
      (toggle) => toggle.setValue(this.plugin.settings.sentiment).onChange(async (value) => {
        this.plugin.settings.sentiment = value;
        await this.plugin.saveSettings();
      })
    );
    new import_obsidian.Setting(containerEl).setName("Smart Formatting").setDesc("Enable smart formatting").addToggle(
      (toggle) => toggle.setValue(this.plugin.settings.smart_format).onChange(async (value) => {
        this.plugin.settings.smart_format = value;
        await this.plugin.saveSettings();
      })
    );
    new import_obsidian.Setting(containerEl).setName("Punctuation").setDesc("Enable punctuation").addToggle(
      (toggle) => toggle.setValue(this.plugin.settings.punctuation).onChange(async (value) => {
        this.plugin.settings.punctuation = value;
        await this.plugin.saveSettings();
      })
    );
    new import_obsidian.Setting(containerEl).setName("Paragraphs").setDesc("Enable paragraph detection").addToggle(
      (toggle) => toggle.setValue(this.plugin.settings.paragraphs).onChange(async (value) => {
        this.plugin.settings.paragraphs = value;
        await this.plugin.saveSettings();
      })
    );
    new import_obsidian.Setting(containerEl).setName("Utterances").setDesc("Enable utterance detection").addToggle(
      (toggle) => toggle.setValue(this.plugin.settings.utterances).onChange(async (value) => {
        this.plugin.settings.utterances = value;
        await this.plugin.saveSettings();
      })
    );
    new import_obsidian.Setting(containerEl).setName("Filler Words").setDesc("Include filler words").addToggle(
      (toggle) => toggle.setValue(this.plugin.settings.filler_words).onChange(async (value) => {
        this.plugin.settings.filler_words = value;
        await this.plugin.saveSettings();
      })
    );
  }
};
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsibm9kZV9tb2R1bGVzL2Nyb3NzLWZldGNoL2Rpc3QvYnJvd3Nlci1wb255ZmlsbC5qcyIsICJub2RlX21vZHVsZXMvZGVlcG1lcmdlL2Rpc3QvY2pzLmpzIiwgIm5vZGVfbW9kdWxlcy9lczUtZXh0L2dsb2JhbC5qcyIsICJub2RlX21vZHVsZXMvd2Vic29ja2V0L3BhY2thZ2UuanNvbiIsICJub2RlX21vZHVsZXMvd2Vic29ja2V0L2xpYi92ZXJzaW9uLmpzIiwgIm5vZGVfbW9kdWxlcy93ZWJzb2NrZXQvbGliL2Jyb3dzZXIuanMiLCAibWFpbi50cyIsICJub2RlX21vZHVsZXMvQGRlZXBncmFtL3Nkay9zcmMvbGliL2Vycm9ycy50cyIsICJub2RlX21vZHVsZXMvQGRlZXBncmFtL3Nkay9zcmMvbGliL2hlbHBlcnMudHMiLCAibm9kZV9tb2R1bGVzL0BkZWVwZ3JhbS9zZGsvc3JjL2xpYi92ZXJzaW9uLnRzIiwgIm5vZGVfbW9kdWxlcy9AZGVlcGdyYW0vc2RrL3NyYy9saWIvY29uc3RhbnRzLnRzIiwgIm5vZGVfbW9kdWxlcy9AZGVlcGdyYW0vc2RrL3NyYy9wYWNrYWdlcy9BYnN0cmFjdENsaWVudC50cyIsICJub2RlX21vZHVsZXMvQGRlZXBncmFtL3Nkay9zcmMvcGFja2FnZXMvQWJzdHJhY3RXc0NsaWVudC50cyIsICJub2RlX21vZHVsZXMvQGRlZXBncmFtL3Nkay9zcmMvbGliL2VudW1zL0xpdmVDb25uZWN0aW9uU3RhdGUudHMiLCAibm9kZV9tb2R1bGVzL0BkZWVwZ3JhbS9zZGsvc3JjL2xpYi9lbnVtcy9MaXZlVHJhbnNjcmlwdGlvbkV2ZW50cy50cyIsICJub2RlX21vZHVsZXMvQGRlZXBncmFtL3Nkay9zcmMvcGFja2FnZXMvTGl2ZUNsaWVudC50cyIsICJub2RlX21vZHVsZXMvQGRlZXBncmFtL3Nkay9zcmMvbGliL2ZldGNoLnRzIiwgIm5vZGVfbW9kdWxlcy9AZGVlcGdyYW0vc2RrL3NyYy9wYWNrYWdlcy9BYnN0cmFjdFJlc3RmdWxDbGllbnQudHMiLCAibm9kZV9tb2R1bGVzL0BkZWVwZ3JhbS9zZGsvc3JjL3BhY2thZ2VzL1ByZXJlY29yZGVkQ2xpZW50LnRzIiwgIm5vZGVfbW9kdWxlcy9AZGVlcGdyYW0vc2RrL3NyYy9wYWNrYWdlcy9MaXN0ZW5DbGllbnQudHMiLCAibm9kZV9tb2R1bGVzL0BkZWVwZ3JhbS9zZGsvc3JjL3BhY2thZ2VzL01hbmFnZUNsaWVudC50cyIsICJub2RlX21vZHVsZXMvQGRlZXBncmFtL3Nkay9zcmMvcGFja2FnZXMvT25QcmVtQ2xpZW50LnRzIiwgIm5vZGVfbW9kdWxlcy9AZGVlcGdyYW0vc2RrL3NyYy9wYWNrYWdlcy9SZWFkQ2xpZW50LnRzIiwgIm5vZGVfbW9kdWxlcy9AZGVlcGdyYW0vc2RrL3NyYy9wYWNrYWdlcy9TcGVha0NsaWVudC50cyIsICJub2RlX21vZHVsZXMvQGRlZXBncmFtL3Nkay9zcmMvRGVlcGdyYW1DbGllbnQudHMiLCAibm9kZV9tb2R1bGVzL0BkZWVwZ3JhbS9zZGsvc3JjL2luZGV4LnRzIl0sCiAgInNvdXJjZXNDb250ZW50IjogWyJ2YXIgZ2xvYmFsID0gdHlwZW9mIHNlbGYgIT09ICd1bmRlZmluZWQnID8gc2VsZiA6IHRoaXM7XG52YXIgX19zZWxmX18gPSAoZnVuY3Rpb24gKCkge1xuZnVuY3Rpb24gRigpIHtcbnRoaXMuZmV0Y2ggPSBmYWxzZTtcbnRoaXMuRE9NRXhjZXB0aW9uID0gZ2xvYmFsLkRPTUV4Y2VwdGlvblxufVxuRi5wcm90b3R5cGUgPSBnbG9iYWw7XG5yZXR1cm4gbmV3IEYoKTtcbn0pKCk7XG4oZnVuY3Rpb24oc2VsZikge1xuXG52YXIgaXJyZWxldmFudCA9IChmdW5jdGlvbiAoZXhwb3J0cykge1xuXG4gIHZhciBzdXBwb3J0ID0ge1xuICAgIHNlYXJjaFBhcmFtczogJ1VSTFNlYXJjaFBhcmFtcycgaW4gc2VsZixcbiAgICBpdGVyYWJsZTogJ1N5bWJvbCcgaW4gc2VsZiAmJiAnaXRlcmF0b3InIGluIFN5bWJvbCxcbiAgICBibG9iOlxuICAgICAgJ0ZpbGVSZWFkZXInIGluIHNlbGYgJiZcbiAgICAgICdCbG9iJyBpbiBzZWxmICYmXG4gICAgICAoZnVuY3Rpb24oKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgbmV3IEJsb2IoKTtcbiAgICAgICAgICByZXR1cm4gdHJ1ZVxuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlXG4gICAgICAgIH1cbiAgICAgIH0pKCksXG4gICAgZm9ybURhdGE6ICdGb3JtRGF0YScgaW4gc2VsZixcbiAgICBhcnJheUJ1ZmZlcjogJ0FycmF5QnVmZmVyJyBpbiBzZWxmXG4gIH07XG5cbiAgZnVuY3Rpb24gaXNEYXRhVmlldyhvYmopIHtcbiAgICByZXR1cm4gb2JqICYmIERhdGFWaWV3LnByb3RvdHlwZS5pc1Byb3RvdHlwZU9mKG9iailcbiAgfVxuXG4gIGlmIChzdXBwb3J0LmFycmF5QnVmZmVyKSB7XG4gICAgdmFyIHZpZXdDbGFzc2VzID0gW1xuICAgICAgJ1tvYmplY3QgSW50OEFycmF5XScsXG4gICAgICAnW29iamVjdCBVaW50OEFycmF5XScsXG4gICAgICAnW29iamVjdCBVaW50OENsYW1wZWRBcnJheV0nLFxuICAgICAgJ1tvYmplY3QgSW50MTZBcnJheV0nLFxuICAgICAgJ1tvYmplY3QgVWludDE2QXJyYXldJyxcbiAgICAgICdbb2JqZWN0IEludDMyQXJyYXldJyxcbiAgICAgICdbb2JqZWN0IFVpbnQzMkFycmF5XScsXG4gICAgICAnW29iamVjdCBGbG9hdDMyQXJyYXldJyxcbiAgICAgICdbb2JqZWN0IEZsb2F0NjRBcnJheV0nXG4gICAgXTtcblxuICAgIHZhciBpc0FycmF5QnVmZmVyVmlldyA9XG4gICAgICBBcnJheUJ1ZmZlci5pc1ZpZXcgfHxcbiAgICAgIGZ1bmN0aW9uKG9iaikge1xuICAgICAgICByZXR1cm4gb2JqICYmIHZpZXdDbGFzc2VzLmluZGV4T2YoT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG9iaikpID4gLTFcbiAgICAgIH07XG4gIH1cblxuICBmdW5jdGlvbiBub3JtYWxpemVOYW1lKG5hbWUpIHtcbiAgICBpZiAodHlwZW9mIG5hbWUgIT09ICdzdHJpbmcnKSB7XG4gICAgICBuYW1lID0gU3RyaW5nKG5hbWUpO1xuICAgIH1cbiAgICBpZiAoL1teYS16MC05XFwtIyQlJicqKy5eX2B8fl0vaS50ZXN0KG5hbWUpKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdJbnZhbGlkIGNoYXJhY3RlciBpbiBoZWFkZXIgZmllbGQgbmFtZScpXG4gICAgfVxuICAgIHJldHVybiBuYW1lLnRvTG93ZXJDYXNlKClcbiAgfVxuXG4gIGZ1bmN0aW9uIG5vcm1hbGl6ZVZhbHVlKHZhbHVlKSB7XG4gICAgaWYgKHR5cGVvZiB2YWx1ZSAhPT0gJ3N0cmluZycpIHtcbiAgICAgIHZhbHVlID0gU3RyaW5nKHZhbHVlKTtcbiAgICB9XG4gICAgcmV0dXJuIHZhbHVlXG4gIH1cblxuICAvLyBCdWlsZCBhIGRlc3RydWN0aXZlIGl0ZXJhdG9yIGZvciB0aGUgdmFsdWUgbGlzdFxuICBmdW5jdGlvbiBpdGVyYXRvckZvcihpdGVtcykge1xuICAgIHZhciBpdGVyYXRvciA9IHtcbiAgICAgIG5leHQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgdmFsdWUgPSBpdGVtcy5zaGlmdCgpO1xuICAgICAgICByZXR1cm4ge2RvbmU6IHZhbHVlID09PSB1bmRlZmluZWQsIHZhbHVlOiB2YWx1ZX1cbiAgICAgIH1cbiAgICB9O1xuXG4gICAgaWYgKHN1cHBvcnQuaXRlcmFibGUpIHtcbiAgICAgIGl0ZXJhdG9yW1N5bWJvbC5pdGVyYXRvcl0gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIGl0ZXJhdG9yXG4gICAgICB9O1xuICAgIH1cblxuICAgIHJldHVybiBpdGVyYXRvclxuICB9XG5cbiAgZnVuY3Rpb24gSGVhZGVycyhoZWFkZXJzKSB7XG4gICAgdGhpcy5tYXAgPSB7fTtcblxuICAgIGlmIChoZWFkZXJzIGluc3RhbmNlb2YgSGVhZGVycykge1xuICAgICAgaGVhZGVycy5mb3JFYWNoKGZ1bmN0aW9uKHZhbHVlLCBuYW1lKSB7XG4gICAgICAgIHRoaXMuYXBwZW5kKG5hbWUsIHZhbHVlKTtcbiAgICAgIH0sIHRoaXMpO1xuICAgIH0gZWxzZSBpZiAoQXJyYXkuaXNBcnJheShoZWFkZXJzKSkge1xuICAgICAgaGVhZGVycy5mb3JFYWNoKGZ1bmN0aW9uKGhlYWRlcikge1xuICAgICAgICB0aGlzLmFwcGVuZChoZWFkZXJbMF0sIGhlYWRlclsxXSk7XG4gICAgICB9LCB0aGlzKTtcbiAgICB9IGVsc2UgaWYgKGhlYWRlcnMpIHtcbiAgICAgIE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKGhlYWRlcnMpLmZvckVhY2goZnVuY3Rpb24obmFtZSkge1xuICAgICAgICB0aGlzLmFwcGVuZChuYW1lLCBoZWFkZXJzW25hbWVdKTtcbiAgICAgIH0sIHRoaXMpO1xuICAgIH1cbiAgfVxuXG4gIEhlYWRlcnMucHJvdG90eXBlLmFwcGVuZCA9IGZ1bmN0aW9uKG5hbWUsIHZhbHVlKSB7XG4gICAgbmFtZSA9IG5vcm1hbGl6ZU5hbWUobmFtZSk7XG4gICAgdmFsdWUgPSBub3JtYWxpemVWYWx1ZSh2YWx1ZSk7XG4gICAgdmFyIG9sZFZhbHVlID0gdGhpcy5tYXBbbmFtZV07XG4gICAgdGhpcy5tYXBbbmFtZV0gPSBvbGRWYWx1ZSA/IG9sZFZhbHVlICsgJywgJyArIHZhbHVlIDogdmFsdWU7XG4gIH07XG5cbiAgSGVhZGVycy5wcm90b3R5cGVbJ2RlbGV0ZSddID0gZnVuY3Rpb24obmFtZSkge1xuICAgIGRlbGV0ZSB0aGlzLm1hcFtub3JtYWxpemVOYW1lKG5hbWUpXTtcbiAgfTtcblxuICBIZWFkZXJzLnByb3RvdHlwZS5nZXQgPSBmdW5jdGlvbihuYW1lKSB7XG4gICAgbmFtZSA9IG5vcm1hbGl6ZU5hbWUobmFtZSk7XG4gICAgcmV0dXJuIHRoaXMuaGFzKG5hbWUpID8gdGhpcy5tYXBbbmFtZV0gOiBudWxsXG4gIH07XG5cbiAgSGVhZGVycy5wcm90b3R5cGUuaGFzID0gZnVuY3Rpb24obmFtZSkge1xuICAgIHJldHVybiB0aGlzLm1hcC5oYXNPd25Qcm9wZXJ0eShub3JtYWxpemVOYW1lKG5hbWUpKVxuICB9O1xuXG4gIEhlYWRlcnMucHJvdG90eXBlLnNldCA9IGZ1bmN0aW9uKG5hbWUsIHZhbHVlKSB7XG4gICAgdGhpcy5tYXBbbm9ybWFsaXplTmFtZShuYW1lKV0gPSBub3JtYWxpemVWYWx1ZSh2YWx1ZSk7XG4gIH07XG5cbiAgSGVhZGVycy5wcm90b3R5cGUuZm9yRWFjaCA9IGZ1bmN0aW9uKGNhbGxiYWNrLCB0aGlzQXJnKSB7XG4gICAgZm9yICh2YXIgbmFtZSBpbiB0aGlzLm1hcCkge1xuICAgICAgaWYgKHRoaXMubWFwLmhhc093blByb3BlcnR5KG5hbWUpKSB7XG4gICAgICAgIGNhbGxiYWNrLmNhbGwodGhpc0FyZywgdGhpcy5tYXBbbmFtZV0sIG5hbWUsIHRoaXMpO1xuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICBIZWFkZXJzLnByb3RvdHlwZS5rZXlzID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIGl0ZW1zID0gW107XG4gICAgdGhpcy5mb3JFYWNoKGZ1bmN0aW9uKHZhbHVlLCBuYW1lKSB7XG4gICAgICBpdGVtcy5wdXNoKG5hbWUpO1xuICAgIH0pO1xuICAgIHJldHVybiBpdGVyYXRvckZvcihpdGVtcylcbiAgfTtcblxuICBIZWFkZXJzLnByb3RvdHlwZS52YWx1ZXMgPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgaXRlbXMgPSBbXTtcbiAgICB0aGlzLmZvckVhY2goZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgIGl0ZW1zLnB1c2godmFsdWUpO1xuICAgIH0pO1xuICAgIHJldHVybiBpdGVyYXRvckZvcihpdGVtcylcbiAgfTtcblxuICBIZWFkZXJzLnByb3RvdHlwZS5lbnRyaWVzID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIGl0ZW1zID0gW107XG4gICAgdGhpcy5mb3JFYWNoKGZ1bmN0aW9uKHZhbHVlLCBuYW1lKSB7XG4gICAgICBpdGVtcy5wdXNoKFtuYW1lLCB2YWx1ZV0pO1xuICAgIH0pO1xuICAgIHJldHVybiBpdGVyYXRvckZvcihpdGVtcylcbiAgfTtcblxuICBpZiAoc3VwcG9ydC5pdGVyYWJsZSkge1xuICAgIEhlYWRlcnMucHJvdG90eXBlW1N5bWJvbC5pdGVyYXRvcl0gPSBIZWFkZXJzLnByb3RvdHlwZS5lbnRyaWVzO1xuICB9XG5cbiAgZnVuY3Rpb24gY29uc3VtZWQoYm9keSkge1xuICAgIGlmIChib2R5LmJvZHlVc2VkKSB7XG4gICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QobmV3IFR5cGVFcnJvcignQWxyZWFkeSByZWFkJykpXG4gICAgfVxuICAgIGJvZHkuYm9keVVzZWQgPSB0cnVlO1xuICB9XG5cbiAgZnVuY3Rpb24gZmlsZVJlYWRlclJlYWR5KHJlYWRlcikge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgIHJlYWRlci5vbmxvYWQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgcmVzb2x2ZShyZWFkZXIucmVzdWx0KTtcbiAgICAgIH07XG4gICAgICByZWFkZXIub25lcnJvciA9IGZ1bmN0aW9uKCkge1xuICAgICAgICByZWplY3QocmVhZGVyLmVycm9yKTtcbiAgICAgIH07XG4gICAgfSlcbiAgfVxuXG4gIGZ1bmN0aW9uIHJlYWRCbG9iQXNBcnJheUJ1ZmZlcihibG9iKSB7XG4gICAgdmFyIHJlYWRlciA9IG5ldyBGaWxlUmVhZGVyKCk7XG4gICAgdmFyIHByb21pc2UgPSBmaWxlUmVhZGVyUmVhZHkocmVhZGVyKTtcbiAgICByZWFkZXIucmVhZEFzQXJyYXlCdWZmZXIoYmxvYik7XG4gICAgcmV0dXJuIHByb21pc2VcbiAgfVxuXG4gIGZ1bmN0aW9uIHJlYWRCbG9iQXNUZXh0KGJsb2IpIHtcbiAgICB2YXIgcmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKTtcbiAgICB2YXIgcHJvbWlzZSA9IGZpbGVSZWFkZXJSZWFkeShyZWFkZXIpO1xuICAgIHJlYWRlci5yZWFkQXNUZXh0KGJsb2IpO1xuICAgIHJldHVybiBwcm9taXNlXG4gIH1cblxuICBmdW5jdGlvbiByZWFkQXJyYXlCdWZmZXJBc1RleHQoYnVmKSB7XG4gICAgdmFyIHZpZXcgPSBuZXcgVWludDhBcnJheShidWYpO1xuICAgIHZhciBjaGFycyA9IG5ldyBBcnJheSh2aWV3Lmxlbmd0aCk7XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHZpZXcubGVuZ3RoOyBpKyspIHtcbiAgICAgIGNoYXJzW2ldID0gU3RyaW5nLmZyb21DaGFyQ29kZSh2aWV3W2ldKTtcbiAgICB9XG4gICAgcmV0dXJuIGNoYXJzLmpvaW4oJycpXG4gIH1cblxuICBmdW5jdGlvbiBidWZmZXJDbG9uZShidWYpIHtcbiAgICBpZiAoYnVmLnNsaWNlKSB7XG4gICAgICByZXR1cm4gYnVmLnNsaWNlKDApXG4gICAgfSBlbHNlIHtcbiAgICAgIHZhciB2aWV3ID0gbmV3IFVpbnQ4QXJyYXkoYnVmLmJ5dGVMZW5ndGgpO1xuICAgICAgdmlldy5zZXQobmV3IFVpbnQ4QXJyYXkoYnVmKSk7XG4gICAgICByZXR1cm4gdmlldy5idWZmZXJcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBCb2R5KCkge1xuICAgIHRoaXMuYm9keVVzZWQgPSBmYWxzZTtcblxuICAgIHRoaXMuX2luaXRCb2R5ID0gZnVuY3Rpb24oYm9keSkge1xuICAgICAgdGhpcy5fYm9keUluaXQgPSBib2R5O1xuICAgICAgaWYgKCFib2R5KSB7XG4gICAgICAgIHRoaXMuX2JvZHlUZXh0ID0gJyc7XG4gICAgICB9IGVsc2UgaWYgKHR5cGVvZiBib2R5ID09PSAnc3RyaW5nJykge1xuICAgICAgICB0aGlzLl9ib2R5VGV4dCA9IGJvZHk7XG4gICAgICB9IGVsc2UgaWYgKHN1cHBvcnQuYmxvYiAmJiBCbG9iLnByb3RvdHlwZS5pc1Byb3RvdHlwZU9mKGJvZHkpKSB7XG4gICAgICAgIHRoaXMuX2JvZHlCbG9iID0gYm9keTtcbiAgICAgIH0gZWxzZSBpZiAoc3VwcG9ydC5mb3JtRGF0YSAmJiBGb3JtRGF0YS5wcm90b3R5cGUuaXNQcm90b3R5cGVPZihib2R5KSkge1xuICAgICAgICB0aGlzLl9ib2R5Rm9ybURhdGEgPSBib2R5O1xuICAgICAgfSBlbHNlIGlmIChzdXBwb3J0LnNlYXJjaFBhcmFtcyAmJiBVUkxTZWFyY2hQYXJhbXMucHJvdG90eXBlLmlzUHJvdG90eXBlT2YoYm9keSkpIHtcbiAgICAgICAgdGhpcy5fYm9keVRleHQgPSBib2R5LnRvU3RyaW5nKCk7XG4gICAgICB9IGVsc2UgaWYgKHN1cHBvcnQuYXJyYXlCdWZmZXIgJiYgc3VwcG9ydC5ibG9iICYmIGlzRGF0YVZpZXcoYm9keSkpIHtcbiAgICAgICAgdGhpcy5fYm9keUFycmF5QnVmZmVyID0gYnVmZmVyQ2xvbmUoYm9keS5idWZmZXIpO1xuICAgICAgICAvLyBJRSAxMC0xMSBjYW4ndCBoYW5kbGUgYSBEYXRhVmlldyBib2R5LlxuICAgICAgICB0aGlzLl9ib2R5SW5pdCA9IG5ldyBCbG9iKFt0aGlzLl9ib2R5QXJyYXlCdWZmZXJdKTtcbiAgICAgIH0gZWxzZSBpZiAoc3VwcG9ydC5hcnJheUJ1ZmZlciAmJiAoQXJyYXlCdWZmZXIucHJvdG90eXBlLmlzUHJvdG90eXBlT2YoYm9keSkgfHwgaXNBcnJheUJ1ZmZlclZpZXcoYm9keSkpKSB7XG4gICAgICAgIHRoaXMuX2JvZHlBcnJheUJ1ZmZlciA9IGJ1ZmZlckNsb25lKGJvZHkpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5fYm9keVRleHQgPSBib2R5ID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGJvZHkpO1xuICAgICAgfVxuXG4gICAgICBpZiAoIXRoaXMuaGVhZGVycy5nZXQoJ2NvbnRlbnQtdHlwZScpKSB7XG4gICAgICAgIGlmICh0eXBlb2YgYm9keSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICB0aGlzLmhlYWRlcnMuc2V0KCdjb250ZW50LXR5cGUnLCAndGV4dC9wbGFpbjtjaGFyc2V0PVVURi04Jyk7XG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5fYm9keUJsb2IgJiYgdGhpcy5fYm9keUJsb2IudHlwZSkge1xuICAgICAgICAgIHRoaXMuaGVhZGVycy5zZXQoJ2NvbnRlbnQtdHlwZScsIHRoaXMuX2JvZHlCbG9iLnR5cGUpO1xuICAgICAgICB9IGVsc2UgaWYgKHN1cHBvcnQuc2VhcmNoUGFyYW1zICYmIFVSTFNlYXJjaFBhcmFtcy5wcm90b3R5cGUuaXNQcm90b3R5cGVPZihib2R5KSkge1xuICAgICAgICAgIHRoaXMuaGVhZGVycy5zZXQoJ2NvbnRlbnQtdHlwZScsICdhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQ7Y2hhcnNldD1VVEYtOCcpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfTtcblxuICAgIGlmIChzdXBwb3J0LmJsb2IpIHtcbiAgICAgIHRoaXMuYmxvYiA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgcmVqZWN0ZWQgPSBjb25zdW1lZCh0aGlzKTtcbiAgICAgICAgaWYgKHJlamVjdGVkKSB7XG4gICAgICAgICAgcmV0dXJuIHJlamVjdGVkXG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5fYm9keUJsb2IpIHtcbiAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHRoaXMuX2JvZHlCbG9iKVxuICAgICAgICB9IGVsc2UgaWYgKHRoaXMuX2JvZHlBcnJheUJ1ZmZlcikge1xuICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUobmV3IEJsb2IoW3RoaXMuX2JvZHlBcnJheUJ1ZmZlcl0pKVxuICAgICAgICB9IGVsc2UgaWYgKHRoaXMuX2JvZHlGb3JtRGF0YSkge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcignY291bGQgbm90IHJlYWQgRm9ybURhdGEgYm9keSBhcyBibG9iJylcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKG5ldyBCbG9iKFt0aGlzLl9ib2R5VGV4dF0pKVxuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICB0aGlzLmFycmF5QnVmZmVyID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmICh0aGlzLl9ib2R5QXJyYXlCdWZmZXIpIHtcbiAgICAgICAgICByZXR1cm4gY29uc3VtZWQodGhpcykgfHwgUHJvbWlzZS5yZXNvbHZlKHRoaXMuX2JvZHlBcnJheUJ1ZmZlcilcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXR1cm4gdGhpcy5ibG9iKCkudGhlbihyZWFkQmxvYkFzQXJyYXlCdWZmZXIpXG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfVxuXG4gICAgdGhpcy50ZXh0ID0gZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgcmVqZWN0ZWQgPSBjb25zdW1lZCh0aGlzKTtcbiAgICAgIGlmIChyZWplY3RlZCkge1xuICAgICAgICByZXR1cm4gcmVqZWN0ZWRcbiAgICAgIH1cblxuICAgICAgaWYgKHRoaXMuX2JvZHlCbG9iKSB7XG4gICAgICAgIHJldHVybiByZWFkQmxvYkFzVGV4dCh0aGlzLl9ib2R5QmxvYilcbiAgICAgIH0gZWxzZSBpZiAodGhpcy5fYm9keUFycmF5QnVmZmVyKSB7XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUocmVhZEFycmF5QnVmZmVyQXNUZXh0KHRoaXMuX2JvZHlBcnJheUJ1ZmZlcikpXG4gICAgICB9IGVsc2UgaWYgKHRoaXMuX2JvZHlGb3JtRGF0YSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2NvdWxkIG5vdCByZWFkIEZvcm1EYXRhIGJvZHkgYXMgdGV4dCcpXG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHRoaXMuX2JvZHlUZXh0KVxuICAgICAgfVxuICAgIH07XG5cbiAgICBpZiAoc3VwcG9ydC5mb3JtRGF0YSkge1xuICAgICAgdGhpcy5mb3JtRGF0YSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy50ZXh0KCkudGhlbihkZWNvZGUpXG4gICAgICB9O1xuICAgIH1cblxuICAgIHRoaXMuanNvbiA9IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHRoaXMudGV4dCgpLnRoZW4oSlNPTi5wYXJzZSlcbiAgICB9O1xuXG4gICAgcmV0dXJuIHRoaXNcbiAgfVxuXG4gIC8vIEhUVFAgbWV0aG9kcyB3aG9zZSBjYXBpdGFsaXphdGlvbiBzaG91bGQgYmUgbm9ybWFsaXplZFxuICB2YXIgbWV0aG9kcyA9IFsnREVMRVRFJywgJ0dFVCcsICdIRUFEJywgJ09QVElPTlMnLCAnUE9TVCcsICdQVVQnXTtcblxuICBmdW5jdGlvbiBub3JtYWxpemVNZXRob2QobWV0aG9kKSB7XG4gICAgdmFyIHVwY2FzZWQgPSBtZXRob2QudG9VcHBlckNhc2UoKTtcbiAgICByZXR1cm4gbWV0aG9kcy5pbmRleE9mKHVwY2FzZWQpID4gLTEgPyB1cGNhc2VkIDogbWV0aG9kXG4gIH1cblxuICBmdW5jdGlvbiBSZXF1ZXN0KGlucHV0LCBvcHRpb25zKSB7XG4gICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG4gICAgdmFyIGJvZHkgPSBvcHRpb25zLmJvZHk7XG5cbiAgICBpZiAoaW5wdXQgaW5zdGFuY2VvZiBSZXF1ZXN0KSB7XG4gICAgICBpZiAoaW5wdXQuYm9keVVzZWQpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignQWxyZWFkeSByZWFkJylcbiAgICAgIH1cbiAgICAgIHRoaXMudXJsID0gaW5wdXQudXJsO1xuICAgICAgdGhpcy5jcmVkZW50aWFscyA9IGlucHV0LmNyZWRlbnRpYWxzO1xuICAgICAgaWYgKCFvcHRpb25zLmhlYWRlcnMpIHtcbiAgICAgICAgdGhpcy5oZWFkZXJzID0gbmV3IEhlYWRlcnMoaW5wdXQuaGVhZGVycyk7XG4gICAgICB9XG4gICAgICB0aGlzLm1ldGhvZCA9IGlucHV0Lm1ldGhvZDtcbiAgICAgIHRoaXMubW9kZSA9IGlucHV0Lm1vZGU7XG4gICAgICB0aGlzLnNpZ25hbCA9IGlucHV0LnNpZ25hbDtcbiAgICAgIGlmICghYm9keSAmJiBpbnB1dC5fYm9keUluaXQgIT0gbnVsbCkge1xuICAgICAgICBib2R5ID0gaW5wdXQuX2JvZHlJbml0O1xuICAgICAgICBpbnB1dC5ib2R5VXNlZCA9IHRydWU7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMudXJsID0gU3RyaW5nKGlucHV0KTtcbiAgICB9XG5cbiAgICB0aGlzLmNyZWRlbnRpYWxzID0gb3B0aW9ucy5jcmVkZW50aWFscyB8fCB0aGlzLmNyZWRlbnRpYWxzIHx8ICdzYW1lLW9yaWdpbic7XG4gICAgaWYgKG9wdGlvbnMuaGVhZGVycyB8fCAhdGhpcy5oZWFkZXJzKSB7XG4gICAgICB0aGlzLmhlYWRlcnMgPSBuZXcgSGVhZGVycyhvcHRpb25zLmhlYWRlcnMpO1xuICAgIH1cbiAgICB0aGlzLm1ldGhvZCA9IG5vcm1hbGl6ZU1ldGhvZChvcHRpb25zLm1ldGhvZCB8fCB0aGlzLm1ldGhvZCB8fCAnR0VUJyk7XG4gICAgdGhpcy5tb2RlID0gb3B0aW9ucy5tb2RlIHx8IHRoaXMubW9kZSB8fCBudWxsO1xuICAgIHRoaXMuc2lnbmFsID0gb3B0aW9ucy5zaWduYWwgfHwgdGhpcy5zaWduYWw7XG4gICAgdGhpcy5yZWZlcnJlciA9IG51bGw7XG5cbiAgICBpZiAoKHRoaXMubWV0aG9kID09PSAnR0VUJyB8fCB0aGlzLm1ldGhvZCA9PT0gJ0hFQUQnKSAmJiBib2R5KSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdCb2R5IG5vdCBhbGxvd2VkIGZvciBHRVQgb3IgSEVBRCByZXF1ZXN0cycpXG4gICAgfVxuICAgIHRoaXMuX2luaXRCb2R5KGJvZHkpO1xuICB9XG5cbiAgUmVxdWVzdC5wcm90b3R5cGUuY2xvbmUgPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gbmV3IFJlcXVlc3QodGhpcywge2JvZHk6IHRoaXMuX2JvZHlJbml0fSlcbiAgfTtcblxuICBmdW5jdGlvbiBkZWNvZGUoYm9keSkge1xuICAgIHZhciBmb3JtID0gbmV3IEZvcm1EYXRhKCk7XG4gICAgYm9keVxuICAgICAgLnRyaW0oKVxuICAgICAgLnNwbGl0KCcmJylcbiAgICAgIC5mb3JFYWNoKGZ1bmN0aW9uKGJ5dGVzKSB7XG4gICAgICAgIGlmIChieXRlcykge1xuICAgICAgICAgIHZhciBzcGxpdCA9IGJ5dGVzLnNwbGl0KCc9Jyk7XG4gICAgICAgICAgdmFyIG5hbWUgPSBzcGxpdC5zaGlmdCgpLnJlcGxhY2UoL1xcKy9nLCAnICcpO1xuICAgICAgICAgIHZhciB2YWx1ZSA9IHNwbGl0LmpvaW4oJz0nKS5yZXBsYWNlKC9cXCsvZywgJyAnKTtcbiAgICAgICAgICBmb3JtLmFwcGVuZChkZWNvZGVVUklDb21wb25lbnQobmFtZSksIGRlY29kZVVSSUNvbXBvbmVudCh2YWx1ZSkpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICByZXR1cm4gZm9ybVxuICB9XG5cbiAgZnVuY3Rpb24gcGFyc2VIZWFkZXJzKHJhd0hlYWRlcnMpIHtcbiAgICB2YXIgaGVhZGVycyA9IG5ldyBIZWFkZXJzKCk7XG4gICAgLy8gUmVwbGFjZSBpbnN0YW5jZXMgb2YgXFxyXFxuIGFuZCBcXG4gZm9sbG93ZWQgYnkgYXQgbGVhc3Qgb25lIHNwYWNlIG9yIGhvcml6b250YWwgdGFiIHdpdGggYSBzcGFjZVxuICAgIC8vIGh0dHBzOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmM3MjMwI3NlY3Rpb24tMy4yXG4gICAgdmFyIHByZVByb2Nlc3NlZEhlYWRlcnMgPSByYXdIZWFkZXJzLnJlcGxhY2UoL1xccj9cXG5bXFx0IF0rL2csICcgJyk7XG4gICAgcHJlUHJvY2Vzc2VkSGVhZGVycy5zcGxpdCgvXFxyP1xcbi8pLmZvckVhY2goZnVuY3Rpb24obGluZSkge1xuICAgICAgdmFyIHBhcnRzID0gbGluZS5zcGxpdCgnOicpO1xuICAgICAgdmFyIGtleSA9IHBhcnRzLnNoaWZ0KCkudHJpbSgpO1xuICAgICAgaWYgKGtleSkge1xuICAgICAgICB2YXIgdmFsdWUgPSBwYXJ0cy5qb2luKCc6JykudHJpbSgpO1xuICAgICAgICBoZWFkZXJzLmFwcGVuZChrZXksIHZhbHVlKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gaGVhZGVyc1xuICB9XG5cbiAgQm9keS5jYWxsKFJlcXVlc3QucHJvdG90eXBlKTtcblxuICBmdW5jdGlvbiBSZXNwb25zZShib2R5SW5pdCwgb3B0aW9ucykge1xuICAgIGlmICghb3B0aW9ucykge1xuICAgICAgb3B0aW9ucyA9IHt9O1xuICAgIH1cblxuICAgIHRoaXMudHlwZSA9ICdkZWZhdWx0JztcbiAgICB0aGlzLnN0YXR1cyA9IG9wdGlvbnMuc3RhdHVzID09PSB1bmRlZmluZWQgPyAyMDAgOiBvcHRpb25zLnN0YXR1cztcbiAgICB0aGlzLm9rID0gdGhpcy5zdGF0dXMgPj0gMjAwICYmIHRoaXMuc3RhdHVzIDwgMzAwO1xuICAgIHRoaXMuc3RhdHVzVGV4dCA9ICdzdGF0dXNUZXh0JyBpbiBvcHRpb25zID8gb3B0aW9ucy5zdGF0dXNUZXh0IDogJ09LJztcbiAgICB0aGlzLmhlYWRlcnMgPSBuZXcgSGVhZGVycyhvcHRpb25zLmhlYWRlcnMpO1xuICAgIHRoaXMudXJsID0gb3B0aW9ucy51cmwgfHwgJyc7XG4gICAgdGhpcy5faW5pdEJvZHkoYm9keUluaXQpO1xuICB9XG5cbiAgQm9keS5jYWxsKFJlc3BvbnNlLnByb3RvdHlwZSk7XG5cbiAgUmVzcG9uc2UucHJvdG90eXBlLmNsb25lID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIG5ldyBSZXNwb25zZSh0aGlzLl9ib2R5SW5pdCwge1xuICAgICAgc3RhdHVzOiB0aGlzLnN0YXR1cyxcbiAgICAgIHN0YXR1c1RleHQ6IHRoaXMuc3RhdHVzVGV4dCxcbiAgICAgIGhlYWRlcnM6IG5ldyBIZWFkZXJzKHRoaXMuaGVhZGVycyksXG4gICAgICB1cmw6IHRoaXMudXJsXG4gICAgfSlcbiAgfTtcblxuICBSZXNwb25zZS5lcnJvciA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciByZXNwb25zZSA9IG5ldyBSZXNwb25zZShudWxsLCB7c3RhdHVzOiAwLCBzdGF0dXNUZXh0OiAnJ30pO1xuICAgIHJlc3BvbnNlLnR5cGUgPSAnZXJyb3InO1xuICAgIHJldHVybiByZXNwb25zZVxuICB9O1xuXG4gIHZhciByZWRpcmVjdFN0YXR1c2VzID0gWzMwMSwgMzAyLCAzMDMsIDMwNywgMzA4XTtcblxuICBSZXNwb25zZS5yZWRpcmVjdCA9IGZ1bmN0aW9uKHVybCwgc3RhdHVzKSB7XG4gICAgaWYgKHJlZGlyZWN0U3RhdHVzZXMuaW5kZXhPZihzdGF0dXMpID09PSAtMSkge1xuICAgICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ0ludmFsaWQgc3RhdHVzIGNvZGUnKVxuICAgIH1cblxuICAgIHJldHVybiBuZXcgUmVzcG9uc2UobnVsbCwge3N0YXR1czogc3RhdHVzLCBoZWFkZXJzOiB7bG9jYXRpb246IHVybH19KVxuICB9O1xuXG4gIGV4cG9ydHMuRE9NRXhjZXB0aW9uID0gc2VsZi5ET01FeGNlcHRpb247XG4gIHRyeSB7XG4gICAgbmV3IGV4cG9ydHMuRE9NRXhjZXB0aW9uKCk7XG4gIH0gY2F0Y2ggKGVycikge1xuICAgIGV4cG9ydHMuRE9NRXhjZXB0aW9uID0gZnVuY3Rpb24obWVzc2FnZSwgbmFtZSkge1xuICAgICAgdGhpcy5tZXNzYWdlID0gbWVzc2FnZTtcbiAgICAgIHRoaXMubmFtZSA9IG5hbWU7XG4gICAgICB2YXIgZXJyb3IgPSBFcnJvcihtZXNzYWdlKTtcbiAgICAgIHRoaXMuc3RhY2sgPSBlcnJvci5zdGFjaztcbiAgICB9O1xuICAgIGV4cG9ydHMuRE9NRXhjZXB0aW9uLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoRXJyb3IucHJvdG90eXBlKTtcbiAgICBleHBvcnRzLkRPTUV4Y2VwdGlvbi5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBleHBvcnRzLkRPTUV4Y2VwdGlvbjtcbiAgfVxuXG4gIGZ1bmN0aW9uIGZldGNoKGlucHV0LCBpbml0KSB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgdmFyIHJlcXVlc3QgPSBuZXcgUmVxdWVzdChpbnB1dCwgaW5pdCk7XG5cbiAgICAgIGlmIChyZXF1ZXN0LnNpZ25hbCAmJiByZXF1ZXN0LnNpZ25hbC5hYm9ydGVkKSB7XG4gICAgICAgIHJldHVybiByZWplY3QobmV3IGV4cG9ydHMuRE9NRXhjZXB0aW9uKCdBYm9ydGVkJywgJ0Fib3J0RXJyb3InKSlcbiAgICAgIH1cblxuICAgICAgdmFyIHhociA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xuXG4gICAgICBmdW5jdGlvbiBhYm9ydFhocigpIHtcbiAgICAgICAgeGhyLmFib3J0KCk7XG4gICAgICB9XG5cbiAgICAgIHhoci5vbmxvYWQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIG9wdGlvbnMgPSB7XG4gICAgICAgICAgc3RhdHVzOiB4aHIuc3RhdHVzLFxuICAgICAgICAgIHN0YXR1c1RleHQ6IHhoci5zdGF0dXNUZXh0LFxuICAgICAgICAgIGhlYWRlcnM6IHBhcnNlSGVhZGVycyh4aHIuZ2V0QWxsUmVzcG9uc2VIZWFkZXJzKCkgfHwgJycpXG4gICAgICAgIH07XG4gICAgICAgIG9wdGlvbnMudXJsID0gJ3Jlc3BvbnNlVVJMJyBpbiB4aHIgPyB4aHIucmVzcG9uc2VVUkwgOiBvcHRpb25zLmhlYWRlcnMuZ2V0KCdYLVJlcXVlc3QtVVJMJyk7XG4gICAgICAgIHZhciBib2R5ID0gJ3Jlc3BvbnNlJyBpbiB4aHIgPyB4aHIucmVzcG9uc2UgOiB4aHIucmVzcG9uc2VUZXh0O1xuICAgICAgICByZXNvbHZlKG5ldyBSZXNwb25zZShib2R5LCBvcHRpb25zKSk7XG4gICAgICB9O1xuXG4gICAgICB4aHIub25lcnJvciA9IGZ1bmN0aW9uKCkge1xuICAgICAgICByZWplY3QobmV3IFR5cGVFcnJvcignTmV0d29yayByZXF1ZXN0IGZhaWxlZCcpKTtcbiAgICAgIH07XG5cbiAgICAgIHhoci5vbnRpbWVvdXQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgcmVqZWN0KG5ldyBUeXBlRXJyb3IoJ05ldHdvcmsgcmVxdWVzdCBmYWlsZWQnKSk7XG4gICAgICB9O1xuXG4gICAgICB4aHIub25hYm9ydCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICByZWplY3QobmV3IGV4cG9ydHMuRE9NRXhjZXB0aW9uKCdBYm9ydGVkJywgJ0Fib3J0RXJyb3InKSk7XG4gICAgICB9O1xuXG4gICAgICB4aHIub3BlbihyZXF1ZXN0Lm1ldGhvZCwgcmVxdWVzdC51cmwsIHRydWUpO1xuXG4gICAgICBpZiAocmVxdWVzdC5jcmVkZW50aWFscyA9PT0gJ2luY2x1ZGUnKSB7XG4gICAgICAgIHhoci53aXRoQ3JlZGVudGlhbHMgPSB0cnVlO1xuICAgICAgfSBlbHNlIGlmIChyZXF1ZXN0LmNyZWRlbnRpYWxzID09PSAnb21pdCcpIHtcbiAgICAgICAgeGhyLndpdGhDcmVkZW50aWFscyA9IGZhbHNlO1xuICAgICAgfVxuXG4gICAgICBpZiAoJ3Jlc3BvbnNlVHlwZScgaW4geGhyICYmIHN1cHBvcnQuYmxvYikge1xuICAgICAgICB4aHIucmVzcG9uc2VUeXBlID0gJ2Jsb2InO1xuICAgICAgfVxuXG4gICAgICByZXF1ZXN0LmhlYWRlcnMuZm9yRWFjaChmdW5jdGlvbih2YWx1ZSwgbmFtZSkge1xuICAgICAgICB4aHIuc2V0UmVxdWVzdEhlYWRlcihuYW1lLCB2YWx1ZSk7XG4gICAgICB9KTtcblxuICAgICAgaWYgKHJlcXVlc3Quc2lnbmFsKSB7XG4gICAgICAgIHJlcXVlc3Quc2lnbmFsLmFkZEV2ZW50TGlzdGVuZXIoJ2Fib3J0JywgYWJvcnRYaHIpO1xuXG4gICAgICAgIHhoci5vbnJlYWR5c3RhdGVjaGFuZ2UgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAvLyBET05FIChzdWNjZXNzIG9yIGZhaWx1cmUpXG4gICAgICAgICAgaWYgKHhoci5yZWFkeVN0YXRlID09PSA0KSB7XG4gICAgICAgICAgICByZXF1ZXN0LnNpZ25hbC5yZW1vdmVFdmVudExpc3RlbmVyKCdhYm9ydCcsIGFib3J0WGhyKTtcbiAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICB9XG5cbiAgICAgIHhoci5zZW5kKHR5cGVvZiByZXF1ZXN0Ll9ib2R5SW5pdCA9PT0gJ3VuZGVmaW5lZCcgPyBudWxsIDogcmVxdWVzdC5fYm9keUluaXQpO1xuICAgIH0pXG4gIH1cblxuICBmZXRjaC5wb2x5ZmlsbCA9IHRydWU7XG5cbiAgaWYgKCFzZWxmLmZldGNoKSB7XG4gICAgc2VsZi5mZXRjaCA9IGZldGNoO1xuICAgIHNlbGYuSGVhZGVycyA9IEhlYWRlcnM7XG4gICAgc2VsZi5SZXF1ZXN0ID0gUmVxdWVzdDtcbiAgICBzZWxmLlJlc3BvbnNlID0gUmVzcG9uc2U7XG4gIH1cblxuICBleHBvcnRzLkhlYWRlcnMgPSBIZWFkZXJzO1xuICBleHBvcnRzLlJlcXVlc3QgPSBSZXF1ZXN0O1xuICBleHBvcnRzLlJlc3BvbnNlID0gUmVzcG9uc2U7XG4gIGV4cG9ydHMuZmV0Y2ggPSBmZXRjaDtcblxuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuXG4gIHJldHVybiBleHBvcnRzO1xuXG59KSh7fSk7XG59KShfX3NlbGZfXyk7XG5fX3NlbGZfXy5mZXRjaC5wb255ZmlsbCA9IHRydWU7XG4vLyBSZW1vdmUgXCJwb2x5ZmlsbFwiIHByb3BlcnR5IGFkZGVkIGJ5IHdoYXR3Zy1mZXRjaFxuZGVsZXRlIF9fc2VsZl9fLmZldGNoLnBvbHlmaWxsO1xuLy8gQ2hvb3NlIGJldHdlZW4gbmF0aXZlIGltcGxlbWVudGF0aW9uIChnbG9iYWwpIG9yIGN1c3RvbSBpbXBsZW1lbnRhdGlvbiAoX19zZWxmX18pXG4vLyB2YXIgY3R4ID0gZ2xvYmFsLmZldGNoID8gZ2xvYmFsIDogX19zZWxmX187XG52YXIgY3R4ID0gX19zZWxmX187IC8vIHRoaXMgbGluZSBkaXNhYmxlIHNlcnZpY2Ugd29ya2VyIHN1cHBvcnQgdGVtcG9yYXJpbHlcbmV4cG9ydHMgPSBjdHguZmV0Y2ggLy8gVG8gZW5hYmxlOiBpbXBvcnQgZmV0Y2ggZnJvbSAnY3Jvc3MtZmV0Y2gnXG5leHBvcnRzLmRlZmF1bHQgPSBjdHguZmV0Y2ggLy8gRm9yIFR5cGVTY3JpcHQgY29uc3VtZXJzIHdpdGhvdXQgZXNNb2R1bGVJbnRlcm9wLlxuZXhwb3J0cy5mZXRjaCA9IGN0eC5mZXRjaCAvLyBUbyBlbmFibGU6IGltcG9ydCB7ZmV0Y2h9IGZyb20gJ2Nyb3NzLWZldGNoJ1xuZXhwb3J0cy5IZWFkZXJzID0gY3R4LkhlYWRlcnNcbmV4cG9ydHMuUmVxdWVzdCA9IGN0eC5SZXF1ZXN0XG5leHBvcnRzLlJlc3BvbnNlID0gY3R4LlJlc3BvbnNlXG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNcbiIsICIndXNlIHN0cmljdCc7XG5cbnZhciBpc01lcmdlYWJsZU9iamVjdCA9IGZ1bmN0aW9uIGlzTWVyZ2VhYmxlT2JqZWN0KHZhbHVlKSB7XG5cdHJldHVybiBpc05vbk51bGxPYmplY3QodmFsdWUpXG5cdFx0JiYgIWlzU3BlY2lhbCh2YWx1ZSlcbn07XG5cbmZ1bmN0aW9uIGlzTm9uTnVsbE9iamVjdCh2YWx1ZSkge1xuXHRyZXR1cm4gISF2YWx1ZSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnXG59XG5cbmZ1bmN0aW9uIGlzU3BlY2lhbCh2YWx1ZSkge1xuXHR2YXIgc3RyaW5nVmFsdWUgPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwodmFsdWUpO1xuXG5cdHJldHVybiBzdHJpbmdWYWx1ZSA9PT0gJ1tvYmplY3QgUmVnRXhwXSdcblx0XHR8fCBzdHJpbmdWYWx1ZSA9PT0gJ1tvYmplY3QgRGF0ZV0nXG5cdFx0fHwgaXNSZWFjdEVsZW1lbnQodmFsdWUpXG59XG5cbi8vIHNlZSBodHRwczovL2dpdGh1Yi5jb20vZmFjZWJvb2svcmVhY3QvYmxvYi9iNWFjOTYzZmI3OTFkMTI5OGU3ZjM5NjIzNjM4M2JjOTU1ZjkxNmMxL3NyYy9pc29tb3JwaGljL2NsYXNzaWMvZWxlbWVudC9SZWFjdEVsZW1lbnQuanMjTDIxLUwyNVxudmFyIGNhblVzZVN5bWJvbCA9IHR5cGVvZiBTeW1ib2wgPT09ICdmdW5jdGlvbicgJiYgU3ltYm9sLmZvcjtcbnZhciBSRUFDVF9FTEVNRU5UX1RZUEUgPSBjYW5Vc2VTeW1ib2wgPyBTeW1ib2wuZm9yKCdyZWFjdC5lbGVtZW50JykgOiAweGVhYzc7XG5cbmZ1bmN0aW9uIGlzUmVhY3RFbGVtZW50KHZhbHVlKSB7XG5cdHJldHVybiB2YWx1ZS4kJHR5cGVvZiA9PT0gUkVBQ1RfRUxFTUVOVF9UWVBFXG59XG5cbmZ1bmN0aW9uIGVtcHR5VGFyZ2V0KHZhbCkge1xuXHRyZXR1cm4gQXJyYXkuaXNBcnJheSh2YWwpID8gW10gOiB7fVxufVxuXG5mdW5jdGlvbiBjbG9uZVVubGVzc090aGVyd2lzZVNwZWNpZmllZCh2YWx1ZSwgb3B0aW9ucykge1xuXHRyZXR1cm4gKG9wdGlvbnMuY2xvbmUgIT09IGZhbHNlICYmIG9wdGlvbnMuaXNNZXJnZWFibGVPYmplY3QodmFsdWUpKVxuXHRcdD8gZGVlcG1lcmdlKGVtcHR5VGFyZ2V0KHZhbHVlKSwgdmFsdWUsIG9wdGlvbnMpXG5cdFx0OiB2YWx1ZVxufVxuXG5mdW5jdGlvbiBkZWZhdWx0QXJyYXlNZXJnZSh0YXJnZXQsIHNvdXJjZSwgb3B0aW9ucykge1xuXHRyZXR1cm4gdGFyZ2V0LmNvbmNhdChzb3VyY2UpLm1hcChmdW5jdGlvbihlbGVtZW50KSB7XG5cdFx0cmV0dXJuIGNsb25lVW5sZXNzT3RoZXJ3aXNlU3BlY2lmaWVkKGVsZW1lbnQsIG9wdGlvbnMpXG5cdH0pXG59XG5cbmZ1bmN0aW9uIGdldE1lcmdlRnVuY3Rpb24oa2V5LCBvcHRpb25zKSB7XG5cdGlmICghb3B0aW9ucy5jdXN0b21NZXJnZSkge1xuXHRcdHJldHVybiBkZWVwbWVyZ2Vcblx0fVxuXHR2YXIgY3VzdG9tTWVyZ2UgPSBvcHRpb25zLmN1c3RvbU1lcmdlKGtleSk7XG5cdHJldHVybiB0eXBlb2YgY3VzdG9tTWVyZ2UgPT09ICdmdW5jdGlvbicgPyBjdXN0b21NZXJnZSA6IGRlZXBtZXJnZVxufVxuXG5mdW5jdGlvbiBnZXRFbnVtZXJhYmxlT3duUHJvcGVydHlTeW1ib2xzKHRhcmdldCkge1xuXHRyZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9sc1xuXHRcdD8gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyh0YXJnZXQpLmZpbHRlcihmdW5jdGlvbihzeW1ib2wpIHtcblx0XHRcdHJldHVybiBPYmplY3QucHJvcGVydHlJc0VudW1lcmFibGUuY2FsbCh0YXJnZXQsIHN5bWJvbClcblx0XHR9KVxuXHRcdDogW11cbn1cblxuZnVuY3Rpb24gZ2V0S2V5cyh0YXJnZXQpIHtcblx0cmV0dXJuIE9iamVjdC5rZXlzKHRhcmdldCkuY29uY2F0KGdldEVudW1lcmFibGVPd25Qcm9wZXJ0eVN5bWJvbHModGFyZ2V0KSlcbn1cblxuZnVuY3Rpb24gcHJvcGVydHlJc09uT2JqZWN0KG9iamVjdCwgcHJvcGVydHkpIHtcblx0dHJ5IHtcblx0XHRyZXR1cm4gcHJvcGVydHkgaW4gb2JqZWN0XG5cdH0gY2F0Y2goXykge1xuXHRcdHJldHVybiBmYWxzZVxuXHR9XG59XG5cbi8vIFByb3RlY3RzIGZyb20gcHJvdG90eXBlIHBvaXNvbmluZyBhbmQgdW5leHBlY3RlZCBtZXJnaW5nIHVwIHRoZSBwcm90b3R5cGUgY2hhaW4uXG5mdW5jdGlvbiBwcm9wZXJ0eUlzVW5zYWZlKHRhcmdldCwga2V5KSB7XG5cdHJldHVybiBwcm9wZXJ0eUlzT25PYmplY3QodGFyZ2V0LCBrZXkpIC8vIFByb3BlcnRpZXMgYXJlIHNhZmUgdG8gbWVyZ2UgaWYgdGhleSBkb24ndCBleGlzdCBpbiB0aGUgdGFyZ2V0IHlldCxcblx0XHQmJiAhKE9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKHRhcmdldCwga2V5KSAvLyB1bnNhZmUgaWYgdGhleSBleGlzdCB1cCB0aGUgcHJvdG90eXBlIGNoYWluLFxuXHRcdFx0JiYgT2JqZWN0LnByb3BlcnR5SXNFbnVtZXJhYmxlLmNhbGwodGFyZ2V0LCBrZXkpKSAvLyBhbmQgYWxzbyB1bnNhZmUgaWYgdGhleSdyZSBub25lbnVtZXJhYmxlLlxufVxuXG5mdW5jdGlvbiBtZXJnZU9iamVjdCh0YXJnZXQsIHNvdXJjZSwgb3B0aW9ucykge1xuXHR2YXIgZGVzdGluYXRpb24gPSB7fTtcblx0aWYgKG9wdGlvbnMuaXNNZXJnZWFibGVPYmplY3QodGFyZ2V0KSkge1xuXHRcdGdldEtleXModGFyZ2V0KS5mb3JFYWNoKGZ1bmN0aW9uKGtleSkge1xuXHRcdFx0ZGVzdGluYXRpb25ba2V5XSA9IGNsb25lVW5sZXNzT3RoZXJ3aXNlU3BlY2lmaWVkKHRhcmdldFtrZXldLCBvcHRpb25zKTtcblx0XHR9KTtcblx0fVxuXHRnZXRLZXlzKHNvdXJjZSkuZm9yRWFjaChmdW5jdGlvbihrZXkpIHtcblx0XHRpZiAocHJvcGVydHlJc1Vuc2FmZSh0YXJnZXQsIGtleSkpIHtcblx0XHRcdHJldHVyblxuXHRcdH1cblxuXHRcdGlmIChwcm9wZXJ0eUlzT25PYmplY3QodGFyZ2V0LCBrZXkpICYmIG9wdGlvbnMuaXNNZXJnZWFibGVPYmplY3Qoc291cmNlW2tleV0pKSB7XG5cdFx0XHRkZXN0aW5hdGlvbltrZXldID0gZ2V0TWVyZ2VGdW5jdGlvbihrZXksIG9wdGlvbnMpKHRhcmdldFtrZXldLCBzb3VyY2Vba2V5XSwgb3B0aW9ucyk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdGRlc3RpbmF0aW9uW2tleV0gPSBjbG9uZVVubGVzc090aGVyd2lzZVNwZWNpZmllZChzb3VyY2Vba2V5XSwgb3B0aW9ucyk7XG5cdFx0fVxuXHR9KTtcblx0cmV0dXJuIGRlc3RpbmF0aW9uXG59XG5cbmZ1bmN0aW9uIGRlZXBtZXJnZSh0YXJnZXQsIHNvdXJjZSwgb3B0aW9ucykge1xuXHRvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcblx0b3B0aW9ucy5hcnJheU1lcmdlID0gb3B0aW9ucy5hcnJheU1lcmdlIHx8IGRlZmF1bHRBcnJheU1lcmdlO1xuXHRvcHRpb25zLmlzTWVyZ2VhYmxlT2JqZWN0ID0gb3B0aW9ucy5pc01lcmdlYWJsZU9iamVjdCB8fCBpc01lcmdlYWJsZU9iamVjdDtcblx0Ly8gY2xvbmVVbmxlc3NPdGhlcndpc2VTcGVjaWZpZWQgaXMgYWRkZWQgdG8gYG9wdGlvbnNgIHNvIHRoYXQgY3VzdG9tIGFycmF5TWVyZ2UoKVxuXHQvLyBpbXBsZW1lbnRhdGlvbnMgY2FuIHVzZSBpdC4gVGhlIGNhbGxlciBtYXkgbm90IHJlcGxhY2UgaXQuXG5cdG9wdGlvbnMuY2xvbmVVbmxlc3NPdGhlcndpc2VTcGVjaWZpZWQgPSBjbG9uZVVubGVzc090aGVyd2lzZVNwZWNpZmllZDtcblxuXHR2YXIgc291cmNlSXNBcnJheSA9IEFycmF5LmlzQXJyYXkoc291cmNlKTtcblx0dmFyIHRhcmdldElzQXJyYXkgPSBBcnJheS5pc0FycmF5KHRhcmdldCk7XG5cdHZhciBzb3VyY2VBbmRUYXJnZXRUeXBlc01hdGNoID0gc291cmNlSXNBcnJheSA9PT0gdGFyZ2V0SXNBcnJheTtcblxuXHRpZiAoIXNvdXJjZUFuZFRhcmdldFR5cGVzTWF0Y2gpIHtcblx0XHRyZXR1cm4gY2xvbmVVbmxlc3NPdGhlcndpc2VTcGVjaWZpZWQoc291cmNlLCBvcHRpb25zKVxuXHR9IGVsc2UgaWYgKHNvdXJjZUlzQXJyYXkpIHtcblx0XHRyZXR1cm4gb3B0aW9ucy5hcnJheU1lcmdlKHRhcmdldCwgc291cmNlLCBvcHRpb25zKVxuXHR9IGVsc2Uge1xuXHRcdHJldHVybiBtZXJnZU9iamVjdCh0YXJnZXQsIHNvdXJjZSwgb3B0aW9ucylcblx0fVxufVxuXG5kZWVwbWVyZ2UuYWxsID0gZnVuY3Rpb24gZGVlcG1lcmdlQWxsKGFycmF5LCBvcHRpb25zKSB7XG5cdGlmICghQXJyYXkuaXNBcnJheShhcnJheSkpIHtcblx0XHR0aHJvdyBuZXcgRXJyb3IoJ2ZpcnN0IGFyZ3VtZW50IHNob3VsZCBiZSBhbiBhcnJheScpXG5cdH1cblxuXHRyZXR1cm4gYXJyYXkucmVkdWNlKGZ1bmN0aW9uKHByZXYsIG5leHQpIHtcblx0XHRyZXR1cm4gZGVlcG1lcmdlKHByZXYsIG5leHQsIG9wdGlvbnMpXG5cdH0sIHt9KVxufTtcblxudmFyIGRlZXBtZXJnZV8xID0gZGVlcG1lcmdlO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGRlZXBtZXJnZV8xO1xuIiwgInZhciBuYWl2ZUZhbGxiYWNrID0gZnVuY3Rpb24gKCkge1xuXHRpZiAodHlwZW9mIHNlbGYgPT09IFwib2JqZWN0XCIgJiYgc2VsZikgcmV0dXJuIHNlbGY7XG5cdGlmICh0eXBlb2Ygd2luZG93ID09PSBcIm9iamVjdFwiICYmIHdpbmRvdykgcmV0dXJuIHdpbmRvdztcblx0dGhyb3cgbmV3IEVycm9yKFwiVW5hYmxlIHRvIHJlc29sdmUgZ2xvYmFsIGB0aGlzYFwiKTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gKGZ1bmN0aW9uICgpIHtcblx0aWYgKHRoaXMpIHJldHVybiB0aGlzO1xuXG5cdC8vIFVuZXhwZWN0ZWQgc3RyaWN0IG1vZGUgKG1heSBoYXBwZW4gaWYgZS5nLiBidW5kbGVkIGludG8gRVNNIG1vZHVsZSlcblxuXHQvLyBGYWxsYmFjayB0byBzdGFuZGFyZCBnbG9iYWxUaGlzIGlmIGF2YWlsYWJsZVxuXHRpZiAodHlwZW9mIGdsb2JhbFRoaXMgPT09IFwib2JqZWN0XCIgJiYgZ2xvYmFsVGhpcykgcmV0dXJuIGdsb2JhbFRoaXM7XG5cblx0Ly8gVGhhbmtzIEBtYXRoaWFzYnluZW5zIC0+IGh0dHBzOi8vbWF0aGlhc2J5bmVucy5iZS9ub3Rlcy9nbG9iYWx0aGlzXG5cdC8vIEluIGFsbCBFUzUrIGVuZ2luZXMgZ2xvYmFsIG9iamVjdCBpbmhlcml0cyBmcm9tIE9iamVjdC5wcm90b3R5cGVcblx0Ly8gKGlmIHlvdSBhcHByb2FjaGVkIG9uZSB0aGF0IGRvZXNuJ3QgcGxlYXNlIHJlcG9ydClcblx0dHJ5IHtcblx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoT2JqZWN0LnByb3RvdHlwZSwgXCJfX2dsb2JhbF9fXCIsIHtcblx0XHRcdGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpczsgfSxcblx0XHRcdGNvbmZpZ3VyYWJsZTogdHJ1ZVxuXHRcdH0pO1xuXHR9IGNhdGNoIChlcnJvcikge1xuXHRcdC8vIFVuZm9ydHVuYXRlIGNhc2Ugb2YgdXBkYXRlcyB0byBPYmplY3QucHJvdG90eXBlIGJlaW5nIHJlc3RyaWN0ZWRcblx0XHQvLyB2aWEgcHJldmVudEV4dGVuc2lvbnMsIHNlYWwgb3IgZnJlZXplXG5cdFx0cmV0dXJuIG5haXZlRmFsbGJhY2soKTtcblx0fVxuXHR0cnkge1xuXHRcdC8vIFNhZmFyaSBjYXNlICh3aW5kb3cuX19nbG9iYWxfXyB3b3JrcywgYnV0IF9fZ2xvYmFsX18gZG9lcyBub3QpXG5cdFx0aWYgKCFfX2dsb2JhbF9fKSByZXR1cm4gbmFpdmVGYWxsYmFjaygpO1xuXHRcdHJldHVybiBfX2dsb2JhbF9fO1xuXHR9IGZpbmFsbHkge1xuXHRcdGRlbGV0ZSBPYmplY3QucHJvdG90eXBlLl9fZ2xvYmFsX187XG5cdH1cbn0pKCk7XG4iLCAie1xuICBcIl9mcm9tXCI6IFwid2Vic29ja2V0QF4xLjAuMzRcIixcbiAgXCJfaWRcIjogXCJ3ZWJzb2NrZXRAMS4wLjM0XCIsXG4gIFwiX2luQnVuZGxlXCI6IGZhbHNlLFxuICBcIl9pbnRlZ3JpdHlcIjogXCJzaGE1MTItUFJEc28yc0d3RjZrTTc1UXlrSWVzQmlqS1NWY2VSNmpMMkc4TkdZeXEyWHJJdE5DMlA1L3FMNVhlUjA1NkdoQStMeTdKTUZ2SmI5STMxMm1KZm1xblE9PVwiLFxuICBcIl9sb2NhdGlvblwiOiBcIi93ZWJzb2NrZXRcIixcbiAgXCJfcGhhbnRvbUNoaWxkcmVuXCI6IHt9LFxuICBcIl9yZXF1ZXN0ZWRcIjoge1xuICAgIFwidHlwZVwiOiBcInJhbmdlXCIsXG4gICAgXCJyZWdpc3RyeVwiOiB0cnVlLFxuICAgIFwicmF3XCI6IFwid2Vic29ja2V0QF4xLjAuMzRcIixcbiAgICBcIm5hbWVcIjogXCJ3ZWJzb2NrZXRcIixcbiAgICBcImVzY2FwZWROYW1lXCI6IFwid2Vic29ja2V0XCIsXG4gICAgXCJyYXdTcGVjXCI6IFwiXjEuMC4zNFwiLFxuICAgIFwic2F2ZVNwZWNcIjogbnVsbCxcbiAgICBcImZldGNoU3BlY1wiOiBcIl4xLjAuMzRcIlxuICB9LFxuICBcIl9yZXF1aXJlZEJ5XCI6IFtcbiAgICBcIi9AZGVlcGdyYW0vc2RrXCJcbiAgXSxcbiAgXCJfcmVzb2x2ZWRcIjogXCJodHRwczovL3JlZ2lzdHJ5Lm5wbWpzLm9yZy93ZWJzb2NrZXQvLS93ZWJzb2NrZXQtMS4wLjM0LnRnelwiLFxuICBcIl9zaGFzdW1cIjogXCIyYmRjMjYwMmMwOGJmMmM4MjI1M2I3MzA2NTVjMGVmN2RjYWIzMTExXCIsXG4gIFwiX3NwZWNcIjogXCJ3ZWJzb2NrZXRAXjEuMC4zNFwiLFxuICBcIl93aGVyZVwiOiBcIi9Vc2Vycy9zYW1mYXJyYXIvRG9jdW1lbnRzL3RyYW5zY3JpcHRpb25fdGVzdC9kZWVwZ3JhbS10cmFuc2NyaXB0aW9uL25vZGVfbW9kdWxlcy9AZGVlcGdyYW0vc2RrXCIsXG4gIFwiYXV0aG9yXCI6IHtcbiAgICBcIm5hbWVcIjogXCJCcmlhbiBNY0tlbHZleVwiLFxuICAgIFwiZW1haWxcIjogXCJ0aGV0dXJ0bGUzMkBnbWFpbC5jb21cIixcbiAgICBcInVybFwiOiBcImh0dHBzOi8vZ2l0aHViLmNvbS90aGV0dXJ0bGUzMlwiXG4gIH0sXG4gIFwiYnJvd3NlclwiOiBcImxpYi9icm93c2VyLmpzXCIsXG4gIFwiYnVnc1wiOiB7XG4gICAgXCJ1cmxcIjogXCJodHRwczovL2dpdGh1Yi5jb20vdGhldHVydGxlMzIvV2ViU29ja2V0LU5vZGUvaXNzdWVzXCJcbiAgfSxcbiAgXCJidW5kbGVEZXBlbmRlbmNpZXNcIjogZmFsc2UsXG4gIFwiY29uZmlnXCI6IHtcbiAgICBcInZlcmJvc2VcIjogZmFsc2VcbiAgfSxcbiAgXCJjb250cmlidXRvcnNcIjogW1xuICAgIHtcbiAgICAgIFwibmFtZVwiOiBcIklcdTAwRjFha2kgQmF6IENhc3RpbGxvXCIsXG4gICAgICBcImVtYWlsXCI6IFwiaWJjQGFsaWF4Lm5ldFwiLFxuICAgICAgXCJ1cmxcIjogXCJodHRwOi8vZGV2LnNpcGRvYy5uZXRcIlxuICAgIH1cbiAgXSxcbiAgXCJkZXBlbmRlbmNpZXNcIjoge1xuICAgIFwiYnVmZmVydXRpbFwiOiBcIl40LjAuMVwiLFxuICAgIFwiZGVidWdcIjogXCJeMi4yLjBcIixcbiAgICBcImVzNS1leHRcIjogXCJeMC4xMC41MFwiLFxuICAgIFwidHlwZWRhcnJheS10by1idWZmZXJcIjogXCJeMy4xLjVcIixcbiAgICBcInV0Zi04LXZhbGlkYXRlXCI6IFwiXjUuMC4yXCIsXG4gICAgXCJ5YWV0aVwiOiBcIl4wLjAuNlwiXG4gIH0sXG4gIFwiZGVwcmVjYXRlZFwiOiBmYWxzZSxcbiAgXCJkZXNjcmlwdGlvblwiOiBcIldlYnNvY2tldCBDbGllbnQgJiBTZXJ2ZXIgTGlicmFyeSBpbXBsZW1lbnRpbmcgdGhlIFdlYlNvY2tldCBwcm90b2NvbCBhcyBzcGVjaWZpZWQgaW4gUkZDIDY0NTUuXCIsXG4gIFwiZGV2RGVwZW5kZW5jaWVzXCI6IHtcbiAgICBcImJ1ZmZlci1lcXVhbFwiOiBcIl4xLjAuMFwiLFxuICAgIFwiZ3VscFwiOiBcIl40LjAuMlwiLFxuICAgIFwiZ3VscC1qc2hpbnRcIjogXCJeMi4wLjRcIixcbiAgICBcImpzaGludFwiOiBcIl4yLjAuMFwiLFxuICAgIFwianNoaW50LXN0eWxpc2hcIjogXCJeMi4yLjFcIixcbiAgICBcInRhcGVcIjogXCJeNC45LjFcIlxuICB9LFxuICBcImRpcmVjdG9yaWVzXCI6IHtcbiAgICBcImxpYlwiOiBcIi4vbGliXCJcbiAgfSxcbiAgXCJlbmdpbmVzXCI6IHtcbiAgICBcIm5vZGVcIjogXCI+PTQuMC4wXCJcbiAgfSxcbiAgXCJob21lcGFnZVwiOiBcImh0dHBzOi8vZ2l0aHViLmNvbS90aGV0dXJ0bGUzMi9XZWJTb2NrZXQtTm9kZVwiLFxuICBcImtleXdvcmRzXCI6IFtcbiAgICBcIndlYnNvY2tldFwiLFxuICAgIFwid2Vic29ja2V0c1wiLFxuICAgIFwic29ja2V0XCIsXG4gICAgXCJuZXR3b3JraW5nXCIsXG4gICAgXCJjb21ldFwiLFxuICAgIFwicHVzaFwiLFxuICAgIFwiUkZDLTY0NTVcIixcbiAgICBcInJlYWx0aW1lXCIsXG4gICAgXCJzZXJ2ZXJcIixcbiAgICBcImNsaWVudFwiXG4gIF0sXG4gIFwibGljZW5zZVwiOiBcIkFwYWNoZS0yLjBcIixcbiAgXCJtYWluXCI6IFwiaW5kZXhcIixcbiAgXCJuYW1lXCI6IFwid2Vic29ja2V0XCIsXG4gIFwicmVwb3NpdG9yeVwiOiB7XG4gICAgXCJ0eXBlXCI6IFwiZ2l0XCIsXG4gICAgXCJ1cmxcIjogXCJnaXQraHR0cHM6Ly9naXRodWIuY29tL3RoZXR1cnRsZTMyL1dlYlNvY2tldC1Ob2RlLmdpdFwiXG4gIH0sXG4gIFwic2NyaXB0c1wiOiB7XG4gICAgXCJndWxwXCI6IFwiZ3VscFwiLFxuICAgIFwidGVzdFwiOiBcInRhcGUgdGVzdC91bml0LyouanNcIlxuICB9LFxuICBcInZlcnNpb25cIjogXCIxLjAuMzRcIlxufVxuIiwgIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi4vcGFja2FnZS5qc29uJykudmVyc2lvbjtcbiIsICJ2YXIgX2dsb2JhbFRoaXM7XG5pZiAodHlwZW9mIGdsb2JhbFRoaXMgPT09ICdvYmplY3QnKSB7XG5cdF9nbG9iYWxUaGlzID0gZ2xvYmFsVGhpcztcbn0gZWxzZSB7XG5cdHRyeSB7XG5cdFx0X2dsb2JhbFRoaXMgPSByZXF1aXJlKCdlczUtZXh0L2dsb2JhbCcpO1xuXHR9IGNhdGNoIChlcnJvcikge1xuXHR9IGZpbmFsbHkge1xuXHRcdGlmICghX2dsb2JhbFRoaXMgJiYgdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcpIHsgX2dsb2JhbFRoaXMgPSB3aW5kb3c7IH1cblx0XHRpZiAoIV9nbG9iYWxUaGlzKSB7IHRocm93IG5ldyBFcnJvcignQ291bGQgbm90IGRldGVybWluZSBnbG9iYWwgdGhpcycpOyB9XG5cdH1cbn1cblxudmFyIE5hdGl2ZVdlYlNvY2tldCA9IF9nbG9iYWxUaGlzLldlYlNvY2tldCB8fCBfZ2xvYmFsVGhpcy5Nb3pXZWJTb2NrZXQ7XG52YXIgd2Vic29ja2V0X3ZlcnNpb24gPSByZXF1aXJlKCcuL3ZlcnNpb24nKTtcblxuXG4vKipcbiAqIEV4cG9zZSBhIFczQyBXZWJTb2NrZXQgY2xhc3Mgd2l0aCBqdXN0IG9uZSBvciB0d28gYXJndW1lbnRzLlxuICovXG5mdW5jdGlvbiBXM0NXZWJTb2NrZXQodXJpLCBwcm90b2NvbHMpIHtcblx0dmFyIG5hdGl2ZV9pbnN0YW5jZTtcblxuXHRpZiAocHJvdG9jb2xzKSB7XG5cdFx0bmF0aXZlX2luc3RhbmNlID0gbmV3IE5hdGl2ZVdlYlNvY2tldCh1cmksIHByb3RvY29scyk7XG5cdH1cblx0ZWxzZSB7XG5cdFx0bmF0aXZlX2luc3RhbmNlID0gbmV3IE5hdGl2ZVdlYlNvY2tldCh1cmkpO1xuXHR9XG5cblx0LyoqXG5cdCAqICduYXRpdmVfaW5zdGFuY2UnIGlzIGFuIGluc3RhbmNlIG9mIG5hdGl2ZVdlYlNvY2tldCAodGhlIGJyb3dzZXIncyBXZWJTb2NrZXRcblx0ICogY2xhc3MpLiBTaW5jZSBpdCBpcyBhbiBPYmplY3QgaXQgd2lsbCBiZSByZXR1cm5lZCBhcyBpdCBpcyB3aGVuIGNyZWF0aW5nIGFuXG5cdCAqIGluc3RhbmNlIG9mIFczQ1dlYlNvY2tldCB2aWEgJ25ldyBXM0NXZWJTb2NrZXQoKScuXG5cdCAqXG5cdCAqIEVDTUFTY3JpcHQgNTogaHR0cDovL2JjbGFyeS5jb20vMjAwNC8xMS8wNy8jYS0xMy4yLjJcblx0ICovXG5cdHJldHVybiBuYXRpdmVfaW5zdGFuY2U7XG59XG5pZiAoTmF0aXZlV2ViU29ja2V0KSB7XG5cdFsnQ09OTkVDVElORycsICdPUEVOJywgJ0NMT1NJTkcnLCAnQ0xPU0VEJ10uZm9yRWFjaChmdW5jdGlvbihwcm9wKSB7XG5cdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KFczQ1dlYlNvY2tldCwgcHJvcCwge1xuXHRcdFx0Z2V0OiBmdW5jdGlvbigpIHsgcmV0dXJuIE5hdGl2ZVdlYlNvY2tldFtwcm9wXTsgfVxuXHRcdH0pO1xuXHR9KTtcbn1cblxuLyoqXG4gKiBNb2R1bGUgZXhwb3J0cy5cbiAqL1xubW9kdWxlLmV4cG9ydHMgPSB7XG4gICAgJ3czY3dlYnNvY2tldCcgOiBOYXRpdmVXZWJTb2NrZXQgPyBXM0NXZWJTb2NrZXQgOiBudWxsLFxuICAgICd2ZXJzaW9uJyAgICAgIDogd2Vic29ja2V0X3ZlcnNpb25cbn07XG4iLCAiaW1wb3J0IHtcbiAgQXBwLFxuICBFZGl0b3IsXG4gIE1hcmtkb3duVmlldyxcbiAgTW9kYWwsXG4gIE5vdGljZSxcbiAgUGx1Z2luLFxuICBQbHVnaW5TZXR0aW5nVGFiLFxuICBTZXR0aW5nLFxuICBFZGl0b3JQb3NpdGlvbixcbn0gZnJvbSBcIm9ic2lkaWFuXCI7XG5pbXBvcnQgeyBjcmVhdGVDbGllbnQsIERlZXBncmFtLCBMaXZlVHJhbnNjcmlwdGlvbkV2ZW50cyB9IGZyb20gXCJAZGVlcGdyYW0vc2RrXCI7XG5cbmludGVyZmFjZSBEZWVwR3JhbVBsdWdpblNldHRpbmdzIHtcbiAgYXBpS2V5OiBzdHJpbmc7XG4gIHN1bW1hcml6ZTogYm9vbGVhbjtcbiAgdG9waWNfZGV0ZWN0aW9uOiBib29sZWFuO1xuICBpbnRlbnRfZGV0ZWN0aW9uOiBib29sZWFuO1xuICBzZW50aW1lbnQ6IGJvb2xlYW47XG4gIHNtYXJ0X2Zvcm1hdDogYm9vbGVhbjtcbiAgcHVuY3R1YXRpb246IGJvb2xlYW47XG4gIHBhcmFncmFwaHM6IGJvb2xlYW47XG4gIHV0dGVyYW5jZXM6IGJvb2xlYW47XG4gIGZpbGxlcl93b3JkczogYm9vbGVhbjtcbn1cblxuY29uc3QgREVGQVVMVF9TRVRUSU5HUzogRGVlcEdyYW1QbHVnaW5TZXR0aW5ncyA9IHtcbiAgYXBpS2V5OiBcIlwiLFxuICBzdW1tYXJpemU6IGZhbHNlLFxuICB0b3BpY19kZXRlY3Rpb246IGZhbHNlLFxuICBpbnRlbnRfZGV0ZWN0aW9uOiBmYWxzZSxcbiAgc2VudGltZW50OiBmYWxzZSxcbiAgc21hcnRfZm9ybWF0OiB0cnVlLFxuICBwdW5jdHVhdGlvbjogdHJ1ZSxcbiAgcGFyYWdyYXBoczogZmFsc2UsXG4gIHV0dGVyYW5jZXM6IGZhbHNlLFxuICBmaWxsZXJfd29yZHM6IGZhbHNlLFxufTtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRGVlcGdyYW1QbHVnaW4gZXh0ZW5kcyBQbHVnaW4ge1xuICBzZXR0aW5nczogRGVlcEdyYW1QbHVnaW5TZXR0aW5ncztcbiAgaXNSZWNvcmRpbmc6IGJvb2xlYW4gPSBmYWxzZTtcbiAgc3RhdHVzQmFySXRlbTogSFRNTEVsZW1lbnQ7XG4gIGluaXRpYWxDdXJzb3JQb3NpdGlvbjogRWRpdG9yUG9zaXRpb247XG4gIGRlZXBncmFtOiBEZWVwZ3JhbTsgLy8gQWRkIHRoaXMgbGluZSB0byBkZWNsYXJlIHRoZSBkZWVwZ3JhbSBwcm9wZXJ0eVxuICBtZWRpYVJlY29yZGVyOiBNZWRpYVJlY29yZGVyOyAvLyBBZGQgdGhpcyBsaW5lIHRvIGRlY2xhcmUgdGhlIG1lZGlhUmVjb3JkZXIgcHJvcGVydHlcblxuICBhc3luYyBvbmxvYWQoKSB7XG4gICAgY29uc29sZS5sb2coXCJMb2FkaW5nIERlZXBncmFtIHBsdWdpblwiKTtcblxuICAgIGF3YWl0IHRoaXMubG9hZFNldHRpbmdzKCk7XG5cbiAgICB0aGlzLmFkZENvbW1hbmQoe1xuICAgICAgaWQ6IFwidG9nZ2xlLXRyYW5zY3JpcHRpb25cIixcbiAgICAgIG5hbWU6IFwiVG9nZ2xlIFRyYW5zY3JpcHRpb25cIixcbiAgICAgIGNhbGxiYWNrOiAoKSA9PiB7XG4gICAgICAgIGlmICh0aGlzLmlzUmVjb3JkaW5nKSB7XG4gICAgICAgICAgdGhpcy5zdG9wVHJhbnNjcmlwdGlvbigpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRoaXMuc3RhcnRUcmFuc2NyaXB0aW9uKCk7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgfSk7XG5cbiAgICB0aGlzLnN0YXR1c0Jhckl0ZW0gPSB0aGlzLmFkZFN0YXR1c0Jhckl0ZW0oKTtcbiAgICB0aGlzLnVwZGF0ZVN0YXR1c0Jhckl0ZW0oKTtcblxuICAgIHRoaXMuYWRkU2V0dGluZ1RhYihuZXcgRGVlcGdyYW1TZXR0aW5nVGFiKHRoaXMuYXBwLCB0aGlzKSk7XG5cbiAgICBjb25zb2xlLmxvZyhcIkRlZXBncmFtIHBsdWdpbiBsb2FkZWRcIik7XG4gIH1cblxuICBhc3luYyBvbnVubG9hZCgpIHtcbiAgICBjb25zb2xlLmxvZyhcIlVubG9hZGluZyBEZWVwZ3JhbSBwbHVnaW5cIik7XG5cbiAgICBpZiAodGhpcy5pc1JlY29yZGluZykge1xuICAgICAgYXdhaXQgdGhpcy5zdG9wVHJhbnNjcmlwdGlvbigpO1xuICAgIH1cbiAgfVxuXG4gIGFzeW5jIGxvYWRTZXR0aW5ncygpIHtcbiAgICB0aGlzLnNldHRpbmdzID0gT2JqZWN0LmFzc2lnbih7fSwgREVGQVVMVF9TRVRUSU5HUywgYXdhaXQgdGhpcy5sb2FkRGF0YSgpKTtcbiAgfVxuXG4gIGFzeW5jIHNhdmVTZXR0aW5ncygpIHtcbiAgICBhd2FpdCB0aGlzLnNhdmVEYXRhKHRoaXMuc2V0dGluZ3MpO1xuICB9XG5cbiAgdXBkYXRlU3RhdHVzQmFySXRlbSgpIHtcbiAgICB0aGlzLnN0YXR1c0Jhckl0ZW0uc2V0VGV4dChcbiAgICAgIHRoaXMuaXNSZWNvcmRpbmcgPyBcIlJlY29yZGluZ1wiIDogXCJOb3QgUmVjb3JkaW5nXCJcbiAgICApO1xuICB9XG5cbiAgYXN5bmMgc3RhcnRUcmFuc2NyaXB0aW9uKCkge1xuICAgIGNvbnNvbGUubG9nKFwiU3RhcnRpbmcgdHJhbnNjcmlwdGlvblwiKTtcblxuICAgIGNvbnN0IG9wdGlvbnMgPSB7XG4gICAgICBtb2RlbDogXCJub3ZhLTJcIixcbiAgICAgIGxhbmd1YWdlOiBcImVuLVVTXCIsXG4gICAgICBzbWFydF9mb3JtYXQ6IHRoaXMuc2V0dGluZ3Muc21hcnRfZm9ybWF0LFxuICAgICAgc3VtbWFyaXplOiB0aGlzLnNldHRpbmdzLnN1bW1hcml6ZSxcbiAgICAgIHRvcGljX2RldGVjdGlvbjogdGhpcy5zZXR0aW5ncy50b3BpY19kZXRlY3Rpb24sXG4gICAgICBpbnRlbnRfZGV0ZWN0aW9uOiB0aGlzLnNldHRpbmdzLmludGVudF9kZXRlY3Rpb24sXG4gICAgICBzZW50aW1lbnQ6IHRoaXMuc2V0dGluZ3Muc2VudGltZW50LFxuICAgICAgcHVuY3R1YXRpb246IHRoaXMuc2V0dGluZ3MucHVuY3R1YXRpb24sXG4gICAgICBwYXJhZ3JhcGhzOiB0aGlzLnNldHRpbmdzLnBhcmFncmFwaHMsXG4gICAgICB1dHRlcmFuY2VzOiB0aGlzLnNldHRpbmdzLnV0dGVyYW5jZXMsXG4gICAgICBmaWxsZXJfd29yZHM6IHRoaXMuc2V0dGluZ3MuZmlsbGVyX3dvcmRzLFxuICAgICAgaW50ZXJpbV9yZXN1bHRzOiB0cnVlLFxuICAgICAgZW5kcG9pbnRpbmc6MjAwMFxuICAgIH07XG5cbiAgICBjb25zdCBkZWVwZ3JhbUNsaWVudCA9IGNyZWF0ZUNsaWVudCh0aGlzLnNldHRpbmdzLmFwaUtleSk7XG4gICAgY29uc3QgZGVlcGdyYW0gPSBkZWVwZ3JhbUNsaWVudC5saXN0ZW4ubGl2ZShvcHRpb25zKTtcblxuICAgIHRoaXMuZGVlcGdyYW0gPSBkZWVwZ3JhbTtcblxuICAgIGNvbnNvbGUubG9nKFwiRGVlcGdyYW0gY2xpZW50IGNyZWF0ZWRcIiwgZGVlcGdyYW0pO1xuXG4gICAgdGhpcy5kZWVwZ3JhbS5hZGRMaXN0ZW5lcihMaXZlVHJhbnNjcmlwdGlvbkV2ZW50cy5PcGVuLCAoKSA9PiB7XG4gICAgICBjb25zb2xlLmxvZyhcIkRlZXBncmFtIGNvbm5lY3Rpb24gb3BlbmVkXCIpO1xuICAgICAgdGhpcy5pc1JlY29yZGluZyA9IHRydWU7XG4gICAgICB0aGlzLnVwZGF0ZVN0YXR1c0Jhckl0ZW0oKTtcblxuICAgICAgdGhpcy5kZWVwZ3JhbS5hZGRMaXN0ZW5lcihMaXZlVHJhbnNjcmlwdGlvbkV2ZW50cy5UcmFuc2NyaXB0LCAoZGF0YSkgPT4ge1xuICAgICAgICBjb25zdCB0cmFuc2NyaXB0ID0gZGF0YS5jaGFubmVsLmFsdGVybmF0aXZlc1swXS50cmFuc2NyaXB0O1xuICAgICAgICBjb25zdCBpc0ZpbmFsID0gZGF0YS5pc19maW5hbDtcblxuICAgICAgICBjb25zdCBhY3RpdmVWaWV3ID0gdGhpcy5hcHAud29ya3NwYWNlLmdldEFjdGl2ZVZpZXdPZlR5cGUoTWFya2Rvd25WaWV3KTtcbiAgICAgICAgaWYgKGFjdGl2ZVZpZXcpIHtcbiAgICAgICAgICBjb25zdCBlZGl0b3IgPSBhY3RpdmVWaWV3LmVkaXRvcjtcbiAgICAgICAgICBjb25zdCBjdXJyZW50UG9zaXRpb24gPSBlZGl0b3IuZ2V0Q3Vyc29yKCk7XG4gICAgICAgICAgY29uc29sZS5sb2coXCJUcmFuc2NyaXB0OiBcIiwgdHJhbnNjcmlwdCk7XG5cbiAgICAgICAgICBpZiAoaXNGaW5hbCkge1xuICAgICAgICAgICAgY29uc29sZS5sb2coXCJGaW5hbCB0cmFuc2NyaXB0OlwiLCB0cmFuc2NyaXB0KTtcbiAgICAgICAgICAgIGNvbnN0IGZvcm1hdHRlZF90cmFuc2NyaXB0ID0gdHJhbnNjcmlwdCArIFwiIFwiO1xuICAgICAgICAgICAgY29uc3Qgc3RhcnRQb3NpdGlvbiA9IGN1cnJlbnRQb3NpdGlvbjtcbiAgICAgICAgICAgIGVkaXRvci5yZXBsYWNlUmFuZ2UoZm9ybWF0dGVkX3RyYW5zY3JpcHQsIHN0YXJ0UG9zaXRpb24pO1xuICAgICAgICAgICAgY29uc3QgZW5kUG9zaXRpb24gPSB7XG4gICAgICAgICAgICAgIGxpbmU6IGN1cnJlbnRQb3NpdGlvbi5saW5lLFxuICAgICAgICAgICAgICBjaDogY3VycmVudFBvc2l0aW9uLmNoICsgZm9ybWF0dGVkX3RyYW5zY3JpcHQubGVuZ3RoLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGVkaXRvci5zZXRDdXJzb3IoZW5kUG9zaXRpb24pOyAvLyBTZXQgdGhlIGN1cnNvciBhdCB0aGUgZW5kIG9mIHRoZSBpbnNlcnRlZCB0ZXh0XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiUGFydGlhbCB0cmFuc2NyaXB0OlwiLCB0cmFuc2NyaXB0KTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgdGhpcy5kZWVwZ3JhbS5hZGRMaXN0ZW5lcihMaXZlVHJhbnNjcmlwdGlvbkV2ZW50cy5FcnJvciwgKGVycm9yKSA9PiB7XG4gICAgICBjb25zb2xlLmVycm9yKFwiRGVlcGdyYW0gZXJyb3I6XCIsIGVycm9yKTtcbiAgICAgIHRoaXMuc3RvcFRyYW5zY3JpcHRpb24oKTtcbiAgICB9KTtcblxuICAgIGNvbnN0IG1lZGlhU3RyZWFtID0gYXdhaXQgbmF2aWdhdG9yLm1lZGlhRGV2aWNlcy5nZXRVc2VyTWVkaWEoe1xuICAgICAgYXVkaW86IHRydWUsXG4gICAgfSk7XG4gICAgY29uc3QgbWVkaWFSZWNvcmRlciA9IG5ldyBNZWRpYVJlY29yZGVyKG1lZGlhU3RyZWFtLCB7XG4gICAgICBtaW1lVHlwZTogXCJhdWRpby93ZWJtXCIsXG4gICAgfSk7XG5cbiAgICB0aGlzLm1lZGlhUmVjb3JkZXIgPSBtZWRpYVJlY29yZGVyO1xuXG4gICAgbWVkaWFSZWNvcmRlci5hZGRFdmVudExpc3RlbmVyKFwiZGF0YWF2YWlsYWJsZVwiLCAoZXZlbnQpID0+IHtcbiAgICAgIGlmIChldmVudC5kYXRhLnNpemUgPiAwKSB7XG4gICAgICAgIGRlZXBncmFtLnNlbmQoZXZlbnQuZGF0YSk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBtZWRpYVJlY29yZGVyLnN0YXJ0KDEwMDApO1xuICB9XG5cbiAgYXN5bmMgc3RvcFRyYW5zY3JpcHRpb24oKSB7XG4gICAgY29uc29sZS5sb2coXCJTdG9wcGluZyB0cmFuc2NyaXB0aW9uXCIpO1xuICAgIHRoaXMuaXNSZWNvcmRpbmcgPSBmYWxzZTtcbiAgICB0aGlzLnVwZGF0ZVN0YXR1c0Jhckl0ZW0oKTtcblxuICAgIHRoaXMuZGVlcGdyYW0uZmluaXNoKCk7XG5cbiAgICAvLyBTdG9wIHRoZSBNZWRpYVJlY29yZGVyXG4gICAgaWYgKHRoaXMubWVkaWFSZWNvcmRlciAmJiB0aGlzLm1lZGlhUmVjb3JkZXIuc3RhdGUgIT09IFwiaW5hY3RpdmVcIikge1xuICAgICAgdGhpcy5tZWRpYVJlY29yZGVyLnN0b3AoKTtcbiAgICB9XG4gIH1cbn1cblxuY2xhc3MgRGVlcGdyYW1TZXR0aW5nVGFiIGV4dGVuZHMgUGx1Z2luU2V0dGluZ1RhYiB7XG4gIHBsdWdpbjogRGVlcGdyYW1QbHVnaW47XG5cbiAgY29uc3RydWN0b3IoYXBwOiBBcHAsIHBsdWdpbjogRGVlcGdyYW1QbHVnaW4pIHtcbiAgICBzdXBlcihhcHAsIHBsdWdpbik7XG4gICAgdGhpcy5wbHVnaW4gPSBwbHVnaW47XG4gIH1cblxuICBkaXNwbGF5KCk6IHZvaWQge1xuICAgIGxldCB7IGNvbnRhaW5lckVsIH0gPSB0aGlzO1xuICAgIGNvbnRhaW5lckVsLmVtcHR5KCk7XG5cbiAgICBuZXcgU2V0dGluZyhjb250YWluZXJFbClcbiAgICAgIC5zZXROYW1lKFwiRGVlcGdyYW0gQVBJIEtleVwiKVxuICAgICAgLnNldERlc2MoXCJFbnRlciB5b3VyIERlZXBncmFtIEFQSSBrZXlcIilcbiAgICAgIC5hZGRUZXh0KCh0ZXh0KSA9PlxuICAgICAgICB0ZXh0XG4gICAgICAgICAgLnNldFBsYWNlaG9sZGVyKFwiQVBJIEtleVwiKVxuICAgICAgICAgIC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5hcGlLZXkpXG4gICAgICAgICAgLm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xuICAgICAgICAgICAgY29uc29sZS5sb2coXCJEZWVwZ3JhbSBBUEkga2V5IHVwZGF0ZWRcIik7XG4gICAgICAgICAgICB0aGlzLnBsdWdpbi5zZXR0aW5ncy5hcGlLZXkgPSB2YWx1ZTtcbiAgICAgICAgICAgIGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xuICAgICAgICAgIH0pXG4gICAgICApO1xuXG4gICAgbmV3IFNldHRpbmcoY29udGFpbmVyRWwpXG4gICAgICAuc2V0TmFtZShcIlN1bW1hcml6ZVwiKVxuICAgICAgLnNldERlc2MoXCJFbmFibGUgc3VtbWFyaXphdGlvblwiKVxuICAgICAgLmFkZFRvZ2dsZSgodG9nZ2xlKSA9PlxuICAgICAgICB0b2dnbGVcbiAgICAgICAgICAuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3Muc3VtbWFyaXplKVxuICAgICAgICAgIC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcbiAgICAgICAgICAgIHRoaXMucGx1Z2luLnNldHRpbmdzLnN1bW1hcml6ZSA9IHZhbHVlO1xuICAgICAgICAgICAgYXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XG4gICAgICAgICAgfSlcbiAgICAgICk7XG5cbiAgICBuZXcgU2V0dGluZyhjb250YWluZXJFbClcbiAgICAgIC5zZXROYW1lKFwiVG9waWMgRGV0ZWN0aW9uXCIpXG4gICAgICAuc2V0RGVzYyhcIkVuYWJsZSB0b3BpYyBkZXRlY3Rpb25cIilcbiAgICAgIC5hZGRUb2dnbGUoKHRvZ2dsZSkgPT5cbiAgICAgICAgdG9nZ2xlXG4gICAgICAgICAgLnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLnRvcGljX2RldGVjdGlvbilcbiAgICAgICAgICAub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XG4gICAgICAgICAgICB0aGlzLnBsdWdpbi5zZXR0aW5ncy50b3BpY19kZXRlY3Rpb24gPSB2YWx1ZTtcbiAgICAgICAgICAgIGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xuICAgICAgICAgIH0pXG4gICAgICApO1xuXG4gICAgbmV3IFNldHRpbmcoY29udGFpbmVyRWwpXG4gICAgICAuc2V0TmFtZShcIkludGVudCBEZXRlY3Rpb25cIilcbiAgICAgIC5zZXREZXNjKFwiRW5hYmxlIGludGVudCBkZXRlY3Rpb25cIilcbiAgICAgIC5hZGRUb2dnbGUoKHRvZ2dsZSkgPT5cbiAgICAgICAgdG9nZ2xlXG4gICAgICAgICAgLnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLmludGVudF9kZXRlY3Rpb24pXG4gICAgICAgICAgLm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xuICAgICAgICAgICAgdGhpcy5wbHVnaW4uc2V0dGluZ3MuaW50ZW50X2RldGVjdGlvbiA9IHZhbHVlO1xuICAgICAgICAgICAgYXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XG4gICAgICAgICAgfSlcbiAgICAgICk7XG5cbiAgICBuZXcgU2V0dGluZyhjb250YWluZXJFbClcbiAgICAgIC5zZXROYW1lKFwiU2VudGltZW50XCIpXG4gICAgICAuc2V0RGVzYyhcIkVuYWJsZSBzZW50aW1lbnQgYW5hbHlzaXNcIilcbiAgICAgIC5hZGRUb2dnbGUoKHRvZ2dsZSkgPT5cbiAgICAgICAgdG9nZ2xlXG4gICAgICAgICAgLnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLnNlbnRpbWVudClcbiAgICAgICAgICAub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XG4gICAgICAgICAgICB0aGlzLnBsdWdpbi5zZXR0aW5ncy5zZW50aW1lbnQgPSB2YWx1ZTtcbiAgICAgICAgICAgIGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xuICAgICAgICAgIH0pXG4gICAgICApO1xuXG4gICAgbmV3IFNldHRpbmcoY29udGFpbmVyRWwpXG4gICAgICAuc2V0TmFtZShcIlNtYXJ0IEZvcm1hdHRpbmdcIilcbiAgICAgIC5zZXREZXNjKFwiRW5hYmxlIHNtYXJ0IGZvcm1hdHRpbmdcIilcbiAgICAgIC5hZGRUb2dnbGUoKHRvZ2dsZSkgPT5cbiAgICAgICAgdG9nZ2xlXG4gICAgICAgICAgLnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLnNtYXJ0X2Zvcm1hdClcbiAgICAgICAgICAub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XG4gICAgICAgICAgICB0aGlzLnBsdWdpbi5zZXR0aW5ncy5zbWFydF9mb3JtYXQgPSB2YWx1ZTtcbiAgICAgICAgICAgIGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xuICAgICAgICAgIH0pXG4gICAgICApO1xuXG4gICAgbmV3IFNldHRpbmcoY29udGFpbmVyRWwpXG4gICAgICAuc2V0TmFtZShcIlB1bmN0dWF0aW9uXCIpXG4gICAgICAuc2V0RGVzYyhcIkVuYWJsZSBwdW5jdHVhdGlvblwiKVxuICAgICAgLmFkZFRvZ2dsZSgodG9nZ2xlKSA9PlxuICAgICAgICB0b2dnbGVcbiAgICAgICAgICAuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3MucHVuY3R1YXRpb24pXG4gICAgICAgICAgLm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xuICAgICAgICAgICAgdGhpcy5wbHVnaW4uc2V0dGluZ3MucHVuY3R1YXRpb24gPSB2YWx1ZTtcbiAgICAgICAgICAgIGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xuICAgICAgICAgIH0pXG4gICAgICApO1xuXG4gICAgbmV3IFNldHRpbmcoY29udGFpbmVyRWwpXG4gICAgICAuc2V0TmFtZShcIlBhcmFncmFwaHNcIilcbiAgICAgIC5zZXREZXNjKFwiRW5hYmxlIHBhcmFncmFwaCBkZXRlY3Rpb25cIilcbiAgICAgIC5hZGRUb2dnbGUoKHRvZ2dsZSkgPT5cbiAgICAgICAgdG9nZ2xlXG4gICAgICAgICAgLnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLnBhcmFncmFwaHMpXG4gICAgICAgICAgLm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xuICAgICAgICAgICAgdGhpcy5wbHVnaW4uc2V0dGluZ3MucGFyYWdyYXBocyA9IHZhbHVlO1xuICAgICAgICAgICAgYXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XG4gICAgICAgICAgfSlcbiAgICAgICk7XG5cbiAgICBuZXcgU2V0dGluZyhjb250YWluZXJFbClcbiAgICAgIC5zZXROYW1lKFwiVXR0ZXJhbmNlc1wiKVxuICAgICAgLnNldERlc2MoXCJFbmFibGUgdXR0ZXJhbmNlIGRldGVjdGlvblwiKVxuICAgICAgLmFkZFRvZ2dsZSgodG9nZ2xlKSA9PlxuICAgICAgICB0b2dnbGVcbiAgICAgICAgICAuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3MudXR0ZXJhbmNlcylcbiAgICAgICAgICAub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XG4gICAgICAgICAgICB0aGlzLnBsdWdpbi5zZXR0aW5ncy51dHRlcmFuY2VzID0gdmFsdWU7XG4gICAgICAgICAgICBhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcbiAgICAgICAgICB9KVxuICAgICAgKTtcblxuICAgIG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxuICAgICAgLnNldE5hbWUoXCJGaWxsZXIgV29yZHNcIilcbiAgICAgIC5zZXREZXNjKFwiSW5jbHVkZSBmaWxsZXIgd29yZHNcIilcbiAgICAgIC5hZGRUb2dnbGUoKHRvZ2dsZSkgPT5cbiAgICAgICAgdG9nZ2xlXG4gICAgICAgICAgLnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLmZpbGxlcl93b3JkcylcbiAgICAgICAgICAub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XG4gICAgICAgICAgICB0aGlzLnBsdWdpbi5zZXR0aW5ncy5maWxsZXJfd29yZHMgPSB2YWx1ZTtcbiAgICAgICAgICAgIGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xuICAgICAgICAgIH0pXG4gICAgICApO1xuICAgIC8vIEFkZCBzZXR0aW5ncyBmb3Igb3RoZXIgdHJhbnNjcmlwdGlvbiBvcHRpb25zXG4gICAgLy8gLi4uXG4gIH1cbn1cbiIsICJleHBvcnQgY2xhc3MgRGVlcGdyYW1FcnJvciBleHRlbmRzIEVycm9yIHtcbiAgcHJvdGVjdGVkIF9fZGdFcnJvciA9IHRydWU7XG5cbiAgY29uc3RydWN0b3IobWVzc2FnZTogc3RyaW5nKSB7XG4gICAgc3VwZXIobWVzc2FnZSk7XG4gICAgdGhpcy5uYW1lID0gXCJEZWVwZ3JhbUVycm9yXCI7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlzRGVlcGdyYW1FcnJvcihlcnJvcjogdW5rbm93bik6IGVycm9yIGlzIERlZXBncmFtRXJyb3Ige1xuICByZXR1cm4gdHlwZW9mIGVycm9yID09PSBcIm9iamVjdFwiICYmIGVycm9yICE9PSBudWxsICYmIFwiX19kZ0Vycm9yXCIgaW4gZXJyb3I7XG59XG5cbmV4cG9ydCBjbGFzcyBEZWVwZ3JhbUFwaUVycm9yIGV4dGVuZHMgRGVlcGdyYW1FcnJvciB7XG4gIHN0YXR1czogbnVtYmVyO1xuXG4gIGNvbnN0cnVjdG9yKG1lc3NhZ2U6IHN0cmluZywgc3RhdHVzOiBudW1iZXIpIHtcbiAgICBzdXBlcihtZXNzYWdlKTtcbiAgICB0aGlzLm5hbWUgPSBcIkRlZXBncmFtQXBpRXJyb3JcIjtcbiAgICB0aGlzLnN0YXR1cyA9IHN0YXR1cztcbiAgfVxuXG4gIHRvSlNPTigpIHtcbiAgICByZXR1cm4ge1xuICAgICAgbmFtZTogdGhpcy5uYW1lLFxuICAgICAgbWVzc2FnZTogdGhpcy5tZXNzYWdlLFxuICAgICAgc3RhdHVzOiB0aGlzLnN0YXR1cyxcbiAgICB9O1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBEZWVwZ3JhbVVua25vd25FcnJvciBleHRlbmRzIERlZXBncmFtRXJyb3Ige1xuICBvcmlnaW5hbEVycm9yOiB1bmtub3duO1xuXG4gIGNvbnN0cnVjdG9yKG1lc3NhZ2U6IHN0cmluZywgb3JpZ2luYWxFcnJvcjogdW5rbm93bikge1xuICAgIHN1cGVyKG1lc3NhZ2UpO1xuICAgIHRoaXMubmFtZSA9IFwiRGVlcGdyYW1Vbmtub3duRXJyb3JcIjtcbiAgICB0aGlzLm9yaWdpbmFsRXJyb3IgPSBvcmlnaW5hbEVycm9yO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBEZWVwZ3JhbVZlcnNpb25FcnJvciBleHRlbmRzIERlZXBncmFtRXJyb3Ige1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcihcbiAgICAgIGBZb3UgYXJlIGF0dGVtcHRpbmcgdG8gdXNlIGFuIG9sZCBmb3JtYXQgZm9yIGEgbmV3ZXIgU0RLIHZlcnNpb24uIFJlYWQgbW9yZSBoZXJlOiBodHRwczovL2RwZ3IuYW0vanMtdjNgXG4gICAgKTtcblxuICAgIHRoaXMubmFtZSA9IFwiRGVlcGdyYW1WZXJzaW9uRXJyb3JcIjtcbiAgfVxufVxuIiwgImltcG9ydCB7IEhlYWRlcnMgYXMgQ3Jvc3NGZXRjaEhlYWRlcnMgfSBmcm9tIFwiY3Jvc3MtZmV0Y2hcIjtcbmltcG9ydCB7XG4gIERlZXBncmFtQ2xpZW50T3B0aW9ucyxcbiAgRmlsZVNvdXJjZSxcbiAgUHJlcmVjb3JkZWRTb3VyY2UsXG4gIFVybFNvdXJjZSxcbiAgVGV4dFNvdXJjZSxcbiAgQW5hbHl6ZVNvdXJjZSxcbn0gZnJvbSBcIi4vdHlwZXNcIjtcbmltcG9ydCB7IFJlYWRhYmxlIH0gZnJvbSBcInN0cmVhbVwiO1xuaW1wb3J0IG1lcmdlIGZyb20gXCJkZWVwbWVyZ2VcIjtcblxuZXhwb3J0IGZ1bmN0aW9uIHN0cmlwVHJhaWxpbmdTbGFzaCh1cmw6IHN0cmluZyk6IHN0cmluZyB7XG4gIHJldHVybiB1cmwucmVwbGFjZSgvXFwvJC8sIFwiXCIpO1xufVxuXG5leHBvcnQgY29uc3QgaXNCcm93c2VyID0gKCkgPT4gdHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIjtcbmV4cG9ydCBjb25zdCBpc1NlcnZlciA9ICgpID0+IHR5cGVvZiBwcm9jZXNzICE9PSBcInVuZGVmaW5lZFwiO1xuXG5leHBvcnQgZnVuY3Rpb24gYXBwbHlTZXR0aW5nRGVmYXVsdHMoXG4gIG9wdGlvbnM6IERlZXBncmFtQ2xpZW50T3B0aW9ucyxcbiAgZGVmYXVsdHM6IERlZXBncmFtQ2xpZW50T3B0aW9uc1xuKTogRGVlcGdyYW1DbGllbnRPcHRpb25zIHtcbiAgcmV0dXJuIG1lcmdlKGRlZmF1bHRzLCBvcHRpb25zKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGFwcGVuZFNlYXJjaFBhcmFtcyhcbiAgc2VhcmNoUGFyYW1zOiBVUkxTZWFyY2hQYXJhbXMsXG4gIG9wdGlvbnM6IFJlY29yZDxzdHJpbmcsIHVua25vd24+XG4pOiB2b2lkIHtcbiAgT2JqZWN0LmtleXMob3B0aW9ucykuZm9yRWFjaCgoaSkgPT4ge1xuICAgIGlmIChBcnJheS5pc0FycmF5KG9wdGlvbnNbaV0pKSB7XG4gICAgICBjb25zdCBhcnJheVBhcmFtcyA9IG9wdGlvbnNbaV0gYXMgQXJyYXk8YW55PjtcbiAgICAgIGFycmF5UGFyYW1zLmZvckVhY2goKHBhcmFtKSA9PiB7XG4gICAgICAgIHNlYXJjaFBhcmFtcy5hcHBlbmQoaSwgU3RyaW5nKHBhcmFtKSk7XG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgc2VhcmNoUGFyYW1zLmFwcGVuZChpLCBTdHJpbmcob3B0aW9uc1tpXSkpO1xuICAgIH1cbiAgfSk7XG59XG5cbmV4cG9ydCBjb25zdCByZXNvbHZlSGVhZGVyc0NvbnN0cnVjdG9yID0gKCkgPT4ge1xuICBpZiAodHlwZW9mIEhlYWRlcnMgPT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICByZXR1cm4gQ3Jvc3NGZXRjaEhlYWRlcnM7XG4gIH1cblxuICByZXR1cm4gSGVhZGVycztcbn07XG5cbmV4cG9ydCBjb25zdCBpc1VybFNvdXJjZSA9IChcbiAgcHJvdmlkZWRTb3VyY2U6IFByZXJlY29yZGVkU291cmNlIHwgQW5hbHl6ZVNvdXJjZVxuKTogcHJvdmlkZWRTb3VyY2UgaXMgVXJsU291cmNlID0+IHtcbiAgaWYgKChwcm92aWRlZFNvdXJjZSBhcyBVcmxTb3VyY2UpLnVybCkgcmV0dXJuIHRydWU7XG5cbiAgcmV0dXJuIGZhbHNlO1xufTtcblxuZXhwb3J0IGNvbnN0IGlzVGV4dFNvdXJjZSA9IChcbiAgcHJvdmlkZWRTb3VyY2U6IFByZXJlY29yZGVkU291cmNlIHwgQW5hbHl6ZVNvdXJjZVxuKTogcHJvdmlkZWRTb3VyY2UgaXMgVGV4dFNvdXJjZSA9PiB7XG4gIGlmICgocHJvdmlkZWRTb3VyY2UgYXMgVGV4dFNvdXJjZSkudGV4dCkgcmV0dXJuIHRydWU7XG5cbiAgcmV0dXJuIGZhbHNlO1xufTtcblxuZXhwb3J0IGNvbnN0IGlzRmlsZVNvdXJjZSA9IChwcm92aWRlZFNvdXJjZTogUHJlcmVjb3JkZWRTb3VyY2UpOiBwcm92aWRlZFNvdXJjZSBpcyBGaWxlU291cmNlID0+IHtcbiAgaWYgKGlzUmVhZFN0cmVhbVNvdXJjZShwcm92aWRlZFNvdXJjZSkgfHwgaXNCdWZmZXJTb3VyY2UocHJvdmlkZWRTb3VyY2UpKSByZXR1cm4gdHJ1ZTtcblxuICByZXR1cm4gZmFsc2U7XG59O1xuXG5jb25zdCBpc0J1ZmZlclNvdXJjZSA9IChwcm92aWRlZFNvdXJjZTogUHJlcmVjb3JkZWRTb3VyY2UpOiBwcm92aWRlZFNvdXJjZSBpcyBCdWZmZXIgPT4ge1xuICBpZiAocHJvdmlkZWRTb3VyY2UgYXMgQnVmZmVyKSByZXR1cm4gdHJ1ZTtcblxuICByZXR1cm4gZmFsc2U7XG59O1xuXG5jb25zdCBpc1JlYWRTdHJlYW1Tb3VyY2UgPSAocHJvdmlkZWRTb3VyY2U6IFByZXJlY29yZGVkU291cmNlKTogcHJvdmlkZWRTb3VyY2UgaXMgUmVhZGFibGUgPT4ge1xuICBpZiAocHJvdmlkZWRTb3VyY2UgYXMgUmVhZGFibGUpIHJldHVybiB0cnVlO1xuXG4gIHJldHVybiBmYWxzZTtcbn07XG5cbmV4cG9ydCBjbGFzcyBDYWxsYmFja1VybCBleHRlbmRzIFVSTCB7XG4gIHByaXZhdGUgY2FsbGJhY2tVcmwgPSB0cnVlO1xufVxuIiwgImV4cG9ydCBjb25zdCB2ZXJzaW9uID0gXCIzLjMuMVwiO1xuIiwgImltcG9ydCB7IGlzQnJvd3NlciB9IGZyb20gXCIuL2hlbHBlcnNcIjtcbmltcG9ydCB7IERlZXBncmFtQ2xpZW50T3B0aW9ucyB9IGZyb20gXCIuL3R5cGVzL0RlZXBncmFtQ2xpZW50T3B0aW9uc1wiO1xuaW1wb3J0IHsgRmV0Y2hPcHRpb25zIH0gZnJvbSBcIi4vdHlwZXMvRmV0Y2hcIjtcbmltcG9ydCB7IHZlcnNpb24gfSBmcm9tIFwiLi92ZXJzaW9uXCI7XG5cbmV4cG9ydCBjb25zdCBOT0RFX1ZFUlNJT04gPSBwcm9jZXNzLnZlcnNpb25zLm5vZGU7XG5cbmV4cG9ydCBjb25zdCBERUZBVUxUX0hFQURFUlMgPSB7XG4gIFwiQ29udGVudC1UeXBlXCI6IGBhcHBsaWNhdGlvbi9qc29uYCxcbiAgXCJYLUNsaWVudC1JbmZvXCI6IGBAZGVlcGdyYW0vc2RrOyAke2lzQnJvd3NlcigpID8gXCJicm93c2VyXCIgOiBcInNlcnZlclwifTsgdiR7dmVyc2lvbn1gLFxuICBcIlVzZXItQWdlbnRcIjogYEBkZWVwZ3JhbS9zZGsvJHt2ZXJzaW9ufSAke2lzQnJvd3NlcigpID8gXCJqYXZhc2NyaXB0XCIgOiBgbm9kZS8ke05PREVfVkVSU0lPTn1gfWAsXG59O1xuXG5leHBvcnQgY29uc3QgREVGQVVMVF9VUkwgPSBcImh0dHBzOi8vYXBpLmRlZXBncmFtLmNvbVwiO1xuXG5leHBvcnQgY29uc3QgREVGQVVMVF9HTE9CQUxfT1BUSU9OUyA9IHtcbiAgdXJsOiBERUZBVUxUX1VSTCxcbn07XG5cbmV4cG9ydCBjb25zdCBERUZBVUxUX0ZFVENIX09QVElPTlM6IEZldGNoT3B0aW9ucyA9IHtcbiAgaGVhZGVyczogREVGQVVMVF9IRUFERVJTLFxufTtcblxuZXhwb3J0IGNvbnN0IERFRkFVTFRfT1BUSU9OUzogRGVlcGdyYW1DbGllbnRPcHRpb25zID0ge1xuICBnbG9iYWw6IERFRkFVTFRfR0xPQkFMX09QVElPTlMsXG4gIGZldGNoOiBERUZBVUxUX0ZFVENIX09QVElPTlMsXG59O1xuIiwgImltcG9ydCB7IERFRkFVTFRfT1BUSU9OUywgREVGQVVMVF9VUkwgfSBmcm9tIFwiLi4vbGliL2NvbnN0YW50c1wiO1xuaW1wb3J0IHsgRGVlcGdyYW1FcnJvciB9IGZyb20gXCIuLi9saWIvZXJyb3JzXCI7XG5pbXBvcnQgeyBhcHBseVNldHRpbmdEZWZhdWx0cywgc3RyaXBUcmFpbGluZ1NsYXNoIH0gZnJvbSBcIi4uL2xpYi9oZWxwZXJzXCI7XG5pbXBvcnQgeyBEZWVwZ3JhbUNsaWVudE9wdGlvbnMgfSBmcm9tIFwiLi4vbGliL3R5cGVzXCI7XG5cbi8qKlxuICogRGVlcGdyYW0gQ2xpZW50LlxuICpcbiAqIEFuIGlzb21vcnBoaWMgSmF2YXNjcmlwdCBjbGllbnQgZm9yIGludGVyYWN0aW5nIHdpdGggdGhlIERlZXBncmFtIEFQSS5cbiAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXJzLmRlZXBncmFtLmNvbVxuICovXG5leHBvcnQgYWJzdHJhY3QgY2xhc3MgQWJzdHJhY3RDbGllbnQge1xuICBwcm90ZWN0ZWQgYmFzZVVybDogVVJMO1xuXG4gIGNvbnN0cnVjdG9yKHByb3RlY3RlZCBrZXk6IHN0cmluZywgcHJvdGVjdGVkIG9wdGlvbnM6IERlZXBncmFtQ2xpZW50T3B0aW9ucykge1xuICAgIHRoaXMua2V5ID0ga2V5O1xuXG4gICAgaWYgKCFrZXkpIHtcbiAgICAgIHRoaXMua2V5ID0gcHJvY2Vzcy5lbnYuREVFUEdSQU1fQVBJX0tFWSBhcyBzdHJpbmc7XG4gICAgfVxuXG4gICAgaWYgKCF0aGlzLmtleSkge1xuICAgICAgdGhyb3cgbmV3IERlZXBncmFtRXJyb3IoXCJBIGRlZXBncmFtIEFQSSBrZXkgaXMgcmVxdWlyZWRcIik7XG4gICAgfVxuXG4gICAgdGhpcy5vcHRpb25zID0gYXBwbHlTZXR0aW5nRGVmYXVsdHMob3B0aW9ucywgREVGQVVMVF9PUFRJT05TKTtcblxuICAgIGlmICghdGhpcy5vcHRpb25zLmdsb2JhbD8udXJsKSB7XG4gICAgICB0aHJvdyBuZXcgRGVlcGdyYW1FcnJvcihcbiAgICAgICAgYEFuIEFQSSBVUkwgaXMgcmVxdWlyZWQuIEl0IHNob3VsZCBiZSBzZXQgdG8gJHtERUZBVUxUX1VSTH0gYnkgZGVmYXVsdC4gTm8gaWRlYSB3aGF0IGhhcHBlbmVkIWBcbiAgICAgICk7XG4gICAgfVxuXG4gICAgbGV0IGJhc2VVcmxTdHJpbmc6IHN0cmluZyA9IHRoaXMub3B0aW9ucy5nbG9iYWwudXJsO1xuICAgIGxldCBwcm94eVVybFN0cmluZzogc3RyaW5nO1xuXG4gICAgLyoqXG4gICAgICogQ2hlY2sgaWYgdGhlIGJhc2UgVVJMIHByb3ZpZGVkIGlzIG1pc3NpbmcgYSBwcm90b2NvbCBhbmQgd2FybiBpbiB0aGUgY29uc29sZS5cbiAgICAgKi9cbiAgICBpZiAoIWJhc2VVcmxTdHJpbmcuc3RhcnRzV2l0aChcImh0dHBcIikgJiYgIWJhc2VVcmxTdHJpbmcuc3RhcnRzV2l0aChcIndzXCIpKSB7XG4gICAgICBjb25zb2xlLndhcm4oXG4gICAgICAgIGBUaGUgYmFzZSBVUkwgcHJvdmlkZWQgZG9lcyBub3QgYmVnaW4gd2l0aCBodHRwLCBodHRwcywgd3MsIG9yIHdzcyBhbmQgd2lsbCBkZWZhdWx0IHRvIGh0dHBzIGFzIHN0YW5kYXJkLmBcbiAgICAgICk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQXBwbHlpbmcgcHJveHkgdG8gYmFzZSBVUkwuXG4gICAgICovXG4gICAgaWYgKHRoaXMub3B0aW9ucy5yZXN0UHJveHk/LnVybCkge1xuICAgICAgLyoqXG4gICAgICAgKiBQcmV2ZW50IGNsaWVudCB1c2luZyBhIHJlYWwgQVBJIGtleSB3aGVuIHVzaW5nIGEgcHJveHkgY29uZmlndXJhdGlvbi5cbiAgICAgICAqL1xuICAgICAgaWYgKHRoaXMua2V5ICE9PSBcInByb3h5XCIpIHtcbiAgICAgICAgdGhyb3cgbmV3IERlZXBncmFtRXJyb3IoXG4gICAgICAgICAgYERvIG5vdCBhdHRlbXB0IHRvIHBhc3MgYW55IG90aGVyIEFQSSBrZXkgdGhhbiB0aGUgc3RyaW5nIFwicHJveHlcIiB3aGVuIG1ha2luZyBwcm94aWVkIFJFU1QgcmVxdWVzdHMuIFBsZWFzZSBlbnN1cmUgeW91ciBwcm94eSBhcHBsaWNhdGlvbiBpcyByZXNwb25zaWJsZSBmb3Igd3JpdGluZyBvdXIgQVBJIGtleSB0byB0aGUgQXV0aG9yaXphdGlvbiBoZWFkZXIuYFxuICAgICAgICApO1xuICAgICAgfVxuXG4gICAgICBwcm94eVVybFN0cmluZyA9IHRoaXMub3B0aW9ucy5yZXN0UHJveHkudXJsO1xuXG4gICAgICAvKipcbiAgICAgICAqIENoZWNrIGlmIHRoZSBwcm94eSBVUkwgcHJvdmlkZWQgaXMgbWlzc2luZyBhIHByb3RvY29sIGFuZCB3YXJuIGluIHRoZSBjb25zb2xlLlxuICAgICAgICovXG4gICAgICBpZiAoIXByb3h5VXJsU3RyaW5nLnN0YXJ0c1dpdGgoXCJodHRwXCIpICYmICFwcm94eVVybFN0cmluZy5zdGFydHNXaXRoKFwid3NcIikpIHtcbiAgICAgICAgY29uc29sZS53YXJuKFxuICAgICAgICAgIGBUaGUgcHJveHkgVVJMIHByb3ZpZGVkIGRvZXMgbm90IGJlZ2luIHdpdGggaHR0cCwgaHR0cHMsIHdzLCBvciB3c3MgYW5kIHdpbGwgZGVmYXVsdCB0byBodHRwcyBhcyBzdGFuZGFyZC5gXG4gICAgICAgICk7XG4gICAgICB9XG5cbiAgICAgIGJhc2VVcmxTdHJpbmcgPSBwcm94eVVybFN0cmluZztcbiAgICB9XG5cbiAgICB0aGlzLmJhc2VVcmwgPSB0aGlzLnJlc29sdmVCYXNlVXJsKGJhc2VVcmxTdHJpbmcpO1xuICB9XG5cbiAgcHJvdGVjdGVkIHJlc29sdmVCYXNlVXJsKHVybDogc3RyaW5nKSB7XG4gICAgaWYgKCEvXmh0dHBzPzpcXC9cXC8vaS50ZXN0KHVybCkpIHtcbiAgICAgIHVybCA9IFwiaHR0cHM6Ly9cIiArIHVybDtcbiAgICB9XG5cbiAgICByZXR1cm4gbmV3IFVSTChzdHJpcFRyYWlsaW5nU2xhc2godXJsKSk7XG4gIH1cblxuICBwcm90ZWN0ZWQgd2lsbFByb3h5KCkge1xuICAgIGNvbnN0IHByb3h5VXJsID0gdGhpcy5vcHRpb25zLnJlc3RQcm94eT8udXJsO1xuXG4gICAgcmV0dXJuICEhcHJveHlVcmw7XG4gIH1cbn1cbiIsICJpbXBvcnQgeyBFdmVudEVtaXR0ZXIgfSBmcm9tIFwiZXZlbnRzXCI7XG5pbXBvcnQgeyBERUZBVUxUX09QVElPTlMsIERFRkFVTFRfVVJMIH0gZnJvbSBcIi4uL2xpYi9jb25zdGFudHNcIjtcbmltcG9ydCB7IGFwcGx5U2V0dGluZ0RlZmF1bHRzLCBzdHJpcFRyYWlsaW5nU2xhc2ggfSBmcm9tIFwiLi4vbGliL2hlbHBlcnNcIjtcbmltcG9ydCB7IERlZXBncmFtQ2xpZW50T3B0aW9ucyB9IGZyb20gXCIuLi9saWIvdHlwZXNcIjtcblxuZXhwb3J0IGFic3RyYWN0IGNsYXNzIEFic3RyYWN0V3NDbGllbnQgZXh0ZW5kcyBFdmVudEVtaXR0ZXIge1xuICBwcm90ZWN0ZWQgYmFzZVVybDogVVJMO1xuXG4gIGNvbnN0cnVjdG9yKFxuICAgIHByb3RlY3RlZCBrZXk6IHN0cmluZyxcbiAgICBwcm90ZWN0ZWQgb3B0aW9uczogRGVlcGdyYW1DbGllbnRPcHRpb25zIHwgdW5kZWZpbmVkID0gREVGQVVMVF9PUFRJT05TXG4gICkge1xuICAgIHN1cGVyKCk7XG5cbiAgICB0aGlzLmtleSA9IGtleTtcblxuICAgIGlmICgha2V5KSB7XG4gICAgICB0aGlzLmtleSA9IHByb2Nlc3MuZW52LkRFRVBHUkFNX0FQSV9LRVkgYXMgc3RyaW5nO1xuICAgIH1cblxuICAgIGlmICghdGhpcy5rZXkpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIkEgZGVlcGdyYW0gQVBJIGtleSBpcyByZXF1aXJlZFwiKTtcbiAgICB9XG5cbiAgICB0aGlzLm9wdGlvbnMgPSBhcHBseVNldHRpbmdEZWZhdWx0cyhvcHRpb25zLCBERUZBVUxUX09QVElPTlMpO1xuXG4gICAgaWYgKCF0aGlzLm9wdGlvbnMuZ2xvYmFsPy51cmwpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgYEFuIEFQSSBVUkwgaXMgcmVxdWlyZWQuIEl0IHNob3VsZCBiZSBzZXQgdG8gJHtERUZBVUxUX1VSTH0gYnkgZGVmYXVsdC4gTm8gaWRlYSB3aGF0IGhhcHBlbmVkIWBcbiAgICAgICk7XG4gICAgfVxuXG4gICAgbGV0IHVybCA9IHRoaXMub3B0aW9ucy5nbG9iYWwudXJsO1xuXG4gICAgaWYgKCEvXmh0dHBzPzpcXC9cXC8vaS50ZXN0KHVybCkpIHtcbiAgICAgIHVybCA9IFwiaHR0cHM6Ly9cIiArIHVybDtcbiAgICB9XG5cbiAgICB0aGlzLmJhc2VVcmwgPSBuZXcgVVJMKHN0cmlwVHJhaWxpbmdTbGFzaCh1cmwpKTtcbiAgICB0aGlzLmJhc2VVcmwucHJvdG9jb2wgPSB0aGlzLmJhc2VVcmwucHJvdG9jb2wudG9Mb3dlckNhc2UoKS5yZXBsYWNlKC8oaHR0cCkocyk/L2dpLCBcIndzJDJcIik7XG4gIH1cbn1cbiIsICJleHBvcnQgZW51bSBMaXZlQ29ubmVjdGlvblN0YXRlIHtcbiAgQ09OTkVDVElORyA9IDAsXG4gIE9QRU4gPSAxLFxuICBDTE9TSU5HID0gMixcbiAgQ0xPU0VEID0gMyxcbn1cbiIsICJleHBvcnQgZW51bSBMaXZlVHJhbnNjcmlwdGlvbkV2ZW50cyB7XG4gIE9wZW4gPSBcIm9wZW5cIixcbiAgQ2xvc2UgPSBcImNsb3NlXCIsXG4gIFRyYW5zY3JpcHQgPSBcIlJlc3VsdHNcIiwgLy8gZXhhY3QgbWF0Y2ggdG8gZGF0YSB0eXBlIGZyb20gQVBJXG4gIE1ldGFkYXRhID0gXCJNZXRhZGF0YVwiLCAvLyBleGFjdCBtYXRjaCB0byBkYXRhIHR5cGUgZnJvbSBBUElcbiAgRXJyb3IgPSBcImVycm9yXCIsXG4gIFdhcm5pbmcgPSBcIndhcm5pbmdcIixcbiAgVXR0ZXJhbmNlRW5kID0gXCJVdHRlcmFuY2VFbmRcIiwgLy8gZXhhY3QgbWF0Y2ggdG8gZGF0YSB0eXBlIGZyb20gQVBJXG4gIFNwZWVjaFN0YXJ0ZWQgPSBcIlNwZWVjaFN0YXJ0ZWRcIixcbn1cbiIsICJpbXBvcnQgeyBBYnN0cmFjdFdzQ2xpZW50IH0gZnJvbSBcIi4vQWJzdHJhY3RXc0NsaWVudFwiO1xuaW1wb3J0IHsgYXBwZW5kU2VhcmNoUGFyYW1zIH0gZnJvbSBcIi4uL2xpYi9oZWxwZXJzXCI7XG5pbXBvcnQgeyBEZWVwZ3JhbUVycm9yIH0gZnJvbSBcIi4uL2xpYi9lcnJvcnNcIjtcbmltcG9ydCB7IERFRkFVTFRfT1BUSU9OUyB9IGZyb20gXCIuLi9saWIvY29uc3RhbnRzXCI7XG5pbXBvcnQgeyBMaXZlQ29ubmVjdGlvblN0YXRlLCBMaXZlVHJhbnNjcmlwdGlvbkV2ZW50cyB9IGZyb20gXCIuLi9saWIvZW51bXNcIjtcbmltcG9ydCB7IHczY3dlYnNvY2tldCB9IGZyb20gXCJ3ZWJzb2NrZXRcIjtcblxuaW1wb3J0IHR5cGUge1xuICBMaXZlU2NoZW1hLFxuICBMaXZlQ29uZmlnT3B0aW9ucyxcbiAgTGl2ZU1ldGFkYXRhRXZlbnQsXG4gIExpdmVUcmFuc2NyaXB0aW9uRXZlbnQsXG4gIERlZXBncmFtQ2xpZW50T3B0aW9ucyxcbiAgVXR0ZXJhbmNlRW5kRXZlbnQsXG4gIFNwZWVjaFN0YXJ0ZWRFdmVudCxcbn0gZnJvbSBcIi4uL2xpYi90eXBlc1wiO1xuXG5leHBvcnQgY2xhc3MgTGl2ZUNsaWVudCBleHRlbmRzIEFic3RyYWN0V3NDbGllbnQge1xuICBwcml2YXRlIF9zb2NrZXQ6IHczY3dlYnNvY2tldDtcblxuICBjb25zdHJ1Y3RvcihcbiAgICBwcm90ZWN0ZWQga2V5OiBzdHJpbmcsXG4gICAgcHJvdGVjdGVkIG9wdGlvbnM6IERlZXBncmFtQ2xpZW50T3B0aW9ucyB8IHVuZGVmaW5lZCA9IERFRkFVTFRfT1BUSU9OUyxcbiAgICBwcml2YXRlIHRyYW5zY3JpcHRpb25PcHRpb25zOiBMaXZlU2NoZW1hID0ge30sXG4gICAgZW5kcG9pbnQgPSBcInYxL2xpc3RlblwiXG4gICkge1xuICAgIHN1cGVyKGtleSwgb3B0aW9ucyk7XG5cbiAgICBjb25zdCB1cmwgPSBuZXcgVVJMKGVuZHBvaW50LCB0aGlzLmJhc2VVcmwpO1xuICAgIHVybC5wcm90b2NvbCA9IHVybC5wcm90b2NvbC50b0xvd2VyQ2FzZSgpLnJlcGxhY2UoLyhodHRwKShzKT8vZ2ksIFwid3MkMlwiKTtcbiAgICBhcHBlbmRTZWFyY2hQYXJhbXModXJsLnNlYXJjaFBhcmFtcywgdGhpcy50cmFuc2NyaXB0aW9uT3B0aW9ucyk7XG5cbiAgICB0aGlzLl9zb2NrZXQgPSBuZXcgdzNjd2Vic29ja2V0KHVybC50b1N0cmluZygpLCBbXCJ0b2tlblwiLCB0aGlzLmtleV0pO1xuXG4gICAgdGhpcy5fc29ja2V0Lm9ub3BlbiA9ICgpID0+IHtcbiAgICAgIHRoaXMuZW1pdChMaXZlVHJhbnNjcmlwdGlvbkV2ZW50cy5PcGVuLCB0aGlzKTtcbiAgICB9O1xuXG4gICAgdGhpcy5fc29ja2V0Lm9uY2xvc2UgPSAoZXZlbnQ6IGFueSkgPT4ge1xuICAgICAgdGhpcy5lbWl0KExpdmVUcmFuc2NyaXB0aW9uRXZlbnRzLkNsb3NlLCBldmVudCk7XG4gICAgfTtcblxuICAgIHRoaXMuX3NvY2tldC5vbmVycm9yID0gKGV2ZW50KSA9PiB7XG4gICAgICB0aGlzLmVtaXQoTGl2ZVRyYW5zY3JpcHRpb25FdmVudHMuRXJyb3IsIGV2ZW50KTtcbiAgICB9O1xuXG4gICAgdGhpcy5fc29ja2V0Lm9ubWVzc2FnZSA9IChldmVudCkgPT4ge1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgZGF0YTogYW55ID0gSlNPTi5wYXJzZShldmVudC5kYXRhLnRvU3RyaW5nKCkpO1xuXG4gICAgICAgIGlmIChkYXRhLnR5cGUgPT09IExpdmVUcmFuc2NyaXB0aW9uRXZlbnRzLk1ldGFkYXRhKSB7XG4gICAgICAgICAgdGhpcy5lbWl0KExpdmVUcmFuc2NyaXB0aW9uRXZlbnRzLk1ldGFkYXRhLCBkYXRhIGFzIExpdmVNZXRhZGF0YUV2ZW50KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChkYXRhLnR5cGUgPT09IExpdmVUcmFuc2NyaXB0aW9uRXZlbnRzLlRyYW5zY3JpcHQpIHtcbiAgICAgICAgICB0aGlzLmVtaXQoTGl2ZVRyYW5zY3JpcHRpb25FdmVudHMuVHJhbnNjcmlwdCwgZGF0YSBhcyBMaXZlVHJhbnNjcmlwdGlvbkV2ZW50KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChkYXRhLnR5cGUgPT09IExpdmVUcmFuc2NyaXB0aW9uRXZlbnRzLlV0dGVyYW5jZUVuZCkge1xuICAgICAgICAgIHRoaXMuZW1pdChMaXZlVHJhbnNjcmlwdGlvbkV2ZW50cy5VdHRlcmFuY2VFbmQsIGRhdGEgYXMgVXR0ZXJhbmNlRW5kRXZlbnQpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGRhdGEudHlwZSA9PT0gTGl2ZVRyYW5zY3JpcHRpb25FdmVudHMuU3BlZWNoU3RhcnRlZCkge1xuICAgICAgICAgIHRoaXMuZW1pdChMaXZlVHJhbnNjcmlwdGlvbkV2ZW50cy5TcGVlY2hTdGFydGVkLCBkYXRhIGFzIFNwZWVjaFN0YXJ0ZWRFdmVudCk7XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIHRoaXMuZW1pdChMaXZlVHJhbnNjcmlwdGlvbkV2ZW50cy5FcnJvciwge1xuICAgICAgICAgIGV2ZW50LFxuICAgICAgICAgIG1lc3NhZ2U6IFwiVW5hYmxlIHRvIHBhcnNlIGBkYXRhYCBhcyBKU09OLlwiLFxuICAgICAgICAgIGVycm9yLFxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9O1xuICB9XG5cbiAgcHVibGljIGNvbmZpZ3VyZShjb25maWc6IExpdmVDb25maWdPcHRpb25zKTogdm9pZCB7XG4gICAgdGhpcy5fc29ja2V0LnNlbmQoXG4gICAgICBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgIHR5cGU6IFwiQ29uZmlndXJlXCIsXG4gICAgICAgIHByb2Nlc3NvcnM6IGNvbmZpZyxcbiAgICAgIH0pXG4gICAgKTtcbiAgfVxuXG4gIHB1YmxpYyBrZWVwQWxpdmUoKTogdm9pZCB7XG4gICAgdGhpcy5fc29ja2V0LnNlbmQoXG4gICAgICBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgIHR5cGU6IFwiS2VlcEFsaXZlXCIsXG4gICAgICB9KVxuICAgICk7XG4gIH1cblxuICBwdWJsaWMgZ2V0UmVhZHlTdGF0ZSgpOiBMaXZlQ29ubmVjdGlvblN0YXRlIHtcbiAgICByZXR1cm4gdGhpcy5fc29ja2V0LnJlYWR5U3RhdGU7XG4gIH1cblxuICAvKipcbiAgICogU2VuZHMgZGF0YSB0byB0aGUgRGVlcGdyYW0gQVBJIHZpYSB3ZWJzb2NrZXQgY29ubmVjdGlvblxuICAgKiBAcGFyYW0gZGF0YSBBdWRpbyBkYXRhIHRvIHNlbmQgdG8gRGVlcGdyYW1cbiAgICpcbiAgICogQ29uZm9ybXMgdG8gUkZDICMxNDYgZm9yIE5vZGUuanMgLSBkb2VzIG5vdCBzZW5kIGFuIGVtcHR5IGJ5dGUuXG4gICAqIEluIHRoZSBicm93c2VyLCBhIEJsb2Igd2lsbCBjb250YWluIGxlbmd0aCB3aXRoIG5vIGF1ZGlvLlxuICAgKiBAc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9kZWVwZ3JhbS9kZWVwZ3JhbS1weXRob24tc2RrL2lzc3Vlcy8xNDZcbiAgICovXG4gIHB1YmxpYyBzZW5kKGRhdGE6IHN0cmluZyB8IEFycmF5QnVmZmVyTGlrZSB8IEJsb2IpOiB2b2lkIHtcbiAgICBpZiAodGhpcy5fc29ja2V0LnJlYWR5U3RhdGUgPT09IExpdmVDb25uZWN0aW9uU3RhdGUuT1BFTikge1xuICAgICAgaWYgKHR5cGVvZiBkYXRhID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgIHRoaXMuX3NvY2tldC5zZW5kKGRhdGEpOyAvLyBzZW5kIHRleHQgZGF0YVxuICAgICAgfSBlbHNlIGlmICgoZGF0YSBhcyBhbnkpIGluc3RhbmNlb2YgQmxvYikge1xuICAgICAgICB0aGlzLl9zb2NrZXQuc2VuZChkYXRhIGFzIHVua25vd24gYXMgQXJyYXlCdWZmZXJMaWtlKTsgLy8gc2VuZCBibG9iIGRhdGFcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnN0IGJ1ZmZlciA9IGRhdGEgYXMgQXJyYXlCdWZmZXJMaWtlO1xuXG4gICAgICAgIGlmIChidWZmZXIuYnl0ZUxlbmd0aCA+IDApIHtcbiAgICAgICAgICB0aGlzLl9zb2NrZXQuc2VuZChidWZmZXIpOyAvLyBzZW5kIGJ1ZmZlciB3aGVuIG5vdCB6ZXJvLWJ5dGUgKG9yIGJyb3dzZXIpXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhpcy5lbWl0KFxuICAgICAgICAgICAgTGl2ZVRyYW5zY3JpcHRpb25FdmVudHMuV2FybmluZyxcbiAgICAgICAgICAgIFwiWmVyby1ieXRlIGRldGVjdGVkLCBza2lwcGluZy4gU2VuZCBgQ2xvc2VTdHJlYW1gIGlmIHRyeWluZyB0byBjbG9zZSB0aGUgY29ubmVjdGlvbi5cIlxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgdGhyb3cgbmV3IERlZXBncmFtRXJyb3IoXCJDb3VsZCBub3Qgc2VuZC4gQ29ubmVjdGlvbiBub3Qgb3Blbi5cIik7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIERlbm90ZSB0aGF0IHlvdSBhcmUgZmluaXNoZWQgc2VuZGluZyBhdWRpbyBhbmQgY2xvc2VcbiAgICogdGhlIHdlYnNvY2tldCBjb25uZWN0aW9uIHdoZW4gdHJhbnNjcmlwdGlvbiBpcyBmaW5pc2hlZFxuICAgKi9cbiAgcHVibGljIGZpbmlzaCgpOiB2b2lkIHtcbiAgICAvLyB0ZWxsIHRoZSBzZXJ2ZXIgdG8gY2xvc2UgdGhlIHNvY2tldFxuICAgIHRoaXMuX3NvY2tldC5zZW5kKFxuICAgICAgSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICB0eXBlOiBcIkNsb3NlU3RyZWFtXCIsXG4gICAgICB9KVxuICAgICk7XG4gIH1cbn1cbiIsICJpbXBvcnQgY3Jvc3NGZXRjaCBmcm9tIFwiY3Jvc3MtZmV0Y2hcIjtcbmltcG9ydCB7IHJlc29sdmVIZWFkZXJzQ29uc3RydWN0b3IgfSBmcm9tIFwiLi9oZWxwZXJzXCI7XG5pbXBvcnQgdHlwZSB7IEZldGNoIH0gZnJvbSBcIi4vdHlwZXMvRmV0Y2hcIjtcblxuZXhwb3J0IGNvbnN0IHJlc29sdmVGZXRjaCA9IChjdXN0b21GZXRjaD86IEZldGNoKTogRmV0Y2ggPT4ge1xuICBsZXQgX2ZldGNoOiBGZXRjaDtcbiAgaWYgKGN1c3RvbUZldGNoKSB7XG4gICAgX2ZldGNoID0gY3VzdG9tRmV0Y2g7XG4gIH0gZWxzZSBpZiAodHlwZW9mIGZldGNoID09PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgX2ZldGNoID0gY3Jvc3NGZXRjaCBhcyB1bmtub3duIGFzIEZldGNoO1xuICB9IGVsc2Uge1xuICAgIF9mZXRjaCA9IGZldGNoO1xuICB9XG4gIHJldHVybiAoLi4uYXJncykgPT4gX2ZldGNoKC4uLmFyZ3MpO1xufTtcblxuZXhwb3J0IGNvbnN0IGZldGNoV2l0aEF1dGggPSAoYXBpS2V5OiBzdHJpbmcsIGN1c3RvbUZldGNoPzogRmV0Y2gpOiBGZXRjaCA9PiB7XG4gIGNvbnN0IGZldGNoID0gcmVzb2x2ZUZldGNoKGN1c3RvbUZldGNoKTtcbiAgY29uc3QgSGVhZGVyc0NvbnN0cnVjdG9yID0gcmVzb2x2ZUhlYWRlcnNDb25zdHJ1Y3RvcigpO1xuXG4gIHJldHVybiBhc3luYyAoaW5wdXQsIGluaXQpID0+IHtcbiAgICBsZXQgaGVhZGVycyA9IG5ldyBIZWFkZXJzQ29uc3RydWN0b3IoaW5pdD8uaGVhZGVycyk7XG5cbiAgICBpZiAoIWhlYWRlcnMuaGFzKFwiQXV0aG9yaXphdGlvblwiKSkge1xuICAgICAgaGVhZGVycy5zZXQoXCJBdXRob3JpemF0aW9uXCIsIGBUb2tlbiAke2FwaUtleX1gKTtcbiAgICB9XG5cbiAgICByZXR1cm4gZmV0Y2goaW5wdXQsIHsgLi4uaW5pdCwgaGVhZGVycyB9KTtcbiAgfTtcbn07XG5cbmV4cG9ydCBjb25zdCByZXNvbHZlUmVzcG9uc2UgPSBhc3luYyAoKSA9PiB7XG4gIGlmICh0eXBlb2YgUmVzcG9uc2UgPT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICByZXR1cm4gKGF3YWl0IGltcG9ydChcImNyb3NzLWZldGNoXCIpKS5SZXNwb25zZTtcbiAgfVxuXG4gIHJldHVybiBSZXNwb25zZTtcbn07XG4iLCAiaW1wb3J0IHsgRGVlcGdyYW1BcGlFcnJvciwgRGVlcGdyYW1FcnJvciwgRGVlcGdyYW1Vbmtub3duRXJyb3IgfSBmcm9tIFwiLi4vbGliL2Vycm9yc1wiO1xuaW1wb3J0IHsgUmVhZGFibGUgfSBmcm9tIFwic3RyZWFtXCI7XG5pbXBvcnQgeyBmZXRjaFdpdGhBdXRoLCByZXNvbHZlUmVzcG9uc2UgfSBmcm9tIFwiLi4vbGliL2ZldGNoXCI7XG5pbXBvcnQgdHlwZSB7IEZldGNoLCBGZXRjaFBhcmFtZXRlcnMsIFJlcXVlc3RNZXRob2RUeXBlIH0gZnJvbSBcIi4uL2xpYi90eXBlcy9GZXRjaFwiO1xuaW1wb3J0IHsgQWJzdHJhY3RDbGllbnQgfSBmcm9tIFwiLi9BYnN0cmFjdENsaWVudFwiO1xuaW1wb3J0IHsgRGVlcGdyYW1DbGllbnRPcHRpb25zIH0gZnJvbSBcIi4uL2xpYi90eXBlc1wiO1xuaW1wb3J0IHsgaXNCcm93c2VyIH0gZnJvbSBcIi4uL2xpYi9oZWxwZXJzXCI7XG5cbmV4cG9ydCBhYnN0cmFjdCBjbGFzcyBBYnN0cmFjdFJlc3RmdWxDbGllbnQgZXh0ZW5kcyBBYnN0cmFjdENsaWVudCB7XG4gIHByb3RlY3RlZCBmZXRjaDogRmV0Y2g7XG5cbiAgY29uc3RydWN0b3IocHJvdGVjdGVkIGtleTogc3RyaW5nLCBwcm90ZWN0ZWQgb3B0aW9uczogRGVlcGdyYW1DbGllbnRPcHRpb25zKSB7XG4gICAgc3VwZXIoa2V5LCBvcHRpb25zKTtcblxuICAgIGlmIChpc0Jyb3dzZXIoKSAmJiAhdGhpcy5fd2lsbFByb3h5KCkpIHtcbiAgICAgIHRocm93IG5ldyBEZWVwZ3JhbUVycm9yKFxuICAgICAgICBcIkR1ZSB0byBDT1JTIHdlIGFyZSB1bmFibGUgdG8gc3VwcG9ydCBSRVNULWJhc2VkIEFQSSBjYWxscyB0byBvdXIgQVBJIGZyb20gdGhlIGJyb3dzZXIuIFBsZWFzZSBjb25zaWRlciB1c2luZyBhIHByb3h5LCBhbmQgaW5jbHVkaW5nIGEgYHJlc3RQcm94eTogeyB1cmw6ICcnfWAgaW4geW91ciBEZWVwZ3JhbSBjbGllbnQgb3B0aW9ucy5cIlxuICAgICAgKTtcbiAgICB9XG5cbiAgICB0aGlzLmZldGNoID0gZmV0Y2hXaXRoQXV0aCh0aGlzLmtleSwgb3B0aW9ucy5fZXhwZXJpbWVudGFsQ3VzdG9tRmV0Y2gpO1xuICB9XG5cbiAgcHJvdGVjdGVkIF9nZXRFcnJvck1lc3NhZ2UoZXJyOiBhbnkpOiBzdHJpbmcge1xuICAgIHJldHVybiBlcnIubXNnIHx8IGVyci5tZXNzYWdlIHx8IGVyci5lcnJvcl9kZXNjcmlwdGlvbiB8fCBlcnIuZXJyb3IgfHwgSlNPTi5zdHJpbmdpZnkoZXJyKTtcbiAgfVxuXG4gIHByb3RlY3RlZCBhc3luYyBoYW5kbGVFcnJvcihlcnJvcjogdW5rbm93biwgcmVqZWN0OiAocmVhc29uPzogYW55KSA9PiB2b2lkKSB7XG4gICAgY29uc3QgUmVzID0gYXdhaXQgcmVzb2x2ZVJlc3BvbnNlKCk7XG5cbiAgICBpZiAoZXJyb3IgaW5zdGFuY2VvZiBSZXMpIHtcbiAgICAgIGVycm9yXG4gICAgICAgIC5qc29uKClcbiAgICAgICAgLnRoZW4oKGVycikgPT4ge1xuICAgICAgICAgIHJlamVjdChuZXcgRGVlcGdyYW1BcGlFcnJvcih0aGlzLl9nZXRFcnJvck1lc3NhZ2UoZXJyKSwgZXJyb3Iuc3RhdHVzIHx8IDUwMCkpO1xuICAgICAgICB9KVxuICAgICAgICAuY2F0Y2goKGVycikgPT4ge1xuICAgICAgICAgIHJlamVjdChuZXcgRGVlcGdyYW1Vbmtub3duRXJyb3IodGhpcy5fZ2V0RXJyb3JNZXNzYWdlKGVyciksIGVycikpO1xuICAgICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmVqZWN0KG5ldyBEZWVwZ3JhbVVua25vd25FcnJvcih0aGlzLl9nZXRFcnJvck1lc3NhZ2UoZXJyb3IpLCBlcnJvcikpO1xuICAgIH1cbiAgfVxuXG4gIHByb3RlY3RlZCBfZ2V0UmVxdWVzdFBhcmFtcyhcbiAgICBtZXRob2Q6IFJlcXVlc3RNZXRob2RUeXBlLFxuICAgIGhlYWRlcnM/OiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+LFxuICAgIHBhcmFtZXRlcnM/OiBGZXRjaFBhcmFtZXRlcnMsXG4gICAgYm9keT86IHN0cmluZyB8IEJ1ZmZlciB8IFJlYWRhYmxlXG4gICkge1xuICAgIGNvbnN0IHBhcmFtczogeyBbazogc3RyaW5nXTogYW55IH0gPSB7XG4gICAgICAuLi50aGlzLm9wdGlvbnM/LmZldGNoLFxuICAgICAgbWV0aG9kLFxuICAgICAgaGVhZGVyczogeyAuLi50aGlzLm9wdGlvbnM/LmZldGNoPy5oZWFkZXJzLCAuLi5oZWFkZXJzIH0gfHwge30sXG4gICAgfTtcblxuICAgIGlmIChtZXRob2QgPT09IFwiR0VUXCIpIHtcbiAgICAgIHJldHVybiBwYXJhbXM7XG4gICAgfVxuXG4gICAgcGFyYW1zLmJvZHkgPSBib2R5O1xuICAgIHBhcmFtcy5kdXBsZXggPSBcImhhbGZcIjtcblxuICAgIHJldHVybiB7IC4uLnBhcmFtcywgLi4ucGFyYW1ldGVycyB9O1xuICB9XG5cbiAgcHJvdGVjdGVkIGFzeW5jIF9oYW5kbGVSZXF1ZXN0KFxuICAgIGZldGNoZXI6IEZldGNoLFxuICAgIG1ldGhvZDogUmVxdWVzdE1ldGhvZFR5cGUsXG4gICAgdXJsOiBzdHJpbmcgfCBVUkwsXG4gICAgaGVhZGVycz86IFJlY29yZDxzdHJpbmcsIHN0cmluZz4sXG4gICAgcGFyYW1ldGVycz86IEZldGNoUGFyYW1ldGVycyxcbiAgICBib2R5Pzogc3RyaW5nIHwgQnVmZmVyIHwgUmVhZGFibGVcbiAgKTogUHJvbWlzZTxhbnk+IHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgZmV0Y2hlcih1cmwsIHRoaXMuX2dldFJlcXVlc3RQYXJhbXMobWV0aG9kLCBoZWFkZXJzLCBwYXJhbWV0ZXJzLCBib2R5KSlcbiAgICAgICAgLnRoZW4oKHJlc3VsdCkgPT4ge1xuICAgICAgICAgIGlmICghcmVzdWx0Lm9rKSB0aHJvdyByZXN1bHQ7XG5cbiAgICAgICAgICByZXR1cm4gcmVzdWx0Lmpzb24oKTtcbiAgICAgICAgfSlcbiAgICAgICAgLnRoZW4oKGRhdGEpID0+IHJlc29sdmUoZGF0YSkpXG4gICAgICAgIC5jYXRjaCgoZXJyb3IpID0+IHRoaXMuaGFuZGxlRXJyb3IoZXJyb3IsIHJlamVjdCkpO1xuICAgIH0pO1xuICB9XG5cbiAgcHJvdGVjdGVkIGFzeW5jIF9oYW5kbGVSYXdSZXF1ZXN0KFxuICAgIGZldGNoZXI6IEZldGNoLFxuICAgIG1ldGhvZDogUmVxdWVzdE1ldGhvZFR5cGUsXG4gICAgdXJsOiBzdHJpbmcgfCBVUkwsXG4gICAgaGVhZGVycz86IFJlY29yZDxzdHJpbmcsIHN0cmluZz4sXG4gICAgcGFyYW1ldGVycz86IEZldGNoUGFyYW1ldGVycyxcbiAgICBib2R5Pzogc3RyaW5nIHwgQnVmZmVyIHwgUmVhZGFibGVcbiAgKTogUHJvbWlzZTxhbnk+IHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgZmV0Y2hlcih1cmwsIHRoaXMuX2dldFJlcXVlc3RQYXJhbXMobWV0aG9kLCBoZWFkZXJzLCBwYXJhbWV0ZXJzLCBib2R5KSlcbiAgICAgICAgLnRoZW4oKHJlc3VsdCkgPT4ge1xuICAgICAgICAgIGlmICghcmVzdWx0Lm9rKSB0aHJvdyByZXN1bHQ7XG5cbiAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICB9KVxuICAgICAgICAudGhlbigoZGF0YSkgPT4gcmVzb2x2ZShkYXRhKSlcbiAgICAgICAgLmNhdGNoKChlcnJvcikgPT4gdGhpcy5oYW5kbGVFcnJvcihlcnJvciwgcmVqZWN0KSk7XG4gICAgfSk7XG4gIH1cblxuICBwcm90ZWN0ZWQgYXN5bmMgZ2V0KFxuICAgIGZldGNoZXI6IEZldGNoLFxuICAgIHVybDogc3RyaW5nIHwgVVJMLFxuICAgIGhlYWRlcnM/OiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+LFxuICAgIHBhcmFtZXRlcnM/OiBGZXRjaFBhcmFtZXRlcnNcbiAgKTogUHJvbWlzZTxhbnk+IHtcbiAgICByZXR1cm4gdGhpcy5faGFuZGxlUmVxdWVzdChmZXRjaGVyLCBcIkdFVFwiLCB1cmwsIGhlYWRlcnMsIHBhcmFtZXRlcnMpO1xuICB9XG5cbiAgcHJvdGVjdGVkIGFzeW5jIHBvc3QoXG4gICAgZmV0Y2hlcjogRmV0Y2gsXG4gICAgdXJsOiBzdHJpbmcgfCBVUkwsXG4gICAgYm9keTogc3RyaW5nIHwgQnVmZmVyIHwgUmVhZGFibGUsXG4gICAgaGVhZGVycz86IFJlY29yZDxzdHJpbmcsIHN0cmluZz4sXG4gICAgcGFyYW1ldGVycz86IEZldGNoUGFyYW1ldGVyc1xuICApOiBQcm9taXNlPGFueT4ge1xuICAgIHJldHVybiB0aGlzLl9oYW5kbGVSZXF1ZXN0KGZldGNoZXIsIFwiUE9TVFwiLCB1cmwsIGhlYWRlcnMsIHBhcmFtZXRlcnMsIGJvZHkpO1xuICB9XG5cbiAgcHJvdGVjdGVkIGFzeW5jIHB1dChcbiAgICBmZXRjaGVyOiBGZXRjaCxcbiAgICB1cmw6IHN0cmluZyB8IFVSTCxcbiAgICBib2R5OiBzdHJpbmcgfCBCdWZmZXIgfCBSZWFkYWJsZSxcbiAgICBoZWFkZXJzPzogUmVjb3JkPHN0cmluZywgc3RyaW5nPixcbiAgICBwYXJhbWV0ZXJzPzogRmV0Y2hQYXJhbWV0ZXJzXG4gICk6IFByb21pc2U8YW55PiB7XG4gICAgcmV0dXJuIHRoaXMuX2hhbmRsZVJlcXVlc3QoZmV0Y2hlciwgXCJQVVRcIiwgdXJsLCBoZWFkZXJzLCBwYXJhbWV0ZXJzLCBib2R5KTtcbiAgfVxuXG4gIHByb3RlY3RlZCBhc3luYyBwYXRjaChcbiAgICBmZXRjaGVyOiBGZXRjaCxcbiAgICB1cmw6IHN0cmluZyB8IFVSTCxcbiAgICBib2R5OiBzdHJpbmcgfCBCdWZmZXIgfCBSZWFkYWJsZSxcbiAgICBoZWFkZXJzPzogUmVjb3JkPHN0cmluZywgc3RyaW5nPixcbiAgICBwYXJhbWV0ZXJzPzogRmV0Y2hQYXJhbWV0ZXJzXG4gICk6IFByb21pc2U8YW55PiB7XG4gICAgcmV0dXJuIHRoaXMuX2hhbmRsZVJlcXVlc3QoZmV0Y2hlciwgXCJQQVRDSFwiLCB1cmwsIGhlYWRlcnMsIHBhcmFtZXRlcnMsIGJvZHkpO1xuICB9XG5cbiAgcHJvdGVjdGVkIGFzeW5jIGRlbGV0ZShcbiAgICBmZXRjaGVyOiBGZXRjaCxcbiAgICB1cmw6IHN0cmluZyB8IFVSTCxcbiAgICBoZWFkZXJzPzogUmVjb3JkPHN0cmluZywgc3RyaW5nPixcbiAgICBwYXJhbWV0ZXJzPzogRmV0Y2hQYXJhbWV0ZXJzXG4gICk6IFByb21pc2U8YW55PiB7XG4gICAgcmV0dXJuIHRoaXMuX2hhbmRsZVJlcXVlc3QoZmV0Y2hlciwgXCJERUxFVEVcIiwgdXJsLCBoZWFkZXJzLCBwYXJhbWV0ZXJzKTtcbiAgfVxuXG4gIHByaXZhdGUgX3dpbGxQcm94eSgpIHtcbiAgICBjb25zdCBwcm94eVVybCA9IHRoaXMub3B0aW9ucy5yZXN0UHJveHk/LnVybDtcblxuICAgIHJldHVybiAhIXByb3h5VXJsO1xuICB9XG59XG4iLCAiaW1wb3J0IHsgQWJzdHJhY3RSZXN0ZnVsQ2xpZW50IH0gZnJvbSBcIi4vQWJzdHJhY3RSZXN0ZnVsQ2xpZW50XCI7XG5pbXBvcnQgeyBDYWxsYmFja1VybCwgYXBwZW5kU2VhcmNoUGFyYW1zLCBpc0ZpbGVTb3VyY2UsIGlzVXJsU291cmNlIH0gZnJvbSBcIi4uL2xpYi9oZWxwZXJzXCI7XG5pbXBvcnQgeyBEZWVwZ3JhbUVycm9yLCBpc0RlZXBncmFtRXJyb3IgfSBmcm9tIFwiLi4vbGliL2Vycm9yc1wiO1xuaW1wb3J0IHR5cGUge1xuICBBc3luY1ByZXJlY29yZGVkUmVzcG9uc2UsXG4gIERlZXBncmFtUmVzcG9uc2UsXG4gIEZldGNoLFxuICBGaWxlU291cmNlLFxuICBQcmVyZWNvcmRlZFNjaGVtYSxcbiAgU3luY1ByZXJlY29yZGVkUmVzcG9uc2UsXG4gIFVybFNvdXJjZSxcbn0gZnJvbSBcIi4uL2xpYi90eXBlc1wiO1xuXG5leHBvcnQgY2xhc3MgUHJlcmVjb3JkZWRDbGllbnQgZXh0ZW5kcyBBYnN0cmFjdFJlc3RmdWxDbGllbnQge1xuICBhc3luYyB0cmFuc2NyaWJlVXJsKFxuICAgIHNvdXJjZTogVXJsU291cmNlLFxuICAgIG9wdGlvbnM/OiBQcmVyZWNvcmRlZFNjaGVtYSxcbiAgICBlbmRwb2ludCA9IFwidjEvbGlzdGVuXCJcbiAgKTogUHJvbWlzZTxEZWVwZ3JhbVJlc3BvbnNlPFN5bmNQcmVyZWNvcmRlZFJlc3BvbnNlPj4ge1xuICAgIHRyeSB7XG4gICAgICBsZXQgYm9keTtcblxuICAgICAgaWYgKGlzVXJsU291cmNlKHNvdXJjZSkpIHtcbiAgICAgICAgYm9keSA9IEpTT04uc3RyaW5naWZ5KHNvdXJjZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aHJvdyBuZXcgRGVlcGdyYW1FcnJvcihcIlVua25vd24gdHJhbnNjcmlwdGlvbiBzb3VyY2UgdHlwZVwiKTtcbiAgICAgIH1cblxuICAgICAgaWYgKG9wdGlvbnMgIT09IHVuZGVmaW5lZCAmJiBcImNhbGxiYWNrXCIgaW4gb3B0aW9ucykge1xuICAgICAgICB0aHJvdyBuZXcgRGVlcGdyYW1FcnJvcihcbiAgICAgICAgICBcIkNhbGxiYWNrIGNhbm5vdCBiZSBwcm92aWRlZCBhcyBhbiBvcHRpb24gdG8gYSBzeW5jaHJvbm91cyB0cmFuc2NyaXB0aW9uLiBVc2UgYHRyYW5zY3JpYmVVcmxDYWxsYmFja2Agb3IgYHRyYW5zY3JpYmVGaWxlQ2FsbGJhY2tgIGluc3RlYWQuXCJcbiAgICAgICAgKTtcbiAgICAgIH1cblxuICAgICAgY29uc3QgdHJhbnNjcmlwdGlvbk9wdGlvbnM6IFByZXJlY29yZGVkU2NoZW1hID0geyAuLi57fSwgLi4ub3B0aW9ucyB9O1xuXG4gICAgICBjb25zdCB1cmwgPSBuZXcgVVJMKGVuZHBvaW50LCB0aGlzLmJhc2VVcmwpO1xuICAgICAgYXBwZW5kU2VhcmNoUGFyYW1zKHVybC5zZWFyY2hQYXJhbXMsIHRyYW5zY3JpcHRpb25PcHRpb25zKTtcblxuICAgICAgY29uc3QgcmVzdWx0OiBTeW5jUHJlcmVjb3JkZWRSZXNwb25zZSA9IGF3YWl0IHRoaXMucG9zdCh0aGlzLmZldGNoIGFzIEZldGNoLCB1cmwsIGJvZHkpO1xuXG4gICAgICByZXR1cm4geyByZXN1bHQsIGVycm9yOiBudWxsIH07XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGlmIChpc0RlZXBncmFtRXJyb3IoZXJyb3IpKSB7XG4gICAgICAgIHJldHVybiB7IHJlc3VsdDogbnVsbCwgZXJyb3IgfTtcbiAgICAgIH1cblxuICAgICAgdGhyb3cgZXJyb3I7XG4gICAgfVxuICB9XG5cbiAgYXN5bmMgdHJhbnNjcmliZUZpbGUoXG4gICAgc291cmNlOiBGaWxlU291cmNlLFxuICAgIG9wdGlvbnM/OiBQcmVyZWNvcmRlZFNjaGVtYSxcbiAgICBlbmRwb2ludCA9IFwidjEvbGlzdGVuXCJcbiAgKTogUHJvbWlzZTxEZWVwZ3JhbVJlc3BvbnNlPFN5bmNQcmVyZWNvcmRlZFJlc3BvbnNlPj4ge1xuICAgIHRyeSB7XG4gICAgICBsZXQgYm9keTtcblxuICAgICAgaWYgKGlzRmlsZVNvdXJjZShzb3VyY2UpKSB7XG4gICAgICAgIGJvZHkgPSBzb3VyY2U7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aHJvdyBuZXcgRGVlcGdyYW1FcnJvcihcIlVua25vd24gdHJhbnNjcmlwdGlvbiBzb3VyY2UgdHlwZVwiKTtcbiAgICAgIH1cblxuICAgICAgaWYgKG9wdGlvbnMgIT09IHVuZGVmaW5lZCAmJiBcImNhbGxiYWNrXCIgaW4gb3B0aW9ucykge1xuICAgICAgICB0aHJvdyBuZXcgRGVlcGdyYW1FcnJvcihcbiAgICAgICAgICBcIkNhbGxiYWNrIGNhbm5vdCBiZSBwcm92aWRlZCBhcyBhbiBvcHRpb24gdG8gYSBzeW5jaHJvbm91cyB0cmFuc2NyaXB0aW9uLiBVc2UgYHRyYW5zY3JpYmVVcmxDYWxsYmFja2Agb3IgYHRyYW5zY3JpYmVGaWxlQ2FsbGJhY2tgIGluc3RlYWQuXCJcbiAgICAgICAgKTtcbiAgICAgIH1cblxuICAgICAgY29uc3QgdHJhbnNjcmlwdGlvbk9wdGlvbnM6IFByZXJlY29yZGVkU2NoZW1hID0geyAuLi57fSwgLi4ub3B0aW9ucyB9O1xuXG4gICAgICBjb25zdCB1cmwgPSBuZXcgVVJMKGVuZHBvaW50LCB0aGlzLmJhc2VVcmwpO1xuICAgICAgYXBwZW5kU2VhcmNoUGFyYW1zKHVybC5zZWFyY2hQYXJhbXMsIHRyYW5zY3JpcHRpb25PcHRpb25zKTtcblxuICAgICAgY29uc3QgcmVzdWx0OiBTeW5jUHJlcmVjb3JkZWRSZXNwb25zZSA9IGF3YWl0IHRoaXMucG9zdCh0aGlzLmZldGNoIGFzIEZldGNoLCB1cmwsIGJvZHksIHtcbiAgICAgICAgXCJDb250ZW50LVR5cGVcIjogXCJkZWVwZ3JhbS9hdWRpbyt2aWRlb1wiLFxuICAgICAgfSk7XG5cbiAgICAgIHJldHVybiB7IHJlc3VsdCwgZXJyb3I6IG51bGwgfTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgaWYgKGlzRGVlcGdyYW1FcnJvcihlcnJvcikpIHtcbiAgICAgICAgcmV0dXJuIHsgcmVzdWx0OiBudWxsLCBlcnJvciB9O1xuICAgICAgfVxuXG4gICAgICB0aHJvdyBlcnJvcjtcbiAgICB9XG4gIH1cblxuICBhc3luYyB0cmFuc2NyaWJlVXJsQ2FsbGJhY2soXG4gICAgc291cmNlOiBVcmxTb3VyY2UsXG4gICAgY2FsbGJhY2s6IENhbGxiYWNrVXJsLFxuICAgIG9wdGlvbnM/OiBQcmVyZWNvcmRlZFNjaGVtYSxcbiAgICBlbmRwb2ludCA9IFwidjEvbGlzdGVuXCJcbiAgKTogUHJvbWlzZTxEZWVwZ3JhbVJlc3BvbnNlPEFzeW5jUHJlcmVjb3JkZWRSZXNwb25zZT4+IHtcbiAgICB0cnkge1xuICAgICAgbGV0IGJvZHk7XG5cbiAgICAgIGlmIChpc1VybFNvdXJjZShzb3VyY2UpKSB7XG4gICAgICAgIGJvZHkgPSBKU09OLnN0cmluZ2lmeShzb3VyY2UpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhyb3cgbmV3IERlZXBncmFtRXJyb3IoXCJVbmtub3duIHRyYW5zY3JpcHRpb24gc291cmNlIHR5cGVcIik7XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IHRyYW5zY3JpcHRpb25PcHRpb25zOiBQcmVyZWNvcmRlZFNjaGVtYSA9IHtcbiAgICAgICAgLi4ub3B0aW9ucyxcbiAgICAgICAgLi4ueyBjYWxsYmFjazogY2FsbGJhY2sudG9TdHJpbmcoKSB9LFxuICAgICAgfTtcblxuICAgICAgY29uc3QgdXJsID0gbmV3IFVSTChlbmRwb2ludCwgdGhpcy5iYXNlVXJsKTtcbiAgICAgIGFwcGVuZFNlYXJjaFBhcmFtcyh1cmwuc2VhcmNoUGFyYW1zLCB0cmFuc2NyaXB0aW9uT3B0aW9ucyk7XG5cbiAgICAgIGNvbnN0IHJlc3VsdDogQXN5bmNQcmVyZWNvcmRlZFJlc3BvbnNlID0gYXdhaXQgdGhpcy5wb3N0KHRoaXMuZmV0Y2ggYXMgRmV0Y2gsIHVybCwgYm9keSk7XG5cbiAgICAgIHJldHVybiB7IHJlc3VsdCwgZXJyb3I6IG51bGwgfTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgaWYgKGlzRGVlcGdyYW1FcnJvcihlcnJvcikpIHtcbiAgICAgICAgcmV0dXJuIHsgcmVzdWx0OiBudWxsLCBlcnJvciB9O1xuICAgICAgfVxuXG4gICAgICB0aHJvdyBlcnJvcjtcbiAgICB9XG4gIH1cblxuICBhc3luYyB0cmFuc2NyaWJlRmlsZUNhbGxiYWNrKFxuICAgIHNvdXJjZTogRmlsZVNvdXJjZSxcbiAgICBjYWxsYmFjazogQ2FsbGJhY2tVcmwsXG4gICAgb3B0aW9ucz86IFByZXJlY29yZGVkU2NoZW1hLFxuICAgIGVuZHBvaW50ID0gXCJ2MS9saXN0ZW5cIlxuICApOiBQcm9taXNlPERlZXBncmFtUmVzcG9uc2U8QXN5bmNQcmVyZWNvcmRlZFJlc3BvbnNlPj4ge1xuICAgIHRyeSB7XG4gICAgICBsZXQgYm9keTtcblxuICAgICAgaWYgKGlzRmlsZVNvdXJjZShzb3VyY2UpKSB7XG4gICAgICAgIGJvZHkgPSBzb3VyY2U7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aHJvdyBuZXcgRGVlcGdyYW1FcnJvcihcIlVua25vd24gdHJhbnNjcmlwdGlvbiBzb3VyY2UgdHlwZVwiKTtcbiAgICAgIH1cblxuICAgICAgY29uc3QgdHJhbnNjcmlwdGlvbk9wdGlvbnM6IFByZXJlY29yZGVkU2NoZW1hID0ge1xuICAgICAgICAuLi5vcHRpb25zLFxuICAgICAgICAuLi57IGNhbGxiYWNrOiBjYWxsYmFjay50b1N0cmluZygpIH0sXG4gICAgICB9O1xuXG4gICAgICBjb25zdCB1cmwgPSBuZXcgVVJMKGVuZHBvaW50LCB0aGlzLmJhc2VVcmwpO1xuICAgICAgYXBwZW5kU2VhcmNoUGFyYW1zKHVybC5zZWFyY2hQYXJhbXMsIHRyYW5zY3JpcHRpb25PcHRpb25zKTtcblxuICAgICAgY29uc3QgcmVzdWx0OiBBc3luY1ByZXJlY29yZGVkUmVzcG9uc2UgPSBhd2FpdCB0aGlzLnBvc3QodGhpcy5mZXRjaCBhcyBGZXRjaCwgdXJsLCBib2R5LCB7XG4gICAgICAgIFwiQ29udGVudC1UeXBlXCI6IFwiZGVlcGdyYW0vYXVkaW8rdmlkZW9cIixcbiAgICAgIH0pO1xuXG4gICAgICByZXR1cm4geyByZXN1bHQsIGVycm9yOiBudWxsIH07XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGlmIChpc0RlZXBncmFtRXJyb3IoZXJyb3IpKSB7XG4gICAgICAgIHJldHVybiB7IHJlc3VsdDogbnVsbCwgZXJyb3IgfTtcbiAgICAgIH1cblxuICAgICAgdGhyb3cgZXJyb3I7XG4gICAgfVxuICB9XG59XG4iLCAiaW1wb3J0IHsgQWJzdHJhY3RDbGllbnQgfSBmcm9tIFwiLi9BYnN0cmFjdENsaWVudFwiO1xuaW1wb3J0IHsgTGl2ZUNsaWVudCB9IGZyb20gXCIuL0xpdmVDbGllbnRcIjtcbmltcG9ydCB7IExpdmVTY2hlbWEgfSBmcm9tIFwiLi4vbGliL3R5cGVzXCI7XG5pbXBvcnQgeyBQcmVyZWNvcmRlZENsaWVudCB9IGZyb20gXCIuL1ByZXJlY29yZGVkQ2xpZW50XCI7XG5cbmV4cG9ydCBjbGFzcyBMaXN0ZW5DbGllbnQgZXh0ZW5kcyBBYnN0cmFjdENsaWVudCB7XG4gIGdldCBwcmVyZWNvcmRlZCgpIHtcbiAgICByZXR1cm4gbmV3IFByZXJlY29yZGVkQ2xpZW50KHRoaXMua2V5LCB0aGlzLm9wdGlvbnMpO1xuICB9XG5cbiAgcHVibGljIGxpdmUodHJhbnNjcmlwdGlvbk9wdGlvbnM6IExpdmVTY2hlbWEsIGVuZHBvaW50ID0gXCJ2MS9saXN0ZW5cIikge1xuICAgIHJldHVybiBuZXcgTGl2ZUNsaWVudCh0aGlzLmtleSwgdGhpcy5vcHRpb25zLCB0cmFuc2NyaXB0aW9uT3B0aW9ucywgZW5kcG9pbnQpO1xuICB9XG59XG4iLCAiaW1wb3J0IHsgQWJzdHJhY3RSZXN0ZnVsQ2xpZW50IH0gZnJvbSBcIi4vQWJzdHJhY3RSZXN0ZnVsQ2xpZW50XCI7XG5pbXBvcnQgeyBpc0RlZXBncmFtRXJyb3IgfSBmcm9tIFwiLi4vbGliL2Vycm9yc1wiO1xuaW1wb3J0IHsgYXBwZW5kU2VhcmNoUGFyYW1zIH0gZnJvbSBcIi4uL2xpYi9oZWxwZXJzXCI7XG5pbXBvcnQgdHlwZSB7XG4gIENyZWF0ZVByb2plY3RLZXlTY2hlbWEsXG4gIENyZWF0ZVByb2plY3RLZXlSZXNwb25zZSxcbiAgRGVlcGdyYW1SZXNwb25zZSxcbiAgRmV0Y2gsXG4gIEdldFByb2plY3RCYWxhbmNlUmVzcG9uc2UsXG4gIEdldFByb2plY3RCYWxhbmNlc1Jlc3BvbnNlLFxuICBHZXRQcm9qZWN0SW52aXRlc1Jlc3BvbnNlLFxuICBHZXRQcm9qZWN0S2V5UmVzcG9uc2UsXG4gIEdldFByb2plY3RLZXlzUmVzcG9uc2UsXG4gIEdldFByb2plY3RNZW1iZXJTY29wZXNSZXNwb25zZSxcbiAgR2V0UHJvamVjdE1lbWJlcnNSZXNwb25zZSxcbiAgR2V0UHJvamVjdFJlc3BvbnNlLFxuICBHZXRQcm9qZWN0c1Jlc3BvbnNlLFxuICBHZXRQcm9qZWN0VXNhZ2VGaWVsZHNTY2hlbWEsXG4gIEdldFByb2plY3RVc2FnZUZpZWxkc1Jlc3BvbnNlLFxuICBHZXRQcm9qZWN0VXNhZ2VSZXF1ZXN0UmVzcG9uc2UsXG4gIEdldFByb2plY3RVc2FnZVJlcXVlc3RzU2NoZW1hLFxuICBHZXRQcm9qZWN0VXNhZ2VSZXF1ZXN0c1Jlc3BvbnNlLFxuICBHZXRQcm9qZWN0VXNhZ2VTdW1tYXJ5U2NoZW1hLFxuICBHZXRQcm9qZWN0VXNhZ2VTdW1tYXJ5UmVzcG9uc2UsXG4gIE1lc3NhZ2VSZXNwb25zZSxcbiAgU2VuZFByb2plY3RJbnZpdGVTY2hlbWEsXG4gIFVwZGF0ZVByb2plY3RNZW1iZXJTY29wZVNjaGVtYSxcbiAgVXBkYXRlUHJvamVjdFNjaGVtYSxcbiAgVm9pZFJlc3BvbnNlLFxuICBHZXRUb2tlbkRldGFpbHNSZXNwb25zZSxcbn0gZnJvbSBcIi4uL2xpYi90eXBlc1wiO1xuXG5leHBvcnQgY2xhc3MgTWFuYWdlQ2xpZW50IGV4dGVuZHMgQWJzdHJhY3RSZXN0ZnVsQ2xpZW50IHtcbiAgLyoqXG4gICAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXJzLmRlZXBncmFtLmNvbS9kb2NzL2F1dGhlbnRpY2F0aW5nI3Rlc3QtcmVxdWVzdFxuICAgKi9cbiAgYXN5bmMgZ2V0VG9rZW5EZXRhaWxzKFxuICAgIGVuZHBvaW50ID0gXCJ2MS9hdXRoL3Rva2VuXCJcbiAgKTogUHJvbWlzZTxEZWVwZ3JhbVJlc3BvbnNlPEdldFRva2VuRGV0YWlsc1Jlc3BvbnNlPj4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCB1cmwgPSBuZXcgVVJMKHRoaXMuYmFzZVVybCk7XG4gICAgICB1cmwucGF0aG5hbWUgPSBlbmRwb2ludDtcblxuICAgICAgY29uc3QgcmVzdWx0OiBHZXRUb2tlbkRldGFpbHNSZXNwb25zZSA9IGF3YWl0IHRoaXMuZ2V0KHRoaXMuZmV0Y2ggYXMgRmV0Y2gsIHVybCk7XG5cbiAgICAgIHJldHVybiB7IHJlc3VsdCwgZXJyb3I6IG51bGwgfTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgaWYgKGlzRGVlcGdyYW1FcnJvcihlcnJvcikpIHtcbiAgICAgICAgcmV0dXJuIHsgcmVzdWx0OiBudWxsLCBlcnJvciB9O1xuICAgICAgfVxuXG4gICAgICB0aHJvdyBlcnJvcjtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQHNlZSBodHRwczovL2RldmVsb3BlcnMuZGVlcGdyYW0uY29tL3JlZmVyZW5jZS9nZXQtcHJvamVjdHNcbiAgICovXG4gIGFzeW5jIGdldFByb2plY3RzKGVuZHBvaW50ID0gXCJ2MS9wcm9qZWN0c1wiKTogUHJvbWlzZTxEZWVwZ3JhbVJlc3BvbnNlPEdldFByb2plY3RzUmVzcG9uc2U+PiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHVybCA9IG5ldyBVUkwodGhpcy5iYXNlVXJsKTtcbiAgICAgIHVybC5wYXRobmFtZSA9IGVuZHBvaW50O1xuXG4gICAgICBjb25zdCByZXN1bHQ6IEdldFByb2plY3RzUmVzcG9uc2UgPSBhd2FpdCB0aGlzLmdldCh0aGlzLmZldGNoIGFzIEZldGNoLCB1cmwpO1xuXG4gICAgICByZXR1cm4geyByZXN1bHQsIGVycm9yOiBudWxsIH07XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGlmIChpc0RlZXBncmFtRXJyb3IoZXJyb3IpKSB7XG4gICAgICAgIHJldHVybiB7IHJlc3VsdDogbnVsbCwgZXJyb3IgfTtcbiAgICAgIH1cblxuICAgICAgdGhyb3cgZXJyb3I7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXJzLmRlZXBncmFtLmNvbS9yZWZlcmVuY2UvZ2V0LXByb2plY3RcbiAgICovXG4gIGFzeW5jIGdldFByb2plY3QoXG4gICAgcHJvamVjdElkOiBzdHJpbmcsXG4gICAgZW5kcG9pbnQgPSBcInYxL3Byb2plY3RzLzpwcm9qZWN0SWRcIlxuICApOiBQcm9taXNlPERlZXBncmFtUmVzcG9uc2U8R2V0UHJvamVjdFJlc3BvbnNlPj4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCB1cmwgPSBuZXcgVVJMKHRoaXMuYmFzZVVybCk7XG4gICAgICB1cmwucGF0aG5hbWUgPSBlbmRwb2ludC5yZXBsYWNlKC86cHJvamVjdElkLywgcHJvamVjdElkKTtcblxuICAgICAgY29uc3QgcmVzdWx0OiBHZXRQcm9qZWN0UmVzcG9uc2UgPSBhd2FpdCB0aGlzLmdldCh0aGlzLmZldGNoIGFzIEZldGNoLCB1cmwpO1xuXG4gICAgICByZXR1cm4geyByZXN1bHQsIGVycm9yOiBudWxsIH07XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGlmIChpc0RlZXBncmFtRXJyb3IoZXJyb3IpKSB7XG4gICAgICAgIHJldHVybiB7IHJlc3VsdDogbnVsbCwgZXJyb3IgfTtcbiAgICAgIH1cblxuICAgICAgdGhyb3cgZXJyb3I7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXJzLmRlZXBncmFtLmNvbS9yZWZlcmVuY2UvdXBkYXRlLXByb2plY3RcbiAgICovXG4gIGFzeW5jIHVwZGF0ZVByb2plY3QoXG4gICAgcHJvamVjdElkOiBzdHJpbmcsXG4gICAgb3B0aW9uczogVXBkYXRlUHJvamVjdFNjaGVtYSxcbiAgICBlbmRwb2ludCA9IFwidjEvcHJvamVjdHMvOnByb2plY3RJZFwiXG4gICk6IFByb21pc2U8RGVlcGdyYW1SZXNwb25zZTxNZXNzYWdlUmVzcG9uc2U+PiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHVybCA9IG5ldyBVUkwodGhpcy5iYXNlVXJsKTtcbiAgICAgIHVybC5wYXRobmFtZSA9IGVuZHBvaW50LnJlcGxhY2UoLzpwcm9qZWN0SWQvLCBwcm9qZWN0SWQpO1xuXG4gICAgICBjb25zdCBib2R5ID0gSlNPTi5zdHJpbmdpZnkob3B0aW9ucyk7XG5cbiAgICAgIGNvbnN0IHJlc3VsdDogTWVzc2FnZVJlc3BvbnNlID0gYXdhaXQgdGhpcy5wYXRjaCh0aGlzLmZldGNoIGFzIEZldGNoLCB1cmwsIGJvZHkpO1xuXG4gICAgICByZXR1cm4geyByZXN1bHQsIGVycm9yOiBudWxsIH07XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGlmIChpc0RlZXBncmFtRXJyb3IoZXJyb3IpKSB7XG4gICAgICAgIHJldHVybiB7IHJlc3VsdDogbnVsbCwgZXJyb3IgfTtcbiAgICAgIH1cblxuICAgICAgdGhyb3cgZXJyb3I7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXJzLmRlZXBncmFtLmNvbS9yZWZlcmVuY2UvZGVsZXRlLXByb2plY3RcbiAgICovXG4gIGFzeW5jIGRlbGV0ZVByb2plY3QoXG4gICAgcHJvamVjdElkOiBzdHJpbmcsXG4gICAgZW5kcG9pbnQgPSBcInYxL3Byb2plY3RzLzpwcm9qZWN0SWRcIlxuICApOiBQcm9taXNlPFZvaWRSZXNwb25zZT4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCB1cmwgPSBuZXcgVVJMKHRoaXMuYmFzZVVybCk7XG4gICAgICB1cmwucGF0aG5hbWUgPSBlbmRwb2ludC5yZXBsYWNlKC86cHJvamVjdElkLywgcHJvamVjdElkKTtcblxuICAgICAgYXdhaXQgdGhpcy5kZWxldGUodGhpcy5mZXRjaCBhcyBGZXRjaCwgdXJsKTtcblxuICAgICAgcmV0dXJuIHsgZXJyb3I6IG51bGwgfTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgaWYgKGlzRGVlcGdyYW1FcnJvcihlcnJvcikpIHtcbiAgICAgICAgcmV0dXJuIHsgZXJyb3IgfTtcbiAgICAgIH1cblxuICAgICAgdGhyb3cgZXJyb3I7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXJzLmRlZXBncmFtLmNvbS9yZWZlcmVuY2UvbGlzdC1rZXlzXG4gICAqL1xuICBhc3luYyBnZXRQcm9qZWN0S2V5cyhcbiAgICBwcm9qZWN0SWQ6IHN0cmluZyxcbiAgICBlbmRwb2ludCA9IFwidjEvcHJvamVjdHMvOnByb2plY3RJZC9rZXlzXCJcbiAgKTogUHJvbWlzZTxEZWVwZ3JhbVJlc3BvbnNlPEdldFByb2plY3RLZXlzUmVzcG9uc2U+PiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHVybCA9IG5ldyBVUkwodGhpcy5iYXNlVXJsKTtcbiAgICAgIHVybC5wYXRobmFtZSA9IGVuZHBvaW50LnJlcGxhY2UoLzpwcm9qZWN0SWQvLCBwcm9qZWN0SWQpO1xuXG4gICAgICBjb25zdCByZXN1bHQ6IEdldFByb2plY3RLZXlzUmVzcG9uc2UgPSBhd2FpdCB0aGlzLmdldCh0aGlzLmZldGNoIGFzIEZldGNoLCB1cmwpO1xuXG4gICAgICByZXR1cm4geyByZXN1bHQsIGVycm9yOiBudWxsIH07XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGlmIChpc0RlZXBncmFtRXJyb3IoZXJyb3IpKSB7XG4gICAgICAgIHJldHVybiB7IHJlc3VsdDogbnVsbCwgZXJyb3IgfTtcbiAgICAgIH1cblxuICAgICAgdGhyb3cgZXJyb3I7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXJzLmRlZXBncmFtLmNvbS9yZWZlcmVuY2UvZ2V0LWtleVxuICAgKi9cbiAgYXN5bmMgZ2V0UHJvamVjdEtleShcbiAgICBwcm9qZWN0SWQ6IHN0cmluZyxcbiAgICBrZXlJZDogc3RyaW5nLFxuICAgIGVuZHBvaW50ID0gXCJ2MS9wcm9qZWN0cy86cHJvamVjdElkL2tleXMvOmtleUlkXCJcbiAgKTogUHJvbWlzZTxEZWVwZ3JhbVJlc3BvbnNlPEdldFByb2plY3RLZXlSZXNwb25zZT4+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgdXJsID0gbmV3IFVSTCh0aGlzLmJhc2VVcmwpO1xuICAgICAgdXJsLnBhdGhuYW1lID0gZW5kcG9pbnQucmVwbGFjZSgvOnByb2plY3RJZC8sIHByb2plY3RJZCkucmVwbGFjZSgvOmtleUlkLywga2V5SWQpO1xuXG4gICAgICBjb25zdCByZXN1bHQ6IEdldFByb2plY3RLZXlSZXNwb25zZSA9IGF3YWl0IHRoaXMuZ2V0KHRoaXMuZmV0Y2ggYXMgRmV0Y2gsIHVybCk7XG5cbiAgICAgIHJldHVybiB7IHJlc3VsdCwgZXJyb3I6IG51bGwgfTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgaWYgKGlzRGVlcGdyYW1FcnJvcihlcnJvcikpIHtcbiAgICAgICAgcmV0dXJuIHsgcmVzdWx0OiBudWxsLCBlcnJvciB9O1xuICAgICAgfVxuXG4gICAgICB0aHJvdyBlcnJvcjtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQHNlZSBodHRwczovL2RldmVsb3BlcnMuZGVlcGdyYW0uY29tL3JlZmVyZW5jZS9jcmVhdGUta2V5XG4gICAqL1xuICBhc3luYyBjcmVhdGVQcm9qZWN0S2V5KFxuICAgIHByb2plY3RJZDogc3RyaW5nLFxuICAgIG9wdGlvbnM6IENyZWF0ZVByb2plY3RLZXlTY2hlbWEsXG4gICAgZW5kcG9pbnQgPSBcInYxL3Byb2plY3RzLzpwcm9qZWN0SWQva2V5c1wiXG4gICk6IFByb21pc2U8RGVlcGdyYW1SZXNwb25zZTxDcmVhdGVQcm9qZWN0S2V5UmVzcG9uc2U+PiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHVybCA9IG5ldyBVUkwodGhpcy5iYXNlVXJsKTtcbiAgICAgIHVybC5wYXRobmFtZSA9IGVuZHBvaW50LnJlcGxhY2UoLzpwcm9qZWN0SWQvLCBwcm9qZWN0SWQpO1xuXG4gICAgICBjb25zdCBib2R5ID0gSlNPTi5zdHJpbmdpZnkob3B0aW9ucyk7XG5cbiAgICAgIGNvbnN0IHJlc3VsdDogQ3JlYXRlUHJvamVjdEtleVJlc3BvbnNlID0gYXdhaXQgdGhpcy5wb3N0KHRoaXMuZmV0Y2ggYXMgRmV0Y2gsIHVybCwgYm9keSk7XG5cbiAgICAgIHJldHVybiB7IHJlc3VsdCwgZXJyb3I6IG51bGwgfTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgaWYgKGlzRGVlcGdyYW1FcnJvcihlcnJvcikpIHtcbiAgICAgICAgcmV0dXJuIHsgcmVzdWx0OiBudWxsLCBlcnJvciB9O1xuICAgICAgfVxuXG4gICAgICB0aHJvdyBlcnJvcjtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQHNlZSBodHRwczovL2RldmVsb3BlcnMuZGVlcGdyYW0uY29tL3JlZmVyZW5jZS9kZWxldGUta2V5XG4gICAqL1xuICBhc3luYyBkZWxldGVQcm9qZWN0S2V5KFxuICAgIHByb2plY3RJZDogc3RyaW5nLFxuICAgIGtleUlkOiBzdHJpbmcsXG4gICAgZW5kcG9pbnQgPSBcInYxL3Byb2plY3RzLzpwcm9qZWN0SWQva2V5cy86a2V5SWRcIlxuICApOiBQcm9taXNlPFZvaWRSZXNwb25zZT4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCB1cmwgPSBuZXcgVVJMKHRoaXMuYmFzZVVybCk7XG4gICAgICB1cmwucGF0aG5hbWUgPSBlbmRwb2ludC5yZXBsYWNlKC86cHJvamVjdElkLywgcHJvamVjdElkKS5yZXBsYWNlKC86a2V5SWQvLCBrZXlJZCk7XG5cbiAgICAgIGF3YWl0IHRoaXMuZGVsZXRlKHRoaXMuZmV0Y2ggYXMgRmV0Y2gsIHVybCk7XG5cbiAgICAgIHJldHVybiB7IGVycm9yOiBudWxsIH07XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGlmIChpc0RlZXBncmFtRXJyb3IoZXJyb3IpKSB7XG4gICAgICAgIHJldHVybiB7IGVycm9yIH07XG4gICAgICB9XG5cbiAgICAgIHRocm93IGVycm9yO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVycy5kZWVwZ3JhbS5jb20vcmVmZXJlbmNlL2dldC1tZW1iZXJzXG4gICAqL1xuICBhc3luYyBnZXRQcm9qZWN0TWVtYmVycyhcbiAgICBwcm9qZWN0SWQ6IHN0cmluZyxcbiAgICBlbmRwb2ludCA9IFwidjEvcHJvamVjdHMvOnByb2plY3RJZC9tZW1iZXJzXCJcbiAgKTogUHJvbWlzZTxEZWVwZ3JhbVJlc3BvbnNlPEdldFByb2plY3RNZW1iZXJzUmVzcG9uc2U+PiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHVybCA9IG5ldyBVUkwodGhpcy5iYXNlVXJsKTtcbiAgICAgIHVybC5wYXRobmFtZSA9IGVuZHBvaW50LnJlcGxhY2UoLzpwcm9qZWN0SWQvLCBwcm9qZWN0SWQpO1xuXG4gICAgICBjb25zdCByZXN1bHQ6IEdldFByb2plY3RNZW1iZXJzUmVzcG9uc2UgPSBhd2FpdCB0aGlzLmdldCh0aGlzLmZldGNoIGFzIEZldGNoLCB1cmwpO1xuXG4gICAgICByZXR1cm4geyByZXN1bHQsIGVycm9yOiBudWxsIH07XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGlmIChpc0RlZXBncmFtRXJyb3IoZXJyb3IpKSB7XG4gICAgICAgIHJldHVybiB7IHJlc3VsdDogbnVsbCwgZXJyb3IgfTtcbiAgICAgIH1cblxuICAgICAgdGhyb3cgZXJyb3I7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXJzLmRlZXBncmFtLmNvbS9yZWZlcmVuY2UvcmVtb3ZlLW1lbWJlclxuICAgKi9cbiAgYXN5bmMgcmVtb3ZlUHJvamVjdE1lbWJlcihcbiAgICBwcm9qZWN0SWQ6IHN0cmluZyxcbiAgICBtZW1iZXJJZDogc3RyaW5nLFxuICAgIGVuZHBvaW50ID0gXCJ2MS9wcm9qZWN0cy86cHJvamVjdElkL21lbWJlcnMvOm1lbWJlcklkXCJcbiAgKTogUHJvbWlzZTxWb2lkUmVzcG9uc2U+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgdXJsID0gbmV3IFVSTCh0aGlzLmJhc2VVcmwpO1xuICAgICAgdXJsLnBhdGhuYW1lID0gZW5kcG9pbnQucmVwbGFjZSgvOnByb2plY3RJZC8sIHByb2plY3RJZCkucmVwbGFjZSgvOm1lbWJlcklkLywgbWVtYmVySWQpO1xuXG4gICAgICBhd2FpdCB0aGlzLmRlbGV0ZSh0aGlzLmZldGNoIGFzIEZldGNoLCB1cmwpO1xuXG4gICAgICByZXR1cm4geyBlcnJvcjogbnVsbCB9O1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBpZiAoaXNEZWVwZ3JhbUVycm9yKGVycm9yKSkge1xuICAgICAgICByZXR1cm4geyBlcnJvciB9O1xuICAgICAgfVxuXG4gICAgICB0aHJvdyBlcnJvcjtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQHNlZSBodHRwczovL2RldmVsb3BlcnMuZGVlcGdyYW0uY29tL3JlZmVyZW5jZS9nZXQtbWVtYmVyLXNjb3Blc1xuICAgKi9cbiAgYXN5bmMgZ2V0UHJvamVjdE1lbWJlclNjb3BlcyhcbiAgICBwcm9qZWN0SWQ6IHN0cmluZyxcbiAgICBtZW1iZXJJZDogc3RyaW5nLFxuICAgIGVuZHBvaW50ID0gXCJ2MS9wcm9qZWN0cy86cHJvamVjdElkL21lbWJlcnMvOm1lbWJlcklkL3Njb3Blc1wiXG4gICk6IFByb21pc2U8RGVlcGdyYW1SZXNwb25zZTxHZXRQcm9qZWN0TWVtYmVyU2NvcGVzUmVzcG9uc2U+PiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHVybCA9IG5ldyBVUkwodGhpcy5iYXNlVXJsKTtcbiAgICAgIHVybC5wYXRobmFtZSA9IGVuZHBvaW50LnJlcGxhY2UoLzpwcm9qZWN0SWQvLCBwcm9qZWN0SWQpLnJlcGxhY2UoLzptZW1iZXJJZC8sIG1lbWJlcklkKTtcblxuICAgICAgY29uc3QgcmVzdWx0OiBHZXRQcm9qZWN0TWVtYmVyU2NvcGVzUmVzcG9uc2UgPSBhd2FpdCB0aGlzLmdldCh0aGlzLmZldGNoIGFzIEZldGNoLCB1cmwpO1xuXG4gICAgICByZXR1cm4geyByZXN1bHQsIGVycm9yOiBudWxsIH07XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGlmIChpc0RlZXBncmFtRXJyb3IoZXJyb3IpKSB7XG4gICAgICAgIHJldHVybiB7IHJlc3VsdDogbnVsbCwgZXJyb3IgfTtcbiAgICAgIH1cblxuICAgICAgdGhyb3cgZXJyb3I7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXJzLmRlZXBncmFtLmNvbS9yZWZlcmVuY2UvdXBkYXRlLXNjb3BlXG4gICAqL1xuICBhc3luYyB1cGRhdGVQcm9qZWN0TWVtYmVyU2NvcGUoXG4gICAgcHJvamVjdElkOiBzdHJpbmcsXG4gICAgbWVtYmVySWQ6IHN0cmluZyxcbiAgICBvcHRpb25zOiBVcGRhdGVQcm9qZWN0TWVtYmVyU2NvcGVTY2hlbWEsXG4gICAgZW5kcG9pbnQgPSBcInYxL3Byb2plY3RzLzpwcm9qZWN0SWQvbWVtYmVycy86bWVtYmVySWQvc2NvcGVzXCJcbiAgKTogUHJvbWlzZTxEZWVwZ3JhbVJlc3BvbnNlPE1lc3NhZ2VSZXNwb25zZT4+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgdXJsID0gbmV3IFVSTCh0aGlzLmJhc2VVcmwpO1xuICAgICAgdXJsLnBhdGhuYW1lID0gZW5kcG9pbnQucmVwbGFjZSgvOnByb2plY3RJZC8sIHByb2plY3RJZCkucmVwbGFjZSgvOm1lbWJlcklkLywgbWVtYmVySWQpO1xuXG4gICAgICBjb25zdCBib2R5ID0gSlNPTi5zdHJpbmdpZnkob3B0aW9ucyk7XG5cbiAgICAgIGNvbnN0IHJlc3VsdDogTWVzc2FnZVJlc3BvbnNlID0gYXdhaXQgdGhpcy5wdXQodGhpcy5mZXRjaCBhcyBGZXRjaCwgdXJsLCBib2R5KTtcblxuICAgICAgcmV0dXJuIHsgcmVzdWx0LCBlcnJvcjogbnVsbCB9O1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBpZiAoaXNEZWVwZ3JhbUVycm9yKGVycm9yKSkge1xuICAgICAgICByZXR1cm4geyByZXN1bHQ6IG51bGwsIGVycm9yIH07XG4gICAgICB9XG5cbiAgICAgIHRocm93IGVycm9yO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVycy5kZWVwZ3JhbS5jb20vcmVmZXJlbmNlL2xpc3QtaW52aXRlc1xuICAgKi9cbiAgYXN5bmMgZ2V0UHJvamVjdEludml0ZXMoXG4gICAgcHJvamVjdElkOiBzdHJpbmcsXG4gICAgZW5kcG9pbnQgPSBcInYxL3Byb2plY3RzLzpwcm9qZWN0SWQvaW52aXRlc1wiXG4gICk6IFByb21pc2U8RGVlcGdyYW1SZXNwb25zZTxHZXRQcm9qZWN0SW52aXRlc1Jlc3BvbnNlPj4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCB1cmwgPSBuZXcgVVJMKHRoaXMuYmFzZVVybCk7XG4gICAgICB1cmwucGF0aG5hbWUgPSBlbmRwb2ludC5yZXBsYWNlKC86cHJvamVjdElkLywgcHJvamVjdElkKTtcblxuICAgICAgY29uc3QgcmVzdWx0OiBHZXRQcm9qZWN0SW52aXRlc1Jlc3BvbnNlID0gYXdhaXQgdGhpcy5nZXQodGhpcy5mZXRjaCBhcyBGZXRjaCwgdXJsKTtcblxuICAgICAgcmV0dXJuIHsgcmVzdWx0LCBlcnJvcjogbnVsbCB9O1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBpZiAoaXNEZWVwZ3JhbUVycm9yKGVycm9yKSkge1xuICAgICAgICByZXR1cm4geyByZXN1bHQ6IG51bGwsIGVycm9yIH07XG4gICAgICB9XG5cbiAgICAgIHRocm93IGVycm9yO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVycy5kZWVwZ3JhbS5jb20vcmVmZXJlbmNlL3NlbmQtaW52aXRlc1xuICAgKi9cbiAgYXN5bmMgc2VuZFByb2plY3RJbnZpdGUoXG4gICAgcHJvamVjdElkOiBzdHJpbmcsXG4gICAgb3B0aW9uczogU2VuZFByb2plY3RJbnZpdGVTY2hlbWEsXG4gICAgZW5kcG9pbnQgPSBcInYxL3Byb2plY3RzLzpwcm9qZWN0SWQvaW52aXRlc1wiXG4gICk6IFByb21pc2U8RGVlcGdyYW1SZXNwb25zZTxNZXNzYWdlUmVzcG9uc2U+PiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHVybCA9IG5ldyBVUkwodGhpcy5iYXNlVXJsKTtcbiAgICAgIHVybC5wYXRobmFtZSA9IGVuZHBvaW50LnJlcGxhY2UoLzpwcm9qZWN0SWQvLCBwcm9qZWN0SWQpO1xuXG4gICAgICBjb25zdCBib2R5ID0gSlNPTi5zdHJpbmdpZnkob3B0aW9ucyk7XG5cbiAgICAgIGNvbnN0IHJlc3VsdDogTWVzc2FnZVJlc3BvbnNlID0gYXdhaXQgdGhpcy5wb3N0KHRoaXMuZmV0Y2ggYXMgRmV0Y2gsIHVybCwgYm9keSk7XG5cbiAgICAgIHJldHVybiB7IHJlc3VsdCwgZXJyb3I6IG51bGwgfTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgaWYgKGlzRGVlcGdyYW1FcnJvcihlcnJvcikpIHtcbiAgICAgICAgcmV0dXJuIHsgcmVzdWx0OiBudWxsLCBlcnJvciB9O1xuICAgICAgfVxuXG4gICAgICB0aHJvdyBlcnJvcjtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQHNlZSBodHRwczovL2RldmVsb3BlcnMuZGVlcGdyYW0uY29tL3JlZmVyZW5jZS9kZWxldGUtaW52aXRlXG4gICAqL1xuICBhc3luYyBkZWxldGVQcm9qZWN0SW52aXRlKFxuICAgIHByb2plY3RJZDogc3RyaW5nLFxuICAgIGVtYWlsOiBzdHJpbmcsXG4gICAgZW5kcG9pbnQgPSBcInYxL3Byb2plY3RzLzpwcm9qZWN0SWQvaW52aXRlcy86ZW1haWxcIlxuICApOiBQcm9taXNlPFZvaWRSZXNwb25zZT4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCB1cmwgPSBuZXcgVVJMKHRoaXMuYmFzZVVybCk7XG4gICAgICB1cmwucGF0aG5hbWUgPSBlbmRwb2ludC5yZXBsYWNlKC86cHJvamVjdElkLywgcHJvamVjdElkKS5yZXBsYWNlKC86ZW1haWwvLCBlbWFpbCk7XG5cbiAgICAgIGF3YWl0IHRoaXMuZGVsZXRlKHRoaXMuZmV0Y2ggYXMgRmV0Y2gsIHVybCk7XG5cbiAgICAgIHJldHVybiB7IGVycm9yOiBudWxsIH07XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGlmIChpc0RlZXBncmFtRXJyb3IoZXJyb3IpKSB7XG4gICAgICAgIHJldHVybiB7IGVycm9yIH07XG4gICAgICB9XG5cbiAgICAgIHRocm93IGVycm9yO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVycy5kZWVwZ3JhbS5jb20vcmVmZXJlbmNlL2xlYXZlLXByb2plY3RcbiAgICovXG4gIGFzeW5jIGxlYXZlUHJvamVjdChcbiAgICBwcm9qZWN0SWQ6IHN0cmluZyxcbiAgICBlbmRwb2ludCA9IFwidjEvcHJvamVjdHMvOnByb2plY3RJZC9sZWF2ZVwiXG4gICk6IFByb21pc2U8RGVlcGdyYW1SZXNwb25zZTxNZXNzYWdlUmVzcG9uc2U+PiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHVybCA9IG5ldyBVUkwodGhpcy5iYXNlVXJsKTtcbiAgICAgIHVybC5wYXRobmFtZSA9IGVuZHBvaW50LnJlcGxhY2UoLzpwcm9qZWN0SWQvLCBwcm9qZWN0SWQpO1xuXG4gICAgICBjb25zdCByZXN1bHQ6IE1lc3NhZ2VSZXNwb25zZSA9IGF3YWl0IHRoaXMuZGVsZXRlKHRoaXMuZmV0Y2ggYXMgRmV0Y2gsIHVybCk7XG5cbiAgICAgIHJldHVybiB7IHJlc3VsdCwgZXJyb3I6IG51bGwgfTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgaWYgKGlzRGVlcGdyYW1FcnJvcihlcnJvcikpIHtcbiAgICAgICAgcmV0dXJuIHsgcmVzdWx0OiBudWxsLCBlcnJvciB9O1xuICAgICAgfVxuXG4gICAgICB0aHJvdyBlcnJvcjtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQHNlZSBodHRwczovL2RldmVsb3BlcnMuZGVlcGdyYW0uY29tL3JlZmVyZW5jZS9nZXQtYWxsLXJlcXVlc3RzXG4gICAqL1xuICBhc3luYyBnZXRQcm9qZWN0VXNhZ2VSZXF1ZXN0cyhcbiAgICBwcm9qZWN0SWQ6IHN0cmluZyxcbiAgICBvcHRpb25zOiBHZXRQcm9qZWN0VXNhZ2VSZXF1ZXN0c1NjaGVtYSxcbiAgICBlbmRwb2ludCA9IFwidjEvcHJvamVjdHMvOnByb2plY3RJZC9yZXF1ZXN0c1wiXG4gICk6IFByb21pc2U8RGVlcGdyYW1SZXNwb25zZTxHZXRQcm9qZWN0VXNhZ2VSZXF1ZXN0c1Jlc3BvbnNlPj4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCB1cmwgPSBuZXcgVVJMKHRoaXMuYmFzZVVybCk7XG4gICAgICB1cmwucGF0aG5hbWUgPSBlbmRwb2ludC5yZXBsYWNlKC86cHJvamVjdElkLywgcHJvamVjdElkKTtcbiAgICAgIGFwcGVuZFNlYXJjaFBhcmFtcyh1cmwuc2VhcmNoUGFyYW1zLCBvcHRpb25zKTtcblxuICAgICAgY29uc3QgcmVzdWx0OiBHZXRQcm9qZWN0VXNhZ2VSZXF1ZXN0c1Jlc3BvbnNlID0gYXdhaXQgdGhpcy5nZXQodGhpcy5mZXRjaCBhcyBGZXRjaCwgdXJsKTtcblxuICAgICAgcmV0dXJuIHsgcmVzdWx0LCBlcnJvcjogbnVsbCB9O1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBpZiAoaXNEZWVwZ3JhbUVycm9yKGVycm9yKSkge1xuICAgICAgICByZXR1cm4geyByZXN1bHQ6IG51bGwsIGVycm9yIH07XG4gICAgICB9XG5cbiAgICAgIHRocm93IGVycm9yO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVycy5kZWVwZ3JhbS5jb20vcmVmZXJlbmNlL2dldC1yZXF1ZXN0XG4gICAqL1xuICBhc3luYyBnZXRQcm9qZWN0VXNhZ2VSZXF1ZXN0KFxuICAgIHByb2plY3RJZDogc3RyaW5nLFxuICAgIHJlcXVlc3RJZDogc3RyaW5nLFxuICAgIGVuZHBvaW50ID0gXCJ2MS9wcm9qZWN0cy86cHJvamVjdElkL3JlcXVlc3RzLzpyZXF1ZXN0SWRcIlxuICApOiBQcm9taXNlPERlZXBncmFtUmVzcG9uc2U8R2V0UHJvamVjdFVzYWdlUmVxdWVzdFJlc3BvbnNlPj4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCB1cmwgPSBuZXcgVVJMKHRoaXMuYmFzZVVybCk7XG4gICAgICB1cmwucGF0aG5hbWUgPSBlbmRwb2ludC5yZXBsYWNlKC86cHJvamVjdElkLywgcHJvamVjdElkKS5yZXBsYWNlKC86cmVxdWVzdElkLywgcmVxdWVzdElkKTtcblxuICAgICAgY29uc3QgcmVzdWx0OiBHZXRQcm9qZWN0VXNhZ2VSZXF1ZXN0UmVzcG9uc2UgPSBhd2FpdCB0aGlzLmdldCh0aGlzLmZldGNoIGFzIEZldGNoLCB1cmwpO1xuXG4gICAgICByZXR1cm4geyByZXN1bHQsIGVycm9yOiBudWxsIH07XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGlmIChpc0RlZXBncmFtRXJyb3IoZXJyb3IpKSB7XG4gICAgICAgIHJldHVybiB7IHJlc3VsdDogbnVsbCwgZXJyb3IgfTtcbiAgICAgIH1cblxuICAgICAgdGhyb3cgZXJyb3I7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXJzLmRlZXBncmFtLmNvbS9yZWZlcmVuY2Uvc3VtbWFyaXplLXVzYWdlXG4gICAqL1xuICBhc3luYyBnZXRQcm9qZWN0VXNhZ2VTdW1tYXJ5KFxuICAgIHByb2plY3RJZDogc3RyaW5nLFxuICAgIG9wdGlvbnM6IEdldFByb2plY3RVc2FnZVN1bW1hcnlTY2hlbWEsXG4gICAgZW5kcG9pbnQgPSBcInYxL3Byb2plY3RzLzpwcm9qZWN0SWQvdXNhZ2VcIlxuICApOiBQcm9taXNlPERlZXBncmFtUmVzcG9uc2U8R2V0UHJvamVjdFVzYWdlU3VtbWFyeVJlc3BvbnNlPj4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCB1cmwgPSBuZXcgVVJMKHRoaXMuYmFzZVVybCk7XG4gICAgICB1cmwucGF0aG5hbWUgPSBlbmRwb2ludC5yZXBsYWNlKC86cHJvamVjdElkLywgcHJvamVjdElkKTtcbiAgICAgIGFwcGVuZFNlYXJjaFBhcmFtcyh1cmwuc2VhcmNoUGFyYW1zLCBvcHRpb25zKTtcblxuICAgICAgY29uc3QgcmVzdWx0OiBHZXRQcm9qZWN0VXNhZ2VTdW1tYXJ5UmVzcG9uc2UgPSBhd2FpdCB0aGlzLmdldCh0aGlzLmZldGNoIGFzIEZldGNoLCB1cmwpO1xuXG4gICAgICByZXR1cm4geyByZXN1bHQsIGVycm9yOiBudWxsIH07XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGlmIChpc0RlZXBncmFtRXJyb3IoZXJyb3IpKSB7XG4gICAgICAgIHJldHVybiB7IHJlc3VsdDogbnVsbCwgZXJyb3IgfTtcbiAgICAgIH1cblxuICAgICAgdGhyb3cgZXJyb3I7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXJzLmRlZXBncmFtLmNvbS9yZWZlcmVuY2UvZ2V0LWZpZWxkc1xuICAgKi9cbiAgYXN5bmMgZ2V0UHJvamVjdFVzYWdlRmllbGRzKFxuICAgIHByb2plY3RJZDogc3RyaW5nLFxuICAgIG9wdGlvbnM6IEdldFByb2plY3RVc2FnZUZpZWxkc1NjaGVtYSxcbiAgICBlbmRwb2ludCA9IFwidjEvcHJvamVjdHMvOnByb2plY3RJZC91c2FnZS9maWVsZHNcIlxuICApOiBQcm9taXNlPERlZXBncmFtUmVzcG9uc2U8R2V0UHJvamVjdFVzYWdlRmllbGRzUmVzcG9uc2U+PiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHVybCA9IG5ldyBVUkwodGhpcy5iYXNlVXJsKTtcbiAgICAgIHVybC5wYXRobmFtZSA9IGVuZHBvaW50LnJlcGxhY2UoLzpwcm9qZWN0SWQvLCBwcm9qZWN0SWQpO1xuICAgICAgYXBwZW5kU2VhcmNoUGFyYW1zKHVybC5zZWFyY2hQYXJhbXMsIG9wdGlvbnMpO1xuXG4gICAgICBjb25zdCByZXN1bHQ6IEdldFByb2plY3RVc2FnZUZpZWxkc1Jlc3BvbnNlID0gYXdhaXQgdGhpcy5nZXQodGhpcy5mZXRjaCBhcyBGZXRjaCwgdXJsKTtcblxuICAgICAgcmV0dXJuIHsgcmVzdWx0LCBlcnJvcjogbnVsbCB9O1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBpZiAoaXNEZWVwZ3JhbUVycm9yKGVycm9yKSkge1xuICAgICAgICByZXR1cm4geyByZXN1bHQ6IG51bGwsIGVycm9yIH07XG4gICAgICB9XG5cbiAgICAgIHRocm93IGVycm9yO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVycy5kZWVwZ3JhbS5jb20vcmVmZXJlbmNlL2dldC1hbGwtYmFsYW5jZXNcbiAgICovXG4gIGFzeW5jIGdldFByb2plY3RCYWxhbmNlcyhcbiAgICBwcm9qZWN0SWQ6IHN0cmluZyxcbiAgICBlbmRwb2ludCA9IFwidjEvcHJvamVjdHMvOnByb2plY3RJZC9iYWxhbmNlc1wiXG4gICk6IFByb21pc2U8RGVlcGdyYW1SZXNwb25zZTxHZXRQcm9qZWN0QmFsYW5jZXNSZXNwb25zZT4+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgdXJsID0gbmV3IFVSTCh0aGlzLmJhc2VVcmwpO1xuICAgICAgdXJsLnBhdGhuYW1lID0gZW5kcG9pbnQucmVwbGFjZSgvOnByb2plY3RJZC8sIHByb2plY3RJZCk7XG5cbiAgICAgIGNvbnN0IHJlc3VsdDogR2V0UHJvamVjdEJhbGFuY2VzUmVzcG9uc2UgPSBhd2FpdCB0aGlzLmdldCh0aGlzLmZldGNoIGFzIEZldGNoLCB1cmwpO1xuXG4gICAgICByZXR1cm4geyByZXN1bHQsIGVycm9yOiBudWxsIH07XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGlmIChpc0RlZXBncmFtRXJyb3IoZXJyb3IpKSB7XG4gICAgICAgIHJldHVybiB7IHJlc3VsdDogbnVsbCwgZXJyb3IgfTtcbiAgICAgIH1cblxuICAgICAgdGhyb3cgZXJyb3I7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXJzLmRlZXBncmFtLmNvbS9yZWZlcmVuY2UvZ2V0LWJhbGFuY2VcbiAgICovXG4gIGFzeW5jIGdldFByb2plY3RCYWxhbmNlKFxuICAgIHByb2plY3RJZDogc3RyaW5nLFxuICAgIGJhbGFuY2VJZDogc3RyaW5nLFxuICAgIGVuZHBvaW50ID0gXCJ2MS9wcm9qZWN0cy86cHJvamVjdElkL2JhbGFuY2VzLzpiYWxhbmNlSWRcIlxuICApOiBQcm9taXNlPERlZXBncmFtUmVzcG9uc2U8R2V0UHJvamVjdEJhbGFuY2VSZXNwb25zZT4+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgdXJsID0gbmV3IFVSTCh0aGlzLmJhc2VVcmwpO1xuICAgICAgdXJsLnBhdGhuYW1lID0gZW5kcG9pbnQucmVwbGFjZSgvOnByb2plY3RJZC8sIHByb2plY3RJZCkucmVwbGFjZSgvOmJhbGFuY2VJZC8sIGJhbGFuY2VJZCk7XG5cbiAgICAgIGNvbnN0IHJlc3VsdDogR2V0UHJvamVjdEJhbGFuY2VSZXNwb25zZSA9IGF3YWl0IHRoaXMuZ2V0KHRoaXMuZmV0Y2ggYXMgRmV0Y2gsIHVybCk7XG5cbiAgICAgIHJldHVybiB7IHJlc3VsdCwgZXJyb3I6IG51bGwgfTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgaWYgKGlzRGVlcGdyYW1FcnJvcihlcnJvcikpIHtcbiAgICAgICAgcmV0dXJuIHsgcmVzdWx0OiBudWxsLCBlcnJvciB9O1xuICAgICAgfVxuXG4gICAgICB0aHJvdyBlcnJvcjtcbiAgICB9XG4gIH1cbn1cbiIsICJpbXBvcnQgeyBBYnN0cmFjdFJlc3RmdWxDbGllbnQgfSBmcm9tIFwiLi9BYnN0cmFjdFJlc3RmdWxDbGllbnRcIjtcbmltcG9ydCB7IGlzRGVlcGdyYW1FcnJvciB9IGZyb20gXCIuLi9saWIvZXJyb3JzXCI7XG5pbXBvcnQgdHlwZSB7XG4gIENyZWF0ZU9uUHJlbUNyZWRlbnRpYWxzU2NoZW1hLFxuICBEZWVwZ3JhbVJlc3BvbnNlLFxuICBGZXRjaCxcbiAgTGlzdE9uUHJlbUNyZWRlbnRpYWxzUmVzcG9uc2UsXG4gIE1lc3NhZ2VSZXNwb25zZSxcbiAgT25QcmVtQ3JlZGVudGlhbFJlc3BvbnNlLFxufSBmcm9tIFwiLi4vbGliL3R5cGVzXCI7XG5cbmV4cG9ydCBjbGFzcyBPblByZW1DbGllbnQgZXh0ZW5kcyBBYnN0cmFjdFJlc3RmdWxDbGllbnQge1xuICAvKipcbiAgICogQHNlZSBodHRwczovL2RldmVsb3BlcnMuZGVlcGdyYW0uY29tL3JlZmVyZW5jZS9saXN0LWNyZWRlbnRpYWxzXG4gICAqL1xuICBhc3luYyBsaXN0Q3JlZGVudGlhbHMoXG4gICAgcHJvamVjdElkOiBzdHJpbmcsXG4gICAgZW5kcG9pbnQgPSBcInYxL3Byb2plY3RzLzpwcm9qZWN0SWQvb25wcmVtL2Rpc3RyaWJ1dGlvbi9jcmVkZW50aWFsc1wiXG4gICk6IFByb21pc2U8RGVlcGdyYW1SZXNwb25zZTxMaXN0T25QcmVtQ3JlZGVudGlhbHNSZXNwb25zZT4+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgdXJsID0gbmV3IFVSTCh0aGlzLmJhc2VVcmwpO1xuICAgICAgdXJsLnBhdGhuYW1lID0gZW5kcG9pbnQucmVwbGFjZSgvOnByb2plY3RJZC8sIHByb2plY3RJZCk7XG5cbiAgICAgIGNvbnN0IHJlc3VsdDogTGlzdE9uUHJlbUNyZWRlbnRpYWxzUmVzcG9uc2UgPSBhd2FpdCB0aGlzLmdldCh0aGlzLmZldGNoIGFzIEZldGNoLCB1cmwpO1xuXG4gICAgICByZXR1cm4geyByZXN1bHQsIGVycm9yOiBudWxsIH07XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGlmIChpc0RlZXBncmFtRXJyb3IoZXJyb3IpKSB7XG4gICAgICAgIHJldHVybiB7IHJlc3VsdDogbnVsbCwgZXJyb3IgfTtcbiAgICAgIH1cblxuICAgICAgdGhyb3cgZXJyb3I7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXJzLmRlZXBncmFtLmNvbS9yZWZlcmVuY2UvZ2V0LWNyZWRlbnRpYWxzXG4gICAqL1xuICBhc3luYyBnZXRDcmVkZW50aWFscyhcbiAgICBwcm9qZWN0SWQ6IHN0cmluZyxcbiAgICBjcmVkZW50aWFsc0lkOiBzdHJpbmcsXG4gICAgZW5kcG9pbnQgPSBcInYxL3Byb2plY3RzLzpwcm9qZWN0SWQvb25wcmVtL2Rpc3RyaWJ1dGlvbi9jcmVkZW50aWFscy86Y3JlZGVudGlhbHNJZFwiXG4gICk6IFByb21pc2U8RGVlcGdyYW1SZXNwb25zZTxPblByZW1DcmVkZW50aWFsUmVzcG9uc2U+PiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHVybCA9IG5ldyBVUkwodGhpcy5iYXNlVXJsKTtcbiAgICAgIHVybC5wYXRobmFtZSA9IGVuZHBvaW50XG4gICAgICAgIC5yZXBsYWNlKC86cHJvamVjdElkLywgcHJvamVjdElkKVxuICAgICAgICAucmVwbGFjZSgvOmNyZWRlbnRpYWxzSWQvLCBjcmVkZW50aWFsc0lkKTtcblxuICAgICAgY29uc3QgcmVzdWx0OiBPblByZW1DcmVkZW50aWFsUmVzcG9uc2UgPSBhd2FpdCB0aGlzLmdldCh0aGlzLmZldGNoIGFzIEZldGNoLCB1cmwpO1xuXG4gICAgICByZXR1cm4geyByZXN1bHQsIGVycm9yOiBudWxsIH07XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGlmIChpc0RlZXBncmFtRXJyb3IoZXJyb3IpKSB7XG4gICAgICAgIHJldHVybiB7IHJlc3VsdDogbnVsbCwgZXJyb3IgfTtcbiAgICAgIH1cblxuICAgICAgdGhyb3cgZXJyb3I7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXJzLmRlZXBncmFtLmNvbS9yZWZlcmVuY2UvY3JlYXRlLWNyZWRlbnRpYWxzXG4gICAqL1xuICBhc3luYyBjcmVhdGVDcmVkZW50aWFscyhcbiAgICBwcm9qZWN0SWQ6IHN0cmluZyxcbiAgICBvcHRpb25zOiBDcmVhdGVPblByZW1DcmVkZW50aWFsc1NjaGVtYSxcbiAgICBlbmRwb2ludCA9IFwidjEvcHJvamVjdHMvOnByb2plY3RJZC9vbnByZW0vZGlzdHJpYnV0aW9uL2NyZWRlbnRpYWxzXCJcbiAgKTogUHJvbWlzZTxEZWVwZ3JhbVJlc3BvbnNlPE9uUHJlbUNyZWRlbnRpYWxSZXNwb25zZT4+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgdXJsID0gbmV3IFVSTCh0aGlzLmJhc2VVcmwpO1xuICAgICAgdXJsLnBhdGhuYW1lID0gZW5kcG9pbnQucmVwbGFjZSgvOnByb2plY3RJZC8sIHByb2plY3RJZCk7XG5cbiAgICAgIGNvbnN0IGJvZHkgPSBKU09OLnN0cmluZ2lmeShvcHRpb25zKTtcblxuICAgICAgY29uc3QgcmVzdWx0OiBPblByZW1DcmVkZW50aWFsUmVzcG9uc2UgPSBhd2FpdCB0aGlzLnBvc3QodGhpcy5mZXRjaCBhcyBGZXRjaCwgdXJsLCBib2R5KTtcblxuICAgICAgcmV0dXJuIHsgcmVzdWx0LCBlcnJvcjogbnVsbCB9O1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBpZiAoaXNEZWVwZ3JhbUVycm9yKGVycm9yKSkge1xuICAgICAgICByZXR1cm4geyByZXN1bHQ6IG51bGwsIGVycm9yIH07XG4gICAgICB9XG5cbiAgICAgIHRocm93IGVycm9yO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVycy5kZWVwZ3JhbS5jb20vcmVmZXJlbmNlL2RlbGV0ZS1jcmVkZW50aWFsc1xuICAgKi9cbiAgYXN5bmMgZGVsZXRlQ3JlZGVudGlhbHMoXG4gICAgcHJvamVjdElkOiBzdHJpbmcsXG4gICAgY3JlZGVudGlhbHNJZDogc3RyaW5nLFxuICAgIGVuZHBvaW50ID0gXCJ2MS9wcm9qZWN0cy86cHJvamVjdElkL29ucHJlbS9kaXN0cmlidXRpb24vY3JlZGVudGlhbHMvOmNyZWRlbnRpYWxzSWRcIlxuICApOiBQcm9taXNlPERlZXBncmFtUmVzcG9uc2U8TWVzc2FnZVJlc3BvbnNlPj4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCB1cmwgPSBuZXcgVVJMKHRoaXMuYmFzZVVybCk7XG4gICAgICB1cmwucGF0aG5hbWUgPSBlbmRwb2ludFxuICAgICAgICAucmVwbGFjZSgvOnByb2plY3RJZC8sIHByb2plY3RJZClcbiAgICAgICAgLnJlcGxhY2UoLzpjcmVkZW50aWFsc0lkLywgY3JlZGVudGlhbHNJZCk7XG5cbiAgICAgIGNvbnN0IHJlc3VsdDogTWVzc2FnZVJlc3BvbnNlID0gYXdhaXQgdGhpcy5kZWxldGUodGhpcy5mZXRjaCBhcyBGZXRjaCwgdXJsKTtcblxuICAgICAgcmV0dXJuIHsgcmVzdWx0LCBlcnJvcjogbnVsbCB9O1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBpZiAoaXNEZWVwZ3JhbUVycm9yKGVycm9yKSkge1xuICAgICAgICByZXR1cm4geyByZXN1bHQ6IG51bGwsIGVycm9yIH07XG4gICAgICB9XG5cbiAgICAgIHRocm93IGVycm9yO1xuICAgIH1cbiAgfVxufVxuIiwgImltcG9ydCB7IEFic3RyYWN0UmVzdGZ1bENsaWVudCB9IGZyb20gXCIuL0Fic3RyYWN0UmVzdGZ1bENsaWVudFwiO1xuaW1wb3J0IHsgQ2FsbGJhY2tVcmwsIGFwcGVuZFNlYXJjaFBhcmFtcywgaXNUZXh0U291cmNlLCBpc1VybFNvdXJjZSB9IGZyb20gXCIuLi9saWIvaGVscGVyc1wiO1xuaW1wb3J0IHsgRGVlcGdyYW1FcnJvciwgaXNEZWVwZ3JhbUVycm9yIH0gZnJvbSBcIi4uL2xpYi9lcnJvcnNcIjtcbmltcG9ydCB0eXBlIHtcbiAgQW5hbHl6ZVNjaGVtYSxcbiAgQXN5bmNBbmFseXplUmVzcG9uc2UsXG4gIERlZXBncmFtUmVzcG9uc2UsXG4gIEZldGNoLFxuICBQcmVyZWNvcmRlZFNjaGVtYSxcbiAgU3luY0FuYWx5emVSZXNwb25zZSxcbiAgVGV4dFNvdXJjZSxcbiAgVXJsU291cmNlLFxufSBmcm9tIFwiLi4vbGliL3R5cGVzXCI7XG5cbmV4cG9ydCBjbGFzcyBSZWFkQ2xpZW50IGV4dGVuZHMgQWJzdHJhY3RSZXN0ZnVsQ2xpZW50IHtcbiAgYXN5bmMgYW5hbHl6ZVVybChcbiAgICBzb3VyY2U6IFVybFNvdXJjZSxcbiAgICBvcHRpb25zPzogQW5hbHl6ZVNjaGVtYSxcbiAgICBlbmRwb2ludCA9IFwidjEvcmVhZFwiXG4gICk6IFByb21pc2U8RGVlcGdyYW1SZXNwb25zZTxTeW5jQW5hbHl6ZVJlc3BvbnNlPj4ge1xuICAgIHRyeSB7XG4gICAgICBsZXQgYm9keTtcblxuICAgICAgaWYgKGlzVXJsU291cmNlKHNvdXJjZSkpIHtcbiAgICAgICAgYm9keSA9IEpTT04uc3RyaW5naWZ5KHNvdXJjZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aHJvdyBuZXcgRGVlcGdyYW1FcnJvcihcIlVua25vd24gc291cmNlIHR5cGVcIik7XG4gICAgICB9XG5cbiAgICAgIGlmIChvcHRpb25zICE9PSB1bmRlZmluZWQgJiYgXCJjYWxsYmFja1wiIGluIG9wdGlvbnMpIHtcbiAgICAgICAgdGhyb3cgbmV3IERlZXBncmFtRXJyb3IoXG4gICAgICAgICAgXCJDYWxsYmFjayBjYW5ub3QgYmUgcHJvdmlkZWQgYXMgYW4gb3B0aW9uIHRvIGEgc3luY2hyb25vdXMgdHJhbnNjcmlwdGlvbi4gVXNlIGBhbmFseXplVXJsQ2FsbGJhY2tgIG9yIGBhbmFseXplVGV4dENhbGxiYWNrYCBpbnN0ZWFkLlwiXG4gICAgICAgICk7XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IGFuYWx5emVPcHRpb25zOiBBbmFseXplU2NoZW1hID0geyAuLi57fSwgLi4ub3B0aW9ucyB9O1xuXG4gICAgICBjb25zdCB1cmwgPSBuZXcgVVJMKGVuZHBvaW50LCB0aGlzLmJhc2VVcmwpO1xuICAgICAgYXBwZW5kU2VhcmNoUGFyYW1zKHVybC5zZWFyY2hQYXJhbXMsIGFuYWx5emVPcHRpb25zKTtcblxuICAgICAgY29uc3QgcmVzdWx0OiBTeW5jQW5hbHl6ZVJlc3BvbnNlID0gYXdhaXQgdGhpcy5wb3N0KHRoaXMuZmV0Y2ggYXMgRmV0Y2gsIHVybCwgYm9keSk7XG5cbiAgICAgIHJldHVybiB7IHJlc3VsdCwgZXJyb3I6IG51bGwgfTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgaWYgKGlzRGVlcGdyYW1FcnJvcihlcnJvcikpIHtcbiAgICAgICAgcmV0dXJuIHsgcmVzdWx0OiBudWxsLCBlcnJvciB9O1xuICAgICAgfVxuXG4gICAgICB0aHJvdyBlcnJvcjtcbiAgICB9XG4gIH1cblxuICBhc3luYyBhbmFseXplVGV4dChcbiAgICBzb3VyY2U6IFRleHRTb3VyY2UsXG4gICAgb3B0aW9ucz86IEFuYWx5emVTY2hlbWEsXG4gICAgZW5kcG9pbnQgPSBcInYxL3JlYWRcIlxuICApOiBQcm9taXNlPERlZXBncmFtUmVzcG9uc2U8U3luY0FuYWx5emVSZXNwb25zZT4+IHtcbiAgICB0cnkge1xuICAgICAgbGV0IGJvZHk7XG5cbiAgICAgIGlmIChpc1RleHRTb3VyY2Uoc291cmNlKSkge1xuICAgICAgICBib2R5ID0gSlNPTi5zdHJpbmdpZnkoc291cmNlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRocm93IG5ldyBEZWVwZ3JhbUVycm9yKFwiVW5rbm93biBzb3VyY2UgdHlwZVwiKTtcbiAgICAgIH1cblxuICAgICAgaWYgKG9wdGlvbnMgIT09IHVuZGVmaW5lZCAmJiBcImNhbGxiYWNrXCIgaW4gb3B0aW9ucykge1xuICAgICAgICB0aHJvdyBuZXcgRGVlcGdyYW1FcnJvcihcbiAgICAgICAgICBcIkNhbGxiYWNrIGNhbm5vdCBiZSBwcm92aWRlZCBhcyBhbiBvcHRpb24gdG8gYSBzeW5jaHJvbm91cyByZXF1ZXN0cy4gVXNlIGBhbmFseXplVXJsQ2FsbGJhY2tgIG9yIGBhbmFseXplVGV4dENhbGxiYWNrYCBpbnN0ZWFkLlwiXG4gICAgICAgICk7XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IGFuYWx5emVPcHRpb25zOiBBbmFseXplU2NoZW1hID0geyAuLi57fSwgLi4ub3B0aW9ucyB9O1xuXG4gICAgICBjb25zdCB1cmwgPSBuZXcgVVJMKGVuZHBvaW50LCB0aGlzLmJhc2VVcmwpO1xuICAgICAgYXBwZW5kU2VhcmNoUGFyYW1zKHVybC5zZWFyY2hQYXJhbXMsIGFuYWx5emVPcHRpb25zKTtcblxuICAgICAgY29uc3QgcmVzdWx0OiBTeW5jQW5hbHl6ZVJlc3BvbnNlID0gYXdhaXQgdGhpcy5wb3N0KHRoaXMuZmV0Y2ggYXMgRmV0Y2gsIHVybCwgYm9keSk7XG5cbiAgICAgIHJldHVybiB7IHJlc3VsdCwgZXJyb3I6IG51bGwgfTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgaWYgKGlzRGVlcGdyYW1FcnJvcihlcnJvcikpIHtcbiAgICAgICAgcmV0dXJuIHsgcmVzdWx0OiBudWxsLCBlcnJvciB9O1xuICAgICAgfVxuXG4gICAgICB0aHJvdyBlcnJvcjtcbiAgICB9XG4gIH1cblxuICBhc3luYyBhbmFseXplVXJsQ2FsbGJhY2soXG4gICAgc291cmNlOiBVcmxTb3VyY2UsXG4gICAgY2FsbGJhY2s6IENhbGxiYWNrVXJsLFxuICAgIG9wdGlvbnM/OiBBbmFseXplU2NoZW1hLFxuICAgIGVuZHBvaW50ID0gXCJ2MS9yZWFkXCJcbiAgKTogUHJvbWlzZTxEZWVwZ3JhbVJlc3BvbnNlPEFzeW5jQW5hbHl6ZVJlc3BvbnNlPj4ge1xuICAgIHRyeSB7XG4gICAgICBsZXQgYm9keTtcblxuICAgICAgaWYgKGlzVXJsU291cmNlKHNvdXJjZSkpIHtcbiAgICAgICAgYm9keSA9IEpTT04uc3RyaW5naWZ5KHNvdXJjZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aHJvdyBuZXcgRGVlcGdyYW1FcnJvcihcIlVua25vd24gc291cmNlIHR5cGVcIik7XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IHRyYW5zY3JpcHRpb25PcHRpb25zOiBQcmVyZWNvcmRlZFNjaGVtYSA9IHtcbiAgICAgICAgLi4ub3B0aW9ucyxcbiAgICAgICAgLi4ueyBjYWxsYmFjazogY2FsbGJhY2sudG9TdHJpbmcoKSB9LFxuICAgICAgfTtcblxuICAgICAgY29uc3QgdXJsID0gbmV3IFVSTChlbmRwb2ludCwgdGhpcy5iYXNlVXJsKTtcbiAgICAgIGFwcGVuZFNlYXJjaFBhcmFtcyh1cmwuc2VhcmNoUGFyYW1zLCB0cmFuc2NyaXB0aW9uT3B0aW9ucyk7XG5cbiAgICAgIGNvbnN0IHJlc3VsdDogQXN5bmNBbmFseXplUmVzcG9uc2UgPSBhd2FpdCB0aGlzLnBvc3QodGhpcy5mZXRjaCBhcyBGZXRjaCwgdXJsLCBib2R5KTtcblxuICAgICAgcmV0dXJuIHsgcmVzdWx0LCBlcnJvcjogbnVsbCB9O1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBpZiAoaXNEZWVwZ3JhbUVycm9yKGVycm9yKSkge1xuICAgICAgICByZXR1cm4geyByZXN1bHQ6IG51bGwsIGVycm9yIH07XG4gICAgICB9XG5cbiAgICAgIHRocm93IGVycm9yO1xuICAgIH1cbiAgfVxuXG4gIGFzeW5jIGFuYWx5emVUZXh0Q2FsbGJhY2soXG4gICAgc291cmNlOiBUZXh0U291cmNlLFxuICAgIGNhbGxiYWNrOiBDYWxsYmFja1VybCxcbiAgICBvcHRpb25zPzogQW5hbHl6ZVNjaGVtYSxcbiAgICBlbmRwb2ludCA9IFwidjEvcmVhZFwiXG4gICk6IFByb21pc2U8RGVlcGdyYW1SZXNwb25zZTxBc3luY0FuYWx5emVSZXNwb25zZT4+IHtcbiAgICB0cnkge1xuICAgICAgbGV0IGJvZHk7XG5cbiAgICAgIGlmIChpc1RleHRTb3VyY2Uoc291cmNlKSkge1xuICAgICAgICBib2R5ID0gSlNPTi5zdHJpbmdpZnkoc291cmNlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRocm93IG5ldyBEZWVwZ3JhbUVycm9yKFwiVW5rbm93biBzb3VyY2UgdHlwZVwiKTtcbiAgICAgIH1cblxuICAgICAgY29uc3QgdHJhbnNjcmlwdGlvbk9wdGlvbnM6IFByZXJlY29yZGVkU2NoZW1hID0ge1xuICAgICAgICAuLi5vcHRpb25zLFxuICAgICAgICAuLi57IGNhbGxiYWNrOiBjYWxsYmFjay50b1N0cmluZygpIH0sXG4gICAgICB9O1xuXG4gICAgICBjb25zdCB1cmwgPSBuZXcgVVJMKGVuZHBvaW50LCB0aGlzLmJhc2VVcmwpO1xuICAgICAgYXBwZW5kU2VhcmNoUGFyYW1zKHVybC5zZWFyY2hQYXJhbXMsIHRyYW5zY3JpcHRpb25PcHRpb25zKTtcblxuICAgICAgY29uc3QgcmVzdWx0OiBBc3luY0FuYWx5emVSZXNwb25zZSA9IGF3YWl0IHRoaXMucG9zdCh0aGlzLmZldGNoIGFzIEZldGNoLCB1cmwsIGJvZHksIHtcbiAgICAgICAgXCJDb250ZW50LVR5cGVcIjogXCJkZWVwZ3JhbS9hdWRpbyt2aWRlb1wiLFxuICAgICAgfSk7XG5cbiAgICAgIHJldHVybiB7IHJlc3VsdCwgZXJyb3I6IG51bGwgfTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgaWYgKGlzRGVlcGdyYW1FcnJvcihlcnJvcikpIHtcbiAgICAgICAgcmV0dXJuIHsgcmVzdWx0OiBudWxsLCBlcnJvciB9O1xuICAgICAgfVxuXG4gICAgICB0aHJvdyBlcnJvcjtcbiAgICB9XG4gIH1cbn1cbiIsICJpbXBvcnQgeyBBYnN0cmFjdFJlc3RmdWxDbGllbnQgfSBmcm9tIFwiLi9BYnN0cmFjdFJlc3RmdWxDbGllbnRcIjtcbmltcG9ydCB7IERlZXBncmFtRXJyb3IsIERlZXBncmFtVW5rbm93bkVycm9yLCBpc0RlZXBncmFtRXJyb3IgfSBmcm9tIFwiLi4vbGliL2Vycm9yc1wiO1xuaW1wb3J0IHsgYXBwZW5kU2VhcmNoUGFyYW1zLCBpc1RleHRTb3VyY2UgfSBmcm9tIFwiLi4vbGliL2hlbHBlcnNcIjtcbmltcG9ydCB7IEZldGNoLCBTcGVha1NjaGVtYSwgVGV4dFNvdXJjZSB9IGZyb20gXCIuLi9saWIvdHlwZXNcIjtcblxuZXhwb3J0IGNsYXNzIFNwZWFrQ2xpZW50IGV4dGVuZHMgQWJzdHJhY3RSZXN0ZnVsQ2xpZW50IHtcbiAgcHVibGljIHJlc3VsdDogdW5kZWZpbmVkIHwgUmVzcG9uc2U7XG5cbiAgLyoqXG4gICAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXJzLmRlZXBncmFtLmNvbS9yZWZlcmVuY2UvdGV4dC10by1zcGVlY2gtYXBpXG4gICAqL1xuICBhc3luYyByZXF1ZXN0KFxuICAgIHNvdXJjZTogVGV4dFNvdXJjZSxcbiAgICBvcHRpb25zPzogU3BlYWtTY2hlbWEsXG4gICAgZW5kcG9pbnQgPSBcInYxL3NwZWFrXCJcbiAgKTogUHJvbWlzZTxTcGVha0NsaWVudD4ge1xuICAgIHRyeSB7XG4gICAgICBsZXQgYm9keTtcblxuICAgICAgaWYgKGlzVGV4dFNvdXJjZShzb3VyY2UpKSB7XG4gICAgICAgIGJvZHkgPSBKU09OLnN0cmluZ2lmeShzb3VyY2UpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhyb3cgbmV3IERlZXBncmFtRXJyb3IoXCJVbmtub3duIHRyYW5zY3JpcHRpb24gc291cmNlIHR5cGVcIik7XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IHNwZWFrT3B0aW9uczogU3BlYWtTY2hlbWEgPSB7IC4uLnsgbW9kZWw6IFwiYXVyYS1hc3RlcmlhLWVuXCIgfSwgLi4ub3B0aW9ucyB9O1xuXG4gICAgICBjb25zdCB1cmwgPSBuZXcgVVJMKGVuZHBvaW50LCB0aGlzLmJhc2VVcmwpO1xuICAgICAgYXBwZW5kU2VhcmNoUGFyYW1zKHVybC5zZWFyY2hQYXJhbXMsIHNwZWFrT3B0aW9ucyk7XG4gICAgICB0aGlzLnJlc3VsdCA9IGF3YWl0IHRoaXMuX2hhbmRsZVJhd1JlcXVlc3QodGhpcy5mZXRjaCBhcyBGZXRjaCwgXCJQT1NUXCIsIHVybCwge30sIHt9LCBib2R5KTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICB0aHJvdyBlcnJvcjtcbiAgICB9XG4gIH1cblxuICBhc3luYyBnZXRTdHJlYW0oKTogUHJvbWlzZTxSZWFkYWJsZVN0cmVhbTxVaW50OEFycmF5PiB8IG51bGw+IHtcbiAgICBpZiAoIXRoaXMucmVzdWx0KVxuICAgICAgdGhyb3cgbmV3IERlZXBncmFtVW5rbm93bkVycm9yKFwiVHJpZWQgdG8gZ2V0IHN0cmVhbSBiZWZvcmUgbWFraW5nIHJlcXVlc3RcIiwgXCJcIik7XG5cbiAgICByZXR1cm4gdGhpcy5yZXN1bHQuYm9keTtcbiAgfVxuXG4gIGFzeW5jIGdldEhlYWRlcnMoKTogUHJvbWlzZTxIZWFkZXJzPiB7XG4gICAgaWYgKCF0aGlzLnJlc3VsdClcbiAgICAgIHRocm93IG5ldyBEZWVwZ3JhbVVua25vd25FcnJvcihcIlRyaWVkIHRvIGdldCBoZWFkZXJzIGJlZm9yZSBtYWtpbmcgcmVxdWVzdFwiLCBcIlwiKTtcblxuICAgIHJldHVybiB0aGlzLnJlc3VsdC5oZWFkZXJzO1xuICB9XG59XG4iLCAiaW1wb3J0IHsgRGVlcGdyYW1WZXJzaW9uRXJyb3IgfSBmcm9tIFwiLi9saWIvZXJyb3JzXCI7XG5pbXBvcnQgeyBBYnN0cmFjdENsaWVudCB9IGZyb20gXCIuL3BhY2thZ2VzL0Fic3RyYWN0Q2xpZW50XCI7XG5pbXBvcnQgeyBMaXN0ZW5DbGllbnQgfSBmcm9tIFwiLi9wYWNrYWdlcy9MaXN0ZW5DbGllbnRcIjtcbmltcG9ydCB7IE1hbmFnZUNsaWVudCB9IGZyb20gXCIuL3BhY2thZ2VzL01hbmFnZUNsaWVudFwiO1xuaW1wb3J0IHsgT25QcmVtQ2xpZW50IH0gZnJvbSBcIi4vcGFja2FnZXMvT25QcmVtQ2xpZW50XCI7XG5pbXBvcnQgeyBSZWFkQ2xpZW50IH0gZnJvbSBcIi4vcGFja2FnZXMvUmVhZENsaWVudFwiO1xuaW1wb3J0IHsgU3BlYWtDbGllbnQgfSBmcm9tIFwiLi9wYWNrYWdlcy9TcGVha0NsaWVudFwiO1xuXG4vKipcbiAqIERlZXBncmFtIENsaWVudC5cbiAqXG4gKiBBbiBpc29tb3JwaGljIEphdmFzY3JpcHQgY2xpZW50IGZvciBpbnRlcmFjdGluZyB3aXRoIHRoZSBEZWVwZ3JhbSBBUEkuXG4gKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVycy5kZWVwZ3JhbS5jb20vZG9jcy9qcy1zZGtcbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRGVlcGdyYW1DbGllbnQgZXh0ZW5kcyBBYnN0cmFjdENsaWVudCB7XG4gIGdldCBsaXN0ZW4oKTogTGlzdGVuQ2xpZW50IHtcbiAgICByZXR1cm4gbmV3IExpc3RlbkNsaWVudCh0aGlzLmtleSwgdGhpcy5vcHRpb25zKTtcbiAgfVxuXG4gIGdldCBtYW5hZ2UoKTogTWFuYWdlQ2xpZW50IHtcbiAgICByZXR1cm4gbmV3IE1hbmFnZUNsaWVudCh0aGlzLmtleSwgdGhpcy5vcHRpb25zKTtcbiAgfVxuXG4gIGdldCBvbnByZW0oKTogT25QcmVtQ2xpZW50IHtcbiAgICByZXR1cm4gbmV3IE9uUHJlbUNsaWVudCh0aGlzLmtleSwgdGhpcy5vcHRpb25zKTtcbiAgfVxuXG4gIGdldCByZWFkKCk6IFJlYWRDbGllbnQge1xuICAgIHJldHVybiBuZXcgUmVhZENsaWVudCh0aGlzLmtleSwgdGhpcy5vcHRpb25zKTtcbiAgfVxuXG4gIGdldCBzcGVhaygpOiBTcGVha0NsaWVudCB7XG4gICAgcmV0dXJuIG5ldyBTcGVha0NsaWVudCh0aGlzLmtleSwgdGhpcy5vcHRpb25zKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBNYWpvciB2ZXJzaW9uIGZhbGxiYWNrIGVycm9ycyBhcmUgYmVsb3dcbiAgICpcbiAgICogQHNlZSBodHRwczovL2RldmVsb3BlcnMuZGVlcGdyYW0uY29tL2RvY3MvanMtc2RrLXYyLXRvLXYzLW1pZ3JhdGlvbi1ndWlkZVxuICAgKi9cbiAgZ2V0IHRyYW5zY3JpcHRpb24oKTogYW55IHtcbiAgICB0aHJvdyBuZXcgRGVlcGdyYW1WZXJzaW9uRXJyb3IoKTtcbiAgfVxuXG4gIGdldCBwcm9qZWN0cygpOiBhbnkge1xuICAgIHRocm93IG5ldyBEZWVwZ3JhbVZlcnNpb25FcnJvcigpO1xuICB9XG5cbiAgZ2V0IGtleXMoKTogYW55IHtcbiAgICB0aHJvdyBuZXcgRGVlcGdyYW1WZXJzaW9uRXJyb3IoKTtcbiAgfVxuXG4gIGdldCBtZW1iZXJzKCk6IGFueSB7XG4gICAgdGhyb3cgbmV3IERlZXBncmFtVmVyc2lvbkVycm9yKCk7XG4gIH1cblxuICBnZXQgc2NvcGVzKCk6IGFueSB7XG4gICAgdGhyb3cgbmV3IERlZXBncmFtVmVyc2lvbkVycm9yKCk7XG4gIH1cblxuICBnZXQgaW52aXRhdGlvbigpOiBhbnkge1xuICAgIHRocm93IG5ldyBEZWVwZ3JhbVZlcnNpb25FcnJvcigpO1xuICB9XG5cbiAgZ2V0IHVzYWdlKCk6IGFueSB7XG4gICAgdGhyb3cgbmV3IERlZXBncmFtVmVyc2lvbkVycm9yKCk7XG4gIH1cblxuICBnZXQgYmlsbGluZygpOiBhbnkge1xuICAgIHRocm93IG5ldyBEZWVwZ3JhbVZlcnNpb25FcnJvcigpO1xuICB9XG59XG4iLCAiaW1wb3J0IERlZXBncmFtQ2xpZW50IGZyb20gXCIuL0RlZXBncmFtQ2xpZW50XCI7XG5pbXBvcnQgeyBEZWVwZ3JhbVZlcnNpb25FcnJvciB9IGZyb20gXCIuL2xpYi9lcnJvcnNcIjtcbmltcG9ydCB0eXBlIHsgRGVlcGdyYW1DbGllbnRPcHRpb25zIH0gZnJvbSBcIi4vbGliL3R5cGVzXCI7XG5cbi8qKlxuICogTWFqb3IgdmVyc2lvbiBmYWxsYmFjayBlcnJvclxuICovXG5jbGFzcyBEZWVwZ3JhbSB7XG4gIGNvbnN0cnVjdG9yKHByb3RlY3RlZCBhcGlLZXk6IHN0cmluZywgcHJvdGVjdGVkIGFwaVVybD86IHN0cmluZywgcHJvdGVjdGVkIHJlcXVpcmVTU0w/OiBib29sZWFuKSB7XG4gICAgdGhyb3cgbmV3IERlZXBncmFtVmVyc2lvbkVycm9yKCk7XG4gIH1cbn1cblxuLyoqXG4gKiBDcmVhdGVzIGEgbmV3IERlZXBncmFtIENsaWVudC5cbiAqL1xuY29uc3QgY3JlYXRlQ2xpZW50ID0gKGFwaUtleTogc3RyaW5nLCBvcHRpb25zOiBEZWVwZ3JhbUNsaWVudE9wdGlvbnMgPSB7fSk6IERlZXBncmFtQ2xpZW50ID0+IHtcbiAgcmV0dXJuIG5ldyBEZWVwZ3JhbUNsaWVudChhcGlLZXksIG9wdGlvbnMpO1xufTtcblxuZXhwb3J0IHsgY3JlYXRlQ2xpZW50LCBEZWVwZ3JhbUNsaWVudCwgRGVlcGdyYW0gfTtcblxuLyoqXG4gKiBIZWxwZnVsIGV4cG9ydHMuXG4gKi9cbmV4cG9ydCAqIGZyb20gXCIuL3BhY2thZ2VzXCI7XG5leHBvcnQgKiBmcm9tIFwiLi9saWIvdHlwZXNcIjtcbmV4cG9ydCAqIGZyb20gXCIuL2xpYi9lbnVtc1wiO1xuZXhwb3J0ICogZnJvbSBcIi4vbGliL2NvbnN0YW50c1wiO1xuZXhwb3J0ICogZnJvbSBcIi4vbGliL2Vycm9yc1wiO1xuZXhwb3J0ICogZnJvbSBcIi4vbGliL2hlbHBlcnNcIjtcblxuLyoqXG4gKiBDYXB0aW9ucy4gVGhlc2Ugd2lsbCBiZSB0cmVlLXNoYWtlbiBpZiB1bnVzZWQuXG4gKlxuICogQHNlZSBodHRwczovL2dpdGh1Yi5jb20vZGVlcGdyYW0vZGVlcGdyYW0tbm9kZS1jYXB0aW9uc1xuICpcbiAqIGltcG9ydC9leHBvcnQgZGVjbGFyYXRpb25zIGRvbid0IGRvIGFueXRoaW5nIGJ1dCBzZXQgdXAgYW4gYWxpYXMgdG8gdGhlXG4gKiBleHBvcnRlZCB2YXJpYWJsZSwgdGhleSBkbyBub3QgY291bnQgYXMgYSBcInVzZVwiLiBHaXZlbiB0aGVpciBzZW1hbnRpY3MsXG4gKiB0aGV5IGFyZSB0cmFja2VkIHNwZWNpYWxseSBieSBhbnkgYnVuZGxlciBhbmQgd2lsbCBub3QgYWR2ZXJzZWx5IGFmZmVjdFxuICogdHJlZS1zaGFraW5nLlxuICovXG5leHBvcnQgeyB3ZWJ2dHQsIHNydCB9IGZyb20gXCJAZGVlcGdyYW0vY2FwdGlvbnNcIjtcbiJdLAogICJtYXBwaW5ncyI6ICI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUFBLCtEQUFBQSxTQUFBO0FBQUEsUUFBSSxTQUFTLE9BQU8sU0FBUyxjQUFjLE9BQU87QUFDbEQsUUFBSSxXQUFZLFdBQVk7QUFDNUIsZUFBUyxJQUFJO0FBQ2IsYUFBSyxRQUFRO0FBQ2IsYUFBSyxlQUFlLE9BQU87QUFBQSxNQUMzQjtBQUNBLFFBQUUsWUFBWTtBQUNkLGFBQU8sSUFBSSxFQUFFO0FBQUEsSUFDYixFQUFHO0FBQ0gsS0FBQyxTQUFTQyxPQUFNO0FBRWhCLFVBQUksYUFBYyxTQUFVQyxVQUFTO0FBRW5DLFlBQUksVUFBVTtBQUFBLFVBQ1osY0FBYyxxQkFBcUJEO0FBQUEsVUFDbkMsVUFBVSxZQUFZQSxTQUFRLGNBQWM7QUFBQSxVQUM1QyxNQUNFLGdCQUFnQkEsU0FDaEIsVUFBVUEsU0FDVCxXQUFXO0FBQ1YsZ0JB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Q2pDLENBQUM7QUFBQSxJQUNMO0FBRUYsUUFBSSx3QkFBUSxXQUFXLEVBQ3BCLFFBQVEsYUFBYSxFQUNyQixRQUFRLG9CQUFvQixFQUM1QjtBQUFBLE1BQVUsQ0FBQyxXQUNWLE9BQ0csU0FBUyxLQUFLLE9BQU8sU0FBUyxXQUFXLEVBQ3pDLFNBQVMsT0FBTyxVQUFVO0FBQ3pCLGFBQUssT0FBTyxTQUFTLGNBQWM7QUFDbkMsY0FBTSxLQUFLLE9BQU8sYUFBYTtBQUFBLE1BQ2pDLENBQUM7QUFBQSxJQUNMO0FBRUYsUUFBSSx3QkFBUSxXQUFXLEVBQ3BCLFFBQVEsWUFBWSxFQUNwQixRQUFRLDRCQUE0QixFQUNwQztBQUFBLE1BQVUsQ0FBQyxXQUNWLE9BQ0csU0FBUyxLQUFLLE9BQU8sU0FBUyxVQUFVLEVBQ3hDLFNBQVMsT0FBTyxVQUFVO0FBQ3pCLGFBQUssT0FBTyxTQUFTLGFBQWE7QUFDbEMsY0FBTSxLQUFLLE9BQU8sYUFBYTtBQUFBLE1BQ2pDLENBQUM7QUFBQSxJQUNMO0FBRUYsUUFBSSx3QkFBUSxXQUFXLEVBQ3BCLFFBQVEsWUFBWSxFQUNwQixRQUFRLDRCQUE0QixFQUNwQztBQUFBLE1BQVUsQ0FBQyxXQUNWLE9BQ0csU0FBUyxLQUFLLE9BQU8sU0FBUyxVQUFVLEVBQ3hDLFNBQVMsT0FBTyxVQUFVO0FBQ3pCLGFBQUssT0FBTyxTQUFTLGFBQWE7QUFDbEMsY0FBTSxLQUFLLE9BQU8sYUFBYTtBQUFBLE1BQ2pDLENBQUM7QUFBQSxJQUNMO0FBRUYsUUFBSSx3QkFBUSxXQUFXLEVBQ3BCLFFBQVEsY0FBYyxFQUN0QixRQUFRLHNCQUFzQixFQUM5QjtBQUFBLE1BQVUsQ0FBQyxXQUNWLE9BQ0csU0FBUyxLQUFLLE9BQU8sU0FBUyxZQUFZLEVBQzFDLFNBQVMsT0FBTyxVQUFVO0FBQ3pCLGFBQUssT0FBTyxTQUFTLGVBQWU7QUFDcEMsY0FBTSxLQUFLLE9BQU8sYUFBYTtBQUFBLE1BQ2pDLENBQUM7QUFBQSxJQUNMO0FBQUEsRUFHSjtBQUNGOyIsCiAgIm5hbWVzIjogWyJtb2R1bGUiLCAic2VsZiIsICJleHBvcnRzIiwgIkhlYWRlcnMiLCAiUmVzcG9uc2UiLCAiZmV0Y2giLCAibW9kdWxlIiwgImlzTWVyZ2VhYmxlT2JqZWN0IiwgIm1vZHVsZSIsICJtb2R1bGUiLCAibW9kdWxlIiwgIm1vZHVsZSIsICJtZXJnZSIsICJDcm9zc0ZldGNoSGVhZGVycyIsICJMaXZlQ29ubmVjdGlvblN0YXRlIiwgIkxpdmVUcmFuc2NyaXB0aW9uRXZlbnRzIiwgImltcG9ydF9jcm9zc19mZXRjaCIsICJjcm9zc0ZldGNoIiwgImZldGNoIl0KfQo=
