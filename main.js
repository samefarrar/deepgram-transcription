/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/

var __create = Object.create;
var __defProp = Object.defineProperty;
var __getOwnPropDesc = Object.getOwnPropertyDescriptor;
var __getOwnPropNames = Object.getOwnPropertyNames;
var __getProtoOf = Object.getPrototypeOf;
var __hasOwnProp = Object.prototype.hasOwnProperty;
var __commonJS = (cb, mod) => function __require() {
  return mod || (0, cb[__getOwnPropNames(cb)[0]])((mod = { exports: {} }).exports, mod), mod.exports;
};
var __export = (target, all) => {
  for (var name in all)
    __defProp(target, name, { get: all[name], enumerable: true });
};
var __copyProps = (to, from, except, desc) => {
  if (from && typeof from === "object" || typeof from === "function") {
    for (let key of __getOwnPropNames(from))
      if (!__hasOwnProp.call(to, key) && key !== except)
        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });
  }
  return to;
};
var __toESM = (mod, isNodeMode, target) => (target = mod != null ? __create(__getProtoOf(mod)) : {}, __copyProps(
  // If the importer is in node compatibility mode or this is not an ESM
  // file that has been converted to a CommonJS file using a Babel-
  // compatible transform (i.e. "__esModule" has not been set), then set
  // "default" to the CommonJS "module.exports" for node compatibility.
  isNodeMode || !mod || !mod.__esModule ? __defProp(target, "default", { value: mod, enumerable: true }) : target,
  mod
));
var __toCommonJS = (mod) => __copyProps(__defProp({}, "__esModule", { value: true }), mod);

// node_modules/cross-fetch/dist/browser-ponyfill.js
var require_browser_ponyfill = __commonJS({
  "node_modules/cross-fetch/dist/browser-ponyfill.js"(exports, module2) {
    var global = typeof self !== "undefined" ? self : exports;
    var __self__ = function() {
      function F() {
        this.fetch = false;
        this.DOMException = global.DOMException;
      }
      F.prototype = global;
      return new F();
    }();
    (function(self2) {
      var irrelevant = function(exports2) {
        var support = {
          searchParams: "URLSearchParams" in self2,
          iterable: "Symbol" in self2 && "iterator" in Symbol,
          blob: "FileReader" in self2 && "Blob" in self2 && function() {
            try {
              new Blob();
              return true;
            } catch (e) {
              return false;
            }
          }(),
          formData: "FormData" in self2,
          arrayBuffer: "ArrayBuffer" in self2
        };
        function isDataView(obj) {
          return obj && DataView.prototype.isPrototypeOf(obj);
        }
        if (support.arrayBuffer) {
          var viewClasses = [
            "[object Int8Array]",
            "[object Uint8Array]",
            "[object Uint8ClampedArray]",
            "[object Int16Array]",
            "[object Uint16Array]",
            "[object Int32Array]",
            "[object Uint32Array]",
            "[object Float32Array]",
            "[object Float64Array]"
          ];
          var isArrayBufferView = ArrayBuffer.isView || function(obj) {
            return obj && viewClasses.indexOf(Object.prototype.toString.call(obj)) > -1;
          };
        }
        function normalizeName(name) {
          if (typeof name !== "string") {
            name = String(name);
          }
          if (/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(name)) {
            throw new TypeError("Invalid character in header field name");
          }
          return name.toLowerCase();
        }
        function normalizeValue(value) {
          if (typeof value !== "string") {
            value = String(value);
          }
          return value;
        }
        function iteratorFor(items) {
          var iterator = {
            next: function() {
              var value = items.shift();
              return { done: value === void 0, value };
            }
          };
          if (support.iterable) {
            iterator[Symbol.iterator] = function() {
              return iterator;
            };
          }
          return iterator;
        }
        function Headers2(headers) {
          this.map = {};
          if (headers instanceof Headers2) {
            headers.forEach(function(value, name) {
              this.append(name, value);
            }, this);
          } else if (Array.isArray(headers)) {
            headers.forEach(function(header) {
              this.append(header[0], header[1]);
            }, this);
          } else if (headers) {
            Object.getOwnPropertyNames(headers).forEach(function(name) {
              this.append(name, headers[name]);
            }, this);
          }
        }
        Headers2.prototype.append = function(name, value) {
          name = normalizeName(name);
          value = normalizeValue(value);
          var oldValue = this.map[name];
          this.map[name] = oldValue ? oldValue + ", " + value : value;
        };
        Headers2.prototype["delete"] = function(name) {
          delete this.map[normalizeName(name)];
        };
        Headers2.prototype.get = function(name) {
          name = normalizeName(name);
          return this.has(name) ? this.map[name] : null;
        };
        Headers2.prototype.has = function(name) {
          return this.map.hasOwnProperty(normalizeName(name));
        };
        Headers2.prototype.set = function(name, value) {
          this.map[normalizeName(name)] = normalizeValue(value);
        };
        Headers2.prototype.forEach = function(callback, thisArg) {
          for (var name in this.map) {
            if (this.map.hasOwnProperty(name)) {
              callback.call(thisArg, this.map[name], name, this);
            }
          }
        };
        Headers2.prototype.keys = function() {
          var items = [];
          this.forEach(function(value, name) {
            items.push(name);
          });
          return iteratorFor(items);
        };
        Headers2.prototype.values = function() {
          var items = [];
          this.forEach(function(value) {
            items.push(value);
          });
          return iteratorFor(items);
        };
        Headers2.prototype.entries = function() {
          var items = [];
          this.forEach(function(value, name) {
            items.push([name, value]);
          });
          return iteratorFor(items);
        };
        if (support.iterable) {
          Headers2.prototype[Symbol.iterator] = Headers2.prototype.entries;
        }
        function consumed(body) {
          if (body.bodyUsed) {
            return Promise.reject(new TypeError("Already read"));
          }
          body.bodyUsed = true;
        }
        function fileReaderReady(reader) {
          return new Promise(function(resolve, reject) {
            reader.onload = function() {
              resolve(reader.result);
            };
            reader.onerror = function() {
              reject(reader.error);
            };
          });
        }
        function readBlobAsArrayBuffer(blob) {
          var reader = new FileReader();
          var promise = fileReaderReady(reader);
          reader.readAsArrayBuffer(blob);
          return promise;
        }
        function readBlobAsText(blob) {
          var reader = new FileReader();
          var promise = fileReaderReady(reader);
          reader.readAsText(blob);
          return promise;
        }
        function readArrayBufferAsText(buf) {
          var view = new Uint8Array(buf);
          var chars = new Array(view.length);
          for (var i = 0; i < view.length; i++) {
            chars[i] = String.fromCharCode(view[i]);
          }
          return chars.join("");
        }
        function bufferClone(buf) {
          if (buf.slice) {
            return buf.slice(0);
          } else {
            var view = new Uint8Array(buf.byteLength);
            view.set(new Uint8Array(buf));
            return view.buffer;
          }
        }
        function Body() {
          this.bodyUsed = false;
          this._initBody = function(body) {
            this._bodyInit = body;
            if (!body) {
              this._bodyText = "";
            } else if (typeof body === "string") {
              this._bodyText = body;
            } else if (support.blob && Blob.prototype.isPrototypeOf(body)) {
              this._bodyBlob = body;
            } else if (support.formData && FormData.prototype.isPrototypeOf(body)) {
              this._bodyFormData = body;
            } else if (support.searchParams && URLSearchParams.prototype.isPrototypeOf(body)) {
              this._bodyText = body.toString();
            } else if (support.arrayBuffer && support.blob && isDataView(body)) {
              this._bodyArrayBuffer = bufferClone(body.buffer);
              this._bodyInit = new Blob([this._bodyArrayBuffer]);
            } else if (support.arrayBuffer && (ArrayBuffer.prototype.isPrototypeOf(body) || isArrayBufferView(body))) {
              this._bodyArrayBuffer = bufferClone(body);
            } else {
              this._bodyText = body = Object.prototype.toString.call(body);
            }
            if (!this.headers.get("content-type")) {
              if (typeof body === "string") {
                this.headers.set("content-type", "text/plain;charset=UTF-8");
              } else if (this._bodyBlob && this._bodyBlob.type) {
                this.headers.set("content-type", this._bodyBlob.type);
              } else if (support.searchParams && URLSearchParams.prototype.isPrototypeOf(body)) {
                this.headers.set("content-type", "application/x-www-form-urlencoded;charset=UTF-8");
              }
            }
          };
          if (support.blob) {
            this.blob = function() {
              var rejected = consumed(this);
              if (rejected) {
                return rejected;
              }
              if (this._bodyBlob) {
                return Promise.resolve(this._bodyBlob);
              } else if (this._bodyArrayBuffer) {
                return Promise.resolve(new Blob([this._bodyArrayBuffer]));
              } else if (this._bodyFormData) {
                throw new Error("could not read FormData body as blob");
              } else {
                return Promise.resolve(new Blob([this._bodyText]));
              }
            };
            this.arrayBuffer = function() {
              if (this._bodyArrayBuffer) {
                return consumed(this) || Promise.resolve(this._bodyArrayBuffer);
              } else {
                return this.blob().then(readBlobAsArrayBuffer);
              }
            };
          }
          this.text = function() {
            var rejected = consumed(this);
            if (rejected) {
              return rejected;
            }
            if (this._bodyBlob) {
              return readBlobAsText(this._bodyBlob);
            } else if (this._bodyArrayBuffer) {
              return Promise.resolve(readArrayBufferAsText(this._bodyArrayBuffer));
            } else if (this._bodyFormData) {
              throw new Error("could not read FormData body as text");
            } else {
              return Promise.resolve(this._bodyText);
            }
          };
          if (support.formData) {
            this.formData = function() {
              return this.text().then(decode);
            };
          }
          this.json = function() {
            return this.text().then(JSON.parse);
          };
          return this;
        }
        var methods = ["DELETE", "GET", "HEAD", "OPTIONS", "POST", "PUT"];
        function normalizeMethod(method) {
          var upcased = method.toUpperCase();
          return methods.indexOf(upcased) > -1 ? upcased : method;
        }
        function Request(input, options) {
          options = options || {};
          var body = options.body;
          if (input instanceof Request) {
            if (input.bodyUsed) {
              throw new TypeError("Already read");
            }
            this.url = input.url;
            this.credentials = input.credentials;
            if (!options.headers) {
              this.headers = new Headers2(input.headers);
            }
            this.method = input.method;
            this.mode = input.mode;
            this.signal = input.signal;
            if (!body && input._bodyInit != null) {
              body = input._bodyInit;
              input.bodyUsed = true;
            }
          } else {
            this.url = String(input);
          }
          this.credentials = options.credentials || this.credentials || "same-origin";
          if (options.headers || !this.headers) {
            this.headers = new Headers2(options.headers);
          }
          this.method = normalizeMethod(options.method || this.method || "GET");
          this.mode = options.mode || this.mode || null;
          this.signal = options.signal || this.signal;
          this.referrer = null;
          if ((this.method === "GET" || this.method === "HEAD") && body) {
            throw new TypeError("Body not allowed for GET or HEAD requests");
          }
          this._initBody(body);
        }
        Request.prototype.clone = function() {
          return new Request(this, { body: this._bodyInit });
        };
        function decode(body) {
          var form = new FormData();
          body.trim().split("&").forEach(function(bytes) {
            if (bytes) {
              var split = bytes.split("=");
              var name = split.shift().replace(/\+/g, " ");
              var value = split.join("=").replace(/\+/g, " ");
              form.append(decodeURIComponent(name), decodeURIComponent(value));
            }
          });
          return form;
        }
        function parseHeaders(rawHeaders) {
          var headers = new Headers2();
          var preProcessedHeaders = rawHeaders.replace(/\r?\n[\t ]+/g, " ");
          preProcessedHeaders.split(/\r?\n/).forEach(function(line) {
            var parts = line.split(":");
            var key = parts.shift().trim();
            if (key) {
              var value = parts.join(":").trim();
              headers.append(key, value);
            }
          });
          return headers;
        }
        Body.call(Request.prototype);
        function Response2(bodyInit, options) {
          if (!options) {
            options = {};
          }
          this.type = "default";
          this.status = options.status === void 0 ? 200 : options.status;
          this.ok = this.status >= 200 && this.status < 300;
          this.statusText = "statusText" in options ? options.statusText : "OK";
          this.headers = new Headers2(options.headers);
          this.url = options.url || "";
          this._initBody(bodyInit);
        }
        Body.call(Response2.prototype);
        Response2.prototype.clone = function() {
          return new Response2(this._bodyInit, {
            status: this.status,
            statusText: this.statusText,
            headers: new Headers2(this.headers),
            url: this.url
          });
        };
        Response2.error = function() {
          var response = new Response2(null, { status: 0, statusText: "" });
          response.type = "error";
          return response;
        };
        var redirectStatuses = [301, 302, 303, 307, 308];
        Response2.redirect = function(url, status) {
          if (redirectStatuses.indexOf(status) === -1) {
            throw new RangeError("Invalid status code");
          }
          return new Response2(null, { status, headers: { location: url } });
        };
        exports2.DOMException = self2.DOMException;
        try {
          new exports2.DOMException();
        } catch (err) {
          exports2.DOMException = function(message, name) {
            this.message = message;
            this.name = name;
            var error = Error(message);
            this.stack = error.stack;
          };
          exports2.DOMException.prototype = Object.create(Error.prototype);
          exports2.DOMException.prototype.constructor = exports2.DOMException;
        }
        function fetch2(input, init) {
          return new Promise(function(resolve, reject) {
            var request = new Request(input, init);
            if (request.signal && request.signal.aborted) {
              return reject(new exports2.DOMException("Aborted", "AbortError"));
            }
            var xhr = new XMLHttpRequest();
            function abortXhr() {
              xhr.abort();
            }
            xhr.onload = function() {
              var options = {
                status: xhr.status,
                statusText: xhr.statusText,
                headers: parseHeaders(xhr.getAllResponseHeaders() || "")
              };
              options.url = "responseURL" in xhr ? xhr.responseURL : options.headers.get("X-Request-URL");
              var body = "response" in xhr ? xhr.response : xhr.responseText;
              resolve(new Response2(body, options));
            };
            xhr.onerror = function() {
              reject(new TypeError("Network request failed"));
            };
            xhr.ontimeout = function() {
              reject(new TypeError("Network request failed"));
            };
            xhr.onabort = function() {
              reject(new exports2.DOMException("Aborted", "AbortError"));
            };
            xhr.open(request.method, request.url, true);
            if (request.credentials === "include") {
              xhr.withCredentials = true;
            } else if (request.credentials === "omit") {
              xhr.withCredentials = false;
            }
            if ("responseType" in xhr && support.blob) {
              xhr.responseType = "blob";
            }
            request.headers.forEach(function(value, name) {
              xhr.setRequestHeader(name, value);
            });
            if (request.signal) {
              request.signal.addEventListener("abort", abortXhr);
              xhr.onreadystatechange = function() {
                if (xhr.readyState === 4) {
                  request.signal.removeEventListener("abort", abortXhr);
                }
              };
            }
            xhr.send(typeof request._bodyInit === "undefined" ? null : request._bodyInit);
          });
        }
        fetch2.polyfill = true;
        if (!self2.fetch) {
          self2.fetch = fetch2;
          self2.Headers = Headers2;
          self2.Request = Request;
          self2.Response = Response2;
        }
        exports2.Headers = Headers2;
        exports2.Request = Request;
        exports2.Response = Response2;
        exports2.fetch = fetch2;
        Object.defineProperty(exports2, "__esModule", { value: true });
        return exports2;
      }({});
    })(__self__);
    __self__.fetch.ponyfill = true;
    delete __self__.fetch.polyfill;
    var ctx = __self__;
    exports = ctx.fetch;
    exports.default = ctx.fetch;
    exports.fetch = ctx.fetch;
    exports.Headers = ctx.Headers;
    exports.Request = ctx.Request;
    exports.Response = ctx.Response;
    module2.exports = exports;
  }
});

// node_modules/deepmerge/dist/cjs.js
var require_cjs = __commonJS({
  "node_modules/deepmerge/dist/cjs.js"(exports, module2) {
    "use strict";
    var isMergeableObject = function isMergeableObject2(value) {
      return isNonNullObject(value) && !isSpecial(value);
    };
    function isNonNullObject(value) {
      return !!value && typeof value === "object";
    }
    function isSpecial(value) {
      var stringValue = Object.prototype.toString.call(value);
      return stringValue === "[object RegExp]" || stringValue === "[object Date]" || isReactElement(value);
    }
    var canUseSymbol = typeof Symbol === "function" && Symbol.for;
    var REACT_ELEMENT_TYPE = canUseSymbol ? Symbol.for("react.element") : 60103;
    function isReactElement(value) {
      return value.$$typeof === REACT_ELEMENT_TYPE;
    }
    function emptyTarget(val) {
      return Array.isArray(val) ? [] : {};
    }
    function cloneUnlessOtherwiseSpecified(value, options) {
      return options.clone !== false && options.isMergeableObject(value) ? deepmerge(emptyTarget(value), value, options) : value;
    }
    function defaultArrayMerge(target, source, options) {
      return target.concat(source).map(function(element) {
        return cloneUnlessOtherwiseSpecified(element, options);
      });
    }
    function getMergeFunction(key, options) {
      if (!options.customMerge) {
        return deepmerge;
      }
      var customMerge = options.customMerge(key);
      return typeof customMerge === "function" ? customMerge : deepmerge;
    }
    function getEnumerableOwnPropertySymbols(target) {
      return Object.getOwnPropertySymbols ? Object.getOwnPropertySymbols(target).filter(function(symbol) {
        return Object.propertyIsEnumerable.call(target, symbol);
      }) : [];
    }
    function getKeys(target) {
      return Object.keys(target).concat(getEnumerableOwnPropertySymbols(target));
    }
    function propertyIsOnObject(object, property) {
      try {
        return property in object;
      } catch (_) {
        return false;
      }
    }
    function propertyIsUnsafe(target, key) {
      return propertyIsOnObject(target, key) && !(Object.hasOwnProperty.call(target, key) && Object.propertyIsEnumerable.call(target, key));
    }
    function mergeObject(target, source, options) {
      var destination = {};
      if (options.isMergeableObject(target)) {
        getKeys(target).forEach(function(key) {
          destination[key] = cloneUnlessOtherwiseSpecified(target[key], options);
        });
      }
      getKeys(source).forEach(function(key) {
        if (propertyIsUnsafe(target, key)) {
          return;
        }
        if (propertyIsOnObject(target, key) && options.isMergeableObject(source[key])) {
          destination[key] = getMergeFunction(key, options)(target[key], source[key], options);
        } else {
          destination[key] = cloneUnlessOtherwiseSpecified(source[key], options);
        }
      });
      return destination;
    }
    function deepmerge(target, source, options) {
      options = options || {};
      options.arrayMerge = options.arrayMerge || defaultArrayMerge;
      options.isMergeableObject = options.isMergeableObject || isMergeableObject;
      options.cloneUnlessOtherwiseSpecified = cloneUnlessOtherwiseSpecified;
      var sourceIsArray = Array.isArray(source);
      var targetIsArray = Array.isArray(target);
      var sourceAndTargetTypesMatch = sourceIsArray === targetIsArray;
      if (!sourceAndTargetTypesMatch) {
        return cloneUnlessOtherwiseSpecified(source, options);
      } else if (sourceIsArray) {
        return options.arrayMerge(target, source, options);
      } else {
        return mergeObject(target, source, options);
      }
    }
    deepmerge.all = function deepmergeAll(array, options) {
      if (!Array.isArray(array)) {
        throw new Error("first argument should be an array");
      }
      return array.reduce(function(prev, next) {
        return deepmerge(prev, next, options);
      }, {});
    };
    var deepmerge_1 = deepmerge;
    module2.exports = deepmerge_1;
  }
});

// node_modules/es5-ext/global.js
var require_global = __commonJS({
  "node_modules/es5-ext/global.js"(exports, module2) {
    var naiveFallback = function() {
      if (typeof self === "object" && self)
        return self;
      if (typeof window === "object" && window)
        return window;
      throw new Error("Unable to resolve global `this`");
    };
    module2.exports = function() {
      if (this)
        return this;
      if (typeof globalThis === "object" && globalThis)
        return globalThis;
      try {
        Object.defineProperty(Object.prototype, "__global__", {
          get: function() {
            return this;
          },
          configurable: true
        });
      } catch (error) {
        return naiveFallback();
      }
      try {
        if (!__global__)
          return naiveFallback();
        return __global__;
      } finally {
        delete Object.prototype.__global__;
      }
    }();
  }
});

// node_modules/websocket/package.json
var require_package = __commonJS({
  "node_modules/websocket/package.json"(exports, module2) {
    module2.exports = {
      _from: "websocket@^1.0.34",
      _id: "websocket@1.0.34",
      _inBundle: false,
      _integrity: "sha512-PRDso2sGwF6kM75QykIesBijKSVceR6jL2G8NGYyq2XrItNC2P5/qL5XeR056GhA+Ly7JMFvJb9I312mJfmqnQ==",
      _location: "/websocket",
      _phantomChildren: {},
      _requested: {
        type: "range",
        registry: true,
        raw: "websocket@^1.0.34",
        name: "websocket",
        escapedName: "websocket",
        rawSpec: "^1.0.34",
        saveSpec: null,
        fetchSpec: "^1.0.34"
      },
      _requiredBy: [
        "/@deepgram/sdk"
      ],
      _resolved: "https://registry.npmjs.org/websocket/-/websocket-1.0.34.tgz",
      _shasum: "2bdc2602c08bf2c82253b730655c0ef7dcab3111",
      _spec: "websocket@^1.0.34",
      _where: "/Users/samfarrar/Documents/transcription_test/deepgram-transcription/node_modules/@deepgram/sdk",
      author: {
        name: "Brian McKelvey",
        email: "theturtle32@gmail.com",
        url: "https://github.com/theturtle32"
      },
      browser: "lib/browser.js",
      bugs: {
        url: "https://github.com/theturtle32/WebSocket-Node/issues"
      },
      bundleDependencies: false,
      config: {
        verbose: false
      },
      contributors: [
        {
          name: "I\xF1aki Baz Castillo",
          email: "ibc@aliax.net",
          url: "http://dev.sipdoc.net"
        }
      ],
      dependencies: {
        bufferutil: "^4.0.1",
        debug: "^2.2.0",
        "es5-ext": "^0.10.50",
        "typedarray-to-buffer": "^3.1.5",
        "utf-8-validate": "^5.0.2",
        yaeti: "^0.0.6"
      },
      deprecated: false,
      description: "Websocket Client & Server Library implementing the WebSocket protocol as specified in RFC 6455.",
      devDependencies: {
        "buffer-equal": "^1.0.0",
        gulp: "^4.0.2",
        "gulp-jshint": "^2.0.4",
        jshint: "^2.0.0",
        "jshint-stylish": "^2.2.1",
        tape: "^4.9.1"
      },
      directories: {
        lib: "./lib"
      },
      engines: {
        node: ">=4.0.0"
      },
      homepage: "https://github.com/theturtle32/WebSocket-Node",
      keywords: [
        "websocket",
        "websockets",
        "socket",
        "networking",
        "comet",
        "push",
        "RFC-6455",
        "realtime",
        "server",
        "client"
      ],
      license: "Apache-2.0",
      main: "index",
      name: "websocket",
      repository: {
        type: "git",
        url: "git+https://github.com/theturtle32/WebSocket-Node.git"
      },
      scripts: {
        gulp: "gulp",
        test: "tape test/unit/*.js"
      },
      version: "1.0.34"
    };
  }
});

// node_modules/websocket/lib/version.js
var require_version = __commonJS({
  "node_modules/websocket/lib/version.js"(exports, module2) {
    module2.exports = require_package().version;
  }
});

// node_modules/websocket/lib/browser.js
var require_browser = __commonJS({
  "node_modules/websocket/lib/browser.js"(exports, module2) {
    var _globalThis;
    if (typeof globalThis === "object") {
      _globalThis = globalThis;
    } else {
      try {
        _globalThis = require_global();
      } catch (error) {
      } finally {
        if (!_globalThis && typeof window !== "undefined") {
          _globalThis = window;
        }
        if (!_globalThis) {
          throw new Error("Could not determine global this");
        }
      }
    }
    var NativeWebSocket = _globalThis.WebSocket || _globalThis.MozWebSocket;
    var websocket_version = require_version();
    function W3CWebSocket(uri, protocols) {
      var native_instance;
      if (protocols) {
        native_instance = new NativeWebSocket(uri, protocols);
      } else {
        native_instance = new NativeWebSocket(uri);
      }
      return native_instance;
    }
    if (NativeWebSocket) {
      ["CONNECTING", "OPEN", "CLOSING", "CLOSED"].forEach(function(prop) {
        Object.defineProperty(W3CWebSocket, prop, {
          get: function() {
            return NativeWebSocket[prop];
          }
        });
      });
    }
    module2.exports = {
      "w3cwebsocket": NativeWebSocket ? W3CWebSocket : null,
      "version": websocket_version
    };
  }
});

// main.ts
var main_exports = {};
__export(main_exports, {
  default: () => DeepgramPlugin
});
module.exports = __toCommonJS(main_exports);
var import_obsidian = require("obsidian");

// node_modules/@deepgram/sdk/dist/module/lib/errors.js
var DeepgramError = class extends Error {
  constructor(message) {
    super(message);
    this.__dgError = true;
    this.name = "DeepgramError";
  }
};
function isDeepgramError(error) {
  return typeof error === "object" && error !== null && "__dgError" in error;
}
var DeepgramApiError = class extends DeepgramError {
  constructor(message, status) {
    super(message);
    this.name = "DeepgramApiError";
    this.status = status;
  }
  toJSON() {
    return {
      name: this.name,
      message: this.message,
      status: this.status
    };
  }
};
var DeepgramUnknownError = class extends DeepgramError {
  constructor(message, originalError) {
    super(message);
    this.name = "DeepgramUnknownError";
    this.originalError = originalError;
  }
};
var DeepgramVersionError = class extends DeepgramError {
  constructor() {
    super(`You are attempting to use an old format for a newer SDK version. Read more here: https://dpgr.am/js-v3`);
    this.name = "DeepgramVersionError";
  }
};

// node_modules/@deepgram/sdk/dist/module/lib/helpers.js
var import_cross_fetch = __toESM(require_browser_ponyfill());
var import_deepmerge = __toESM(require_cjs());
function stripTrailingSlash(url) {
  return url.replace(/\/$/, "");
}
var isBrowser = () => typeof window !== "undefined";
function applySettingDefaults(options, defaults) {
  return (0, import_deepmerge.default)(defaults, options);
}
function appendSearchParams(searchParams, options) {
  Object.keys(options).forEach((i) => {
    if (Array.isArray(options[i])) {
      const arrayParams = options[i];
      arrayParams.forEach((param) => {
        searchParams.append(i, String(param));
      });
    } else {
      searchParams.append(i, String(options[i]));
    }
  });
}
var resolveHeadersConstructor = () => {
  if (typeof Headers === "undefined") {
    return import_cross_fetch.Headers;
  }
  return Headers;
};
var isUrlSource = (providedSource) => {
  if (providedSource.url)
    return true;
  return false;
};
var isTextSource = (providedSource) => {
  if (providedSource.text)
    return true;
  return false;
};
var isFileSource = (providedSource) => {
  if (isReadStreamSource(providedSource) || isBufferSource(providedSource))
    return true;
  return false;
};
var isBufferSource = (providedSource) => {
  if (providedSource)
    return true;
  return false;
};
var isReadStreamSource = (providedSource) => {
  if (providedSource)
    return true;
  return false;
};

// node_modules/@deepgram/sdk/dist/module/lib/version.js
var version = "3.3.1";

// node_modules/@deepgram/sdk/dist/module/lib/constants.js
var NODE_VERSION = process.versions.node;
var DEFAULT_HEADERS = {
  "Content-Type": `application/json`,
  "X-Client-Info": `@deepgram/sdk; ${isBrowser() ? "browser" : "server"}; v${version}`,
  "User-Agent": `@deepgram/sdk/${version} ${isBrowser() ? "javascript" : `node/${NODE_VERSION}`}`
};
var DEFAULT_URL = "https://api.deepgram.com";
var DEFAULT_GLOBAL_OPTIONS = {
  url: DEFAULT_URL
};
var DEFAULT_FETCH_OPTIONS = {
  headers: DEFAULT_HEADERS
};
var DEFAULT_OPTIONS = {
  global: DEFAULT_GLOBAL_OPTIONS,
  fetch: DEFAULT_FETCH_OPTIONS
};

// node_modules/@deepgram/sdk/dist/module/packages/AbstractClient.js
var AbstractClient = class {
  constructor(key, options) {
    var _a, _b;
    this.key = key;
    this.options = options;
    this.key = key;
    if (!key) {
      this.key = process.env.DEEPGRAM_API_KEY;
    }
    if (!this.key) {
      throw new DeepgramError("A deepgram API key is required");
    }
    this.options = applySettingDefaults(options, DEFAULT_OPTIONS);
    if (!((_a = this.options.global) === null || _a === void 0 ? void 0 : _a.url)) {
      throw new DeepgramError(`An API URL is required. It should be set to ${DEFAULT_URL} by default. No idea what happened!`);
    }
    let baseUrlString = this.options.global.url;
    let proxyUrlString;
    if (!baseUrlString.startsWith("http") && !baseUrlString.startsWith("ws")) {
      console.warn(`The base URL provided does not begin with http, https, ws, or wss and will default to https as standard.`);
    }
    if ((_b = this.options.restProxy) === null || _b === void 0 ? void 0 : _b.url) {
      if (this.key !== "proxy") {
        throw new DeepgramError(`Do not attempt to pass any other API key than the string "proxy" when making proxied REST requests. Please ensure your proxy application is responsible for writing our API key to the Authorization header.`);
      }
      proxyUrlString = this.options.restProxy.url;
      if (!proxyUrlString.startsWith("http") && !proxyUrlString.startsWith("ws")) {
        console.warn(`The proxy URL provided does not begin with http, https, ws, or wss and will default to https as standard.`);
      }
      baseUrlString = proxyUrlString;
    }
    this.baseUrl = this.resolveBaseUrl(baseUrlString);
  }
  resolveBaseUrl(url) {
    if (!/^https?:\/\//i.test(url)) {
      url = "https://" + url;
    }
    return new URL(stripTrailingSlash(url));
  }
  willProxy() {
    var _a;
    const proxyUrl = (_a = this.options.restProxy) === null || _a === void 0 ? void 0 : _a.url;
    return !!proxyUrl;
  }
};

// node_modules/@deepgram/sdk/dist/module/packages/AbstractWsClient.js
var import_events = require("events");
var AbstractWsClient = class extends import_events.EventEmitter {
  constructor(key, options = DEFAULT_OPTIONS) {
    var _a;
    super();
    this.key = key;
    this.options = options;
    this.key = key;
    if (!key) {
      this.key = process.env.DEEPGRAM_API_KEY;
    }
    if (!this.key) {
      throw new Error("A deepgram API key is required");
    }
    this.options = applySettingDefaults(options, DEFAULT_OPTIONS);
    if (!((_a = this.options.global) === null || _a === void 0 ? void 0 : _a.url)) {
      throw new Error(`An API URL is required. It should be set to ${DEFAULT_URL} by default. No idea what happened!`);
    }
    let url = this.options.global.url;
    if (!/^https?:\/\//i.test(url)) {
      url = "https://" + url;
    }
    this.baseUrl = new URL(stripTrailingSlash(url));
    this.baseUrl.protocol = this.baseUrl.protocol.toLowerCase().replace(/(http)(s)?/gi, "ws$2");
  }
};

// node_modules/@deepgram/sdk/dist/module/lib/enums/LiveConnectionState.js
var LiveConnectionState;
(function(LiveConnectionState2) {
  LiveConnectionState2[LiveConnectionState2["CONNECTING"] = 0] = "CONNECTING";
  LiveConnectionState2[LiveConnectionState2["OPEN"] = 1] = "OPEN";
  LiveConnectionState2[LiveConnectionState2["CLOSING"] = 2] = "CLOSING";
  LiveConnectionState2[LiveConnectionState2["CLOSED"] = 3] = "CLOSED";
})(LiveConnectionState || (LiveConnectionState = {}));

// node_modules/@deepgram/sdk/dist/module/lib/enums/LiveTranscriptionEvents.js
var LiveTranscriptionEvents;
(function(LiveTranscriptionEvents2) {
  LiveTranscriptionEvents2["Open"] = "open";
  LiveTranscriptionEvents2["Close"] = "close";
  LiveTranscriptionEvents2["Transcript"] = "Results";
  LiveTranscriptionEvents2["Metadata"] = "Metadata";
  LiveTranscriptionEvents2["Error"] = "error";
  LiveTranscriptionEvents2["Warning"] = "warning";
  LiveTranscriptionEvents2["UtteranceEnd"] = "UtteranceEnd";
  LiveTranscriptionEvents2["SpeechStarted"] = "SpeechStarted";
})(LiveTranscriptionEvents || (LiveTranscriptionEvents = {}));

// node_modules/@deepgram/sdk/dist/module/packages/LiveClient.js
var import_websocket = __toESM(require_browser());
var LiveClient = class extends AbstractWsClient {
  constructor(key, options = DEFAULT_OPTIONS, transcriptionOptions = {}, endpoint = "v1/listen") {
    super(key, options);
    this.key = key;
    this.options = options;
    this.transcriptionOptions = transcriptionOptions;
    const url = new URL(endpoint, this.baseUrl);
    url.protocol = url.protocol.toLowerCase().replace(/(http)(s)?/gi, "ws$2");
    appendSearchParams(url.searchParams, this.transcriptionOptions);
    this._socket = new import_websocket.w3cwebsocket(url.toString(), ["token", this.key]);
    this._socket.onopen = () => {
      this.emit(LiveTranscriptionEvents.Open, this);
    };
    this._socket.onclose = (event) => {
      this.emit(LiveTranscriptionEvents.Close, event);
    };
    this._socket.onerror = (event) => {
      this.emit(LiveTranscriptionEvents.Error, event);
    };
    this._socket.onmessage = (event) => {
      try {
        const data = JSON.parse(event.data.toString());
        if (data.type === LiveTranscriptionEvents.Metadata) {
          this.emit(LiveTranscriptionEvents.Metadata, data);
        }
        if (data.type === LiveTranscriptionEvents.Transcript) {
          this.emit(LiveTranscriptionEvents.Transcript, data);
        }
        if (data.type === LiveTranscriptionEvents.UtteranceEnd) {
          this.emit(LiveTranscriptionEvents.UtteranceEnd, data);
        }
        if (data.type === LiveTranscriptionEvents.SpeechStarted) {
          this.emit(LiveTranscriptionEvents.SpeechStarted, data);
        }
      } catch (error) {
        this.emit(LiveTranscriptionEvents.Error, {
          event,
          message: "Unable to parse `data` as JSON.",
          error
        });
      }
    };
  }
  configure(config) {
    this._socket.send(JSON.stringify({
      type: "Configure",
      processors: config
    }));
  }
  keepAlive() {
    this._socket.send(JSON.stringify({
      type: "KeepAlive"
    }));
  }
  getReadyState() {
    return this._socket.readyState;
  }
  /**
   * Sends data to the Deepgram API via websocket connection
   * @param data Audio data to send to Deepgram
   *
   * Conforms to RFC #146 for Node.js - does not send an empty byte.
   * In the browser, a Blob will contain length with no audio.
   * @see https://github.com/deepgram/deepgram-python-sdk/issues/146
   */
  send(data) {
    if (this._socket.readyState === LiveConnectionState.OPEN) {
      if (typeof data === "string") {
        this._socket.send(data);
      } else if (data instanceof Blob) {
        this._socket.send(data);
      } else {
        const buffer = data;
        if (buffer.byteLength > 0) {
          this._socket.send(buffer);
        } else {
          this.emit(LiveTranscriptionEvents.Warning, "Zero-byte detected, skipping. Send `CloseStream` if trying to close the connection.");
        }
      }
    } else {
      throw new DeepgramError("Could not send. Connection not open.");
    }
  }
  /**
   * Denote that you are finished sending audio and close
   * the websocket connection when transcription is finished
   */
  finish() {
    this._socket.send(JSON.stringify({
      type: "CloseStream"
    }));
  }
};

// node_modules/@deepgram/sdk/dist/module/lib/fetch.js
var import_cross_fetch2 = __toESM(require_browser_ponyfill());
var __awaiter = function(thisArg, _arguments, P, generator) {
  function adopt(value) {
    return value instanceof P ? value : new P(function(resolve) {
      resolve(value);
    });
  }
  return new (P || (P = Promise))(function(resolve, reject) {
    function fulfilled(value) {
      try {
        step(generator.next(value));
      } catch (e) {
        reject(e);
      }
    }
    function rejected(value) {
      try {
        step(generator["throw"](value));
      } catch (e) {
        reject(e);
      }
    }
    function step(result) {
      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);
    }
    step((generator = generator.apply(thisArg, _arguments || [])).next());
  });
};
var resolveFetch = (customFetch) => {
  let _fetch;
  if (customFetch) {
    _fetch = customFetch;
  } else if (typeof fetch === "undefined") {
    _fetch = import_cross_fetch2.default;
  } else {
    _fetch = fetch;
  }
  return (...args) => _fetch(...args);
};
var fetchWithAuth = (apiKey, customFetch) => {
  const fetch2 = resolveFetch(customFetch);
  const HeadersConstructor = resolveHeadersConstructor();
  return (input, init) => __awaiter(void 0, void 0, void 0, function* () {
    let headers = new HeadersConstructor(init === null || init === void 0 ? void 0 : init.headers);
    if (!headers.has("Authorization")) {
      headers.set("Authorization", `Token ${apiKey}`);
    }
    return fetch2(input, Object.assign(Object.assign({}, init), { headers }));
  });
};
var resolveResponse = () => __awaiter(void 0, void 0, void 0, function* () {
  if (typeof Response === "undefined") {
    return (yield Promise.resolve().then(() => __toESM(require_browser_ponyfill()))).Response;
  }
  return Response;
});

// node_modules/@deepgram/sdk/dist/module/packages/AbstractRestfulClient.js
var __awaiter2 = function(thisArg, _arguments, P, generator) {
  function adopt(value) {
    return value instanceof P ? value : new P(function(resolve) {
      resolve(value);
    });
  }
  return new (P || (P = Promise))(function(resolve, reject) {
    function fulfilled(value) {
      try {
        step(generator.next(value));
      } catch (e) {
        reject(e);
      }
    }
    function rejected(value) {
      try {
        step(generator["throw"](value));
      } catch (e) {
        reject(e);
      }
    }
    function step(result) {
      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);
    }
    step((generator = generator.apply(thisArg, _arguments || [])).next());
  });
};
var AbstractRestfulClient = class extends AbstractClient {
  constructor(key, options) {
    super(key, options);
    this.key = key;
    this.options = options;
    if (isBrowser() && !this._willProxy()) {
      throw new DeepgramError("Due to CORS we are unable to support REST-based API calls to our API from the browser. Please consider using a proxy, and including a `restProxy: { url: ''}` in your Deepgram client options.");
    }
    this.fetch = fetchWithAuth(this.key, options._experimentalCustomFetch);
  }
  _getErrorMessage(err) {
    return err.msg || err.message || err.error_description || err.error || JSON.stringify(err);
  }
  handleError(error, reject) {
    return __awaiter2(this, void 0, void 0, function* () {
      const Res = yield resolveResponse();
      if (error instanceof Res) {
        error.json().then((err) => {
          reject(new DeepgramApiError(this._getErrorMessage(err), error.status || 500));
        }).catch((err) => {
          reject(new DeepgramUnknownError(this._getErrorMessage(err), err));
        });
      } else {
        reject(new DeepgramUnknownError(this._getErrorMessage(error), error));
      }
    });
  }
  _getRequestParams(method, headers, parameters, body) {
    var _a, _b, _c;
    const params = Object.assign(Object.assign({}, (_a = this.options) === null || _a === void 0 ? void 0 : _a.fetch), { method, headers: Object.assign(Object.assign({}, (_c = (_b = this.options) === null || _b === void 0 ? void 0 : _b.fetch) === null || _c === void 0 ? void 0 : _c.headers), headers) || {} });
    if (method === "GET") {
      return params;
    }
    params.body = body;
    params.duplex = "half";
    return Object.assign(Object.assign({}, params), parameters);
  }
  _handleRequest(fetcher, method, url, headers, parameters, body) {
    return __awaiter2(this, void 0, void 0, function* () {
      return new Promise((resolve, reject) => {
        fetcher(url, this._getRequestParams(method, headers, parameters, body)).then((result) => {
          if (!result.ok)
            throw result;
          return result.json();
        }).then((data) => resolve(data)).catch((error) => this.handleError(error, reject));
      });
    });
  }
  _handleRawRequest(fetcher, method, url, headers, parameters, body) {
    return __awaiter2(this, void 0, void 0, function* () {
      return new Promise((resolve, reject) => {
        fetcher(url, this._getRequestParams(method, headers, parameters, body)).then((result) => {
          if (!result.ok)
            throw result;
          return result;
        }).then((data) => resolve(data)).catch((error) => this.handleError(error, reject));
      });
    });
  }
  get(fetcher, url, headers, parameters) {
    return __awaiter2(this, void 0, void 0, function* () {
      return this._handleRequest(fetcher, "GET", url, headers, parameters);
    });
  }
  post(fetcher, url, body, headers, parameters) {
    return __awaiter2(this, void 0, void 0, function* () {
      return this._handleRequest(fetcher, "POST", url, headers, parameters, body);
    });
  }
  put(fetcher, url, body, headers, parameters) {
    return __awaiter2(this, void 0, void 0, function* () {
      return this._handleRequest(fetcher, "PUT", url, headers, parameters, body);
    });
  }
  patch(fetcher, url, body, headers, parameters) {
    return __awaiter2(this, void 0, void 0, function* () {
      return this._handleRequest(fetcher, "PATCH", url, headers, parameters, body);
    });
  }
  delete(fetcher, url, headers, parameters) {
    return __awaiter2(this, void 0, void 0, function* () {
      return this._handleRequest(fetcher, "DELETE", url, headers, parameters);
    });
  }
  _willProxy() {
    var _a;
    const proxyUrl = (_a = this.options.restProxy) === null || _a === void 0 ? void 0 : _a.url;
    return !!proxyUrl;
  }
};

// node_modules/@deepgram/sdk/dist/module/packages/PrerecordedClient.js
var __awaiter3 = function(thisArg, _arguments, P, generator) {
  function adopt(value) {
    return value instanceof P ? value : new P(function(resolve) {
      resolve(value);
    });
  }
  return new (P || (P = Promise))(function(resolve, reject) {
    function fulfilled(value) {
      try {
        step(generator.next(value));
      } catch (e) {
        reject(e);
      }
    }
    function rejected(value) {
      try {
        step(generator["throw"](value));
      } catch (e) {
        reject(e);
      }
    }
    function step(result) {
      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);
    }
    step((generator = generator.apply(thisArg, _arguments || [])).next());
  });
};
var PrerecordedClient = class extends AbstractRestfulClient {
  transcribeUrl(source, options, endpoint = "v1/listen") {
    return __awaiter3(this, void 0, void 0, function* () {
      try {
        let body;
        if (isUrlSource(source)) {
          body = JSON.stringify(source);
        } else {
          throw new DeepgramError("Unknown transcription source type");
        }
        if (options !== void 0 && "callback" in options) {
          throw new DeepgramError("Callback cannot be provided as an option to a synchronous transcription. Use `transcribeUrlCallback` or `transcribeFileCallback` instead.");
        }
        const transcriptionOptions = Object.assign({}, options);
        const url = new URL(endpoint, this.baseUrl);
        appendSearchParams(url.searchParams, transcriptionOptions);
        const result = yield this.post(this.fetch, url, body);
        return { result, error: null };
      } catch (error) {
        if (isDeepgramError(error)) {
          return { result: null, error };
        }
        throw error;
      }
    });
  }
  transcribeFile(source, options, endpoint = "v1/listen") {
    return __awaiter3(this, void 0, void 0, function* () {
      try {
        let body;
        if (isFileSource(source)) {
          body = source;
        } else {
          throw new DeepgramError("Unknown transcription source type");
        }
        if (options !== void 0 && "callback" in options) {
          throw new DeepgramError("Callback cannot be provided as an option to a synchronous transcription. Use `transcribeUrlCallback` or `transcribeFileCallback` instead.");
        }
        const transcriptionOptions = Object.assign({}, options);
        const url = new URL(endpoint, this.baseUrl);
        appendSearchParams(url.searchParams, transcriptionOptions);
        const result = yield this.post(this.fetch, url, body, {
          "Content-Type": "deepgram/audio+video"
        });
        return { result, error: null };
      } catch (error) {
        if (isDeepgramError(error)) {
          return { result: null, error };
        }
        throw error;
      }
    });
  }
  transcribeUrlCallback(source, callback, options, endpoint = "v1/listen") {
    return __awaiter3(this, void 0, void 0, function* () {
      try {
        let body;
        if (isUrlSource(source)) {
          body = JSON.stringify(source);
        } else {
          throw new DeepgramError("Unknown transcription source type");
        }
        const transcriptionOptions = Object.assign(Object.assign({}, options), { callback: callback.toString() });
        const url = new URL(endpoint, this.baseUrl);
        appendSearchParams(url.searchParams, transcriptionOptions);
        const result = yield this.post(this.fetch, url, body);
        return { result, error: null };
      } catch (error) {
        if (isDeepgramError(error)) {
          return { result: null, error };
        }
        throw error;
      }
    });
  }
  transcribeFileCallback(source, callback, options, endpoint = "v1/listen") {
    return __awaiter3(this, void 0, void 0, function* () {
      try {
        let body;
        if (isFileSource(source)) {
          body = source;
        } else {
          throw new DeepgramError("Unknown transcription source type");
        }
        const transcriptionOptions = Object.assign(Object.assign({}, options), { callback: callback.toString() });
        const url = new URL(endpoint, this.baseUrl);
        appendSearchParams(url.searchParams, transcriptionOptions);
        const result = yield this.post(this.fetch, url, body, {
          "Content-Type": "deepgram/audio+video"
        });
        return { result, error: null };
      } catch (error) {
        if (isDeepgramError(error)) {
          return { result: null, error };
        }
        throw error;
      }
    });
  }
};

// node_modules/@deepgram/sdk/dist/module/packages/ListenClient.js
var ListenClient = class extends AbstractClient {
  get prerecorded() {
    return new PrerecordedClient(this.key, this.options);
  }
  live(transcriptionOptions, endpoint = "v1/listen") {
    return new LiveClient(this.key, this.options, transcriptionOptions, endpoint);
  }
};

// node_modules/@deepgram/sdk/dist/module/packages/ManageClient.js
var __awaiter4 = function(thisArg, _arguments, P, generator) {
  function adopt(value) {
    return value instanceof P ? value : new P(function(resolve) {
      resolve(value);
    });
  }
  return new (P || (P = Promise))(function(resolve, reject) {
    function fulfilled(value) {
      try {
        step(generator.next(value));
      } catch (e) {
        reject(e);
      }
    }
    function rejected(value) {
      try {
        step(generator["throw"](value));
      } catch (e) {
        reject(e);
      }
    }
    function step(result) {
      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);
    }
    step((generator = generator.apply(thisArg, _arguments || [])).next());
  });
};
var ManageClient = class extends AbstractRestfulClient {
  /**
   * @see https://developers.deepgram.com/docs/authenticating#test-request
   */
  getTokenDetails(endpoint = "v1/auth/token") {
    return __awaiter4(this, void 0, void 0, function* () {
      try {
        const url = new URL(this.baseUrl);
        url.pathname = endpoint;
        const result = yield this.get(this.fetch, url);
        return { result, error: null };
      } catch (error) {
        if (isDeepgramError(error)) {
          return { result: null, error };
        }
        throw error;
      }
    });
  }
  /**
   * @see https://developers.deepgram.com/reference/get-projects
   */
  getProjects(endpoint = "v1/projects") {
    return __awaiter4(this, void 0, void 0, function* () {
      try {
        const url = new URL(this.baseUrl);
        url.pathname = endpoint;
        const result = yield this.get(this.fetch, url);
        return { result, error: null };
      } catch (error) {
        if (isDeepgramError(error)) {
          return { result: null, error };
        }
        throw error;
      }
    });
  }
  /**
   * @see https://developers.deepgram.com/reference/get-project
   */
  getProject(projectId, endpoint = "v1/projects/:projectId") {
    return __awaiter4(this, void 0, void 0, function* () {
      try {
        const url = new URL(this.baseUrl);
        url.pathname = endpoint.replace(/:projectId/, projectId);
        const result = yield this.get(this.fetch, url);
        return { result, error: null };
      } catch (error) {
        if (isDeepgramError(error)) {
          return { result: null, error };
        }
        throw error;
      }
    });
  }
  /**
   * @see https://developers.deepgram.com/reference/update-project
   */
  updateProject(projectId, options, endpoint = "v1/projects/:projectId") {
    return __awaiter4(this, void 0, void 0, function* () {
      try {
        const url = new URL(this.baseUrl);
        url.pathname = endpoint.replace(/:projectId/, projectId);
        const body = JSON.stringify(options);
        const result = yield this.patch(this.fetch, url, body);
        return { result, error: null };
      } catch (error) {
        if (isDeepgramError(error)) {
          return { result: null, error };
        }
        throw error;
      }
    });
  }
  /**
   * @see https://developers.deepgram.com/reference/delete-project
   */
  deleteProject(projectId, endpoint = "v1/projects/:projectId") {
    return __awaiter4(this, void 0, void 0, function* () {
      try {
        const url = new URL(this.baseUrl);
        url.pathname = endpoint.replace(/:projectId/, projectId);
        yield this.delete(this.fetch, url);
        return { error: null };
      } catch (error) {
        if (isDeepgramError(error)) {
          return { error };
        }
        throw error;
      }
    });
  }
  /**
   * @see https://developers.deepgram.com/reference/list-keys
   */
  getProjectKeys(projectId, endpoint = "v1/projects/:projectId/keys") {
    return __awaiter4(this, void 0, void 0, function* () {
      try {
        const url = new URL(this.baseUrl);
        url.pathname = endpoint.replace(/:projectId/, projectId);
        const result = yield this.get(this.fetch, url);
        return { result, error: null };
      } catch (error) {
        if (isDeepgramError(error)) {
          return { result: null, error };
        }
        throw error;
      }
    });
  }
  /**
   * @see https://developers.deepgram.com/reference/get-key
   */
  getProjectKey(projectId, keyId, endpoint = "v1/projects/:projectId/keys/:keyId") {
    return __awaiter4(this, void 0, void 0, function* () {
      try {
        const url = new URL(this.baseUrl);
        url.pathname = endpoint.replace(/:projectId/, projectId).replace(/:keyId/, keyId);
        const result = yield this.get(this.fetch, url);
        return { result, error: null };
      } catch (error) {
        if (isDeepgramError(error)) {
          return { result: null, error };
        }
        throw error;
      }
    });
  }
  /**
   * @see https://developers.deepgram.com/reference/create-key
   */
  createProjectKey(projectId, options, endpoint = "v1/projects/:projectId/keys") {
    return __awaiter4(this, void 0, void 0, function* () {
      try {
        const url = new URL(this.baseUrl);
        url.pathname = endpoint.replace(/:projectId/, projectId);
        const body = JSON.stringify(options);
        const result = yield this.post(this.fetch, url, body);
        return { result, error: null };
      } catch (error) {
        if (isDeepgramError(error)) {
          return { result: null, error };
        }
        throw error;
      }
    });
  }
  /**
   * @see https://developers.deepgram.com/reference/delete-key
   */
  deleteProjectKey(projectId, keyId, endpoint = "v1/projects/:projectId/keys/:keyId") {
    return __awaiter4(this, void 0, void 0, function* () {
      try {
        const url = new URL(this.baseUrl);
        url.pathname = endpoint.replace(/:projectId/, projectId).replace(/:keyId/, keyId);
        yield this.delete(this.fetch, url);
        return { error: null };
      } catch (error) {
        if (isDeepgramError(error)) {
          return { error };
        }
        throw error;
      }
    });
  }
  /**
   * @see https://developers.deepgram.com/reference/get-members
   */
  getProjectMembers(projectId, endpoint = "v1/projects/:projectId/members") {
    return __awaiter4(this, void 0, void 0, function* () {
      try {
        const url = new URL(this.baseUrl);
        url.pathname = endpoint.replace(/:projectId/, projectId);
        const result = yield this.get(this.fetch, url);
        return { result, error: null };
      } catch (error) {
        if (isDeepgramError(error)) {
          return { result: null, error };
        }
        throw error;
      }
    });
  }
  /**
   * @see https://developers.deepgram.com/reference/remove-member
   */
  removeProjectMember(projectId, memberId, endpoint = "v1/projects/:projectId/members/:memberId") {
    return __awaiter4(this, void 0, void 0, function* () {
      try {
        const url = new URL(this.baseUrl);
        url.pathname = endpoint.replace(/:projectId/, projectId).replace(/:memberId/, memberId);
        yield this.delete(this.fetch, url);
        return { error: null };
      } catch (error) {
        if (isDeepgramError(error)) {
          return { error };
        }
        throw error;
      }
    });
  }
  /**
   * @see https://developers.deepgram.com/reference/get-member-scopes
   */
  getProjectMemberScopes(projectId, memberId, endpoint = "v1/projects/:projectId/members/:memberId/scopes") {
    return __awaiter4(this, void 0, void 0, function* () {
      try {
        const url = new URL(this.baseUrl);
        url.pathname = endpoint.replace(/:projectId/, projectId).replace(/:memberId/, memberId);
        const result = yield this.get(this.fetch, url);
        return { result, error: null };
      } catch (error) {
        if (isDeepgramError(error)) {
          return { result: null, error };
        }
        throw error;
      }
    });
  }
  /**
   * @see https://developers.deepgram.com/reference/update-scope
   */
  updateProjectMemberScope(projectId, memberId, options, endpoint = "v1/projects/:projectId/members/:memberId/scopes") {
    return __awaiter4(this, void 0, void 0, function* () {
      try {
        const url = new URL(this.baseUrl);
        url.pathname = endpoint.replace(/:projectId/, projectId).replace(/:memberId/, memberId);
        const body = JSON.stringify(options);
        const result = yield this.put(this.fetch, url, body);
        return { result, error: null };
      } catch (error) {
        if (isDeepgramError(error)) {
          return { result: null, error };
        }
        throw error;
      }
    });
  }
  /**
   * @see https://developers.deepgram.com/reference/list-invites
   */
  getProjectInvites(projectId, endpoint = "v1/projects/:projectId/invites") {
    return __awaiter4(this, void 0, void 0, function* () {
      try {
        const url = new URL(this.baseUrl);
        url.pathname = endpoint.replace(/:projectId/, projectId);
        const result = yield this.get(this.fetch, url);
        return { result, error: null };
      } catch (error) {
        if (isDeepgramError(error)) {
          return { result: null, error };
        }
        throw error;
      }
    });
  }
  /**
   * @see https://developers.deepgram.com/reference/send-invites
   */
  sendProjectInvite(projectId, options, endpoint = "v1/projects/:projectId/invites") {
    return __awaiter4(this, void 0, void 0, function* () {
      try {
        const url = new URL(this.baseUrl);
        url.pathname = endpoint.replace(/:projectId/, projectId);
        const body = JSON.stringify(options);
        const result = yield this.post(this.fetch, url, body);
        return { result, error: null };
      } catch (error) {
        if (isDeepgramError(error)) {
          return { result: null, error };
        }
        throw error;
      }
    });
  }
  /**
   * @see https://developers.deepgram.com/reference/delete-invite
   */
  deleteProjectInvite(projectId, email, endpoint = "v1/projects/:projectId/invites/:email") {
    return __awaiter4(this, void 0, void 0, function* () {
      try {
        const url = new URL(this.baseUrl);
        url.pathname = endpoint.replace(/:projectId/, projectId).replace(/:email/, email);
        yield this.delete(this.fetch, url);
        return { error: null };
      } catch (error) {
        if (isDeepgramError(error)) {
          return { error };
        }
        throw error;
      }
    });
  }
  /**
   * @see https://developers.deepgram.com/reference/leave-project
   */
  leaveProject(projectId, endpoint = "v1/projects/:projectId/leave") {
    return __awaiter4(this, void 0, void 0, function* () {
      try {
        const url = new URL(this.baseUrl);
        url.pathname = endpoint.replace(/:projectId/, projectId);
        const result = yield this.delete(this.fetch, url);
        return { result, error: null };
      } catch (error) {
        if (isDeepgramError(error)) {
          return { result: null, error };
        }
        throw error;
      }
    });
  }
  /**
   * @see https://developers.deepgram.com/reference/get-all-requests
   */
  getProjectUsageRequests(projectId, options, endpoint = "v1/projects/:projectId/requests") {
    return __awaiter4(this, void 0, void 0, function* () {
      try {
        const url = new URL(this.baseUrl);
        url.pathname = endpoint.replace(/:projectId/, projectId);
        appendSearchParams(url.searchParams, options);
        const result = yield this.get(this.fetch, url);
        return { result, error: null };
      } catch (error) {
        if (isDeepgramError(error)) {
          return { result: null, error };
        }
        throw error;
      }
    });
  }
  /**
   * @see https://developers.deepgram.com/reference/get-request
   */
  getProjectUsageRequest(projectId, requestId, endpoint = "v1/projects/:projectId/requests/:requestId") {
    return __awaiter4(this, void 0, void 0, function* () {
      try {
        const url = new URL(this.baseUrl);
        url.pathname = endpoint.replace(/:projectId/, projectId).replace(/:requestId/, requestId);
        const result = yield this.get(this.fetch, url);
        return { result, error: null };
      } catch (error) {
        if (isDeepgramError(error)) {
          return { result: null, error };
        }
        throw error;
      }
    });
  }
  /**
   * @see https://developers.deepgram.com/reference/summarize-usage
   */
  getProjectUsageSummary(projectId, options, endpoint = "v1/projects/:projectId/usage") {
    return __awaiter4(this, void 0, void 0, function* () {
      try {
        const url = new URL(this.baseUrl);
        url.pathname = endpoint.replace(/:projectId/, projectId);
        appendSearchParams(url.searchParams, options);
        const result = yield this.get(this.fetch, url);
        return { result, error: null };
      } catch (error) {
        if (isDeepgramError(error)) {
          return { result: null, error };
        }
        throw error;
      }
    });
  }
  /**
   * @see https://developers.deepgram.com/reference/get-fields
   */
  getProjectUsageFields(projectId, options, endpoint = "v1/projects/:projectId/usage/fields") {
    return __awaiter4(this, void 0, void 0, function* () {
      try {
        const url = new URL(this.baseUrl);
        url.pathname = endpoint.replace(/:projectId/, projectId);
        appendSearchParams(url.searchParams, options);
        const result = yield this.get(this.fetch, url);
        return { result, error: null };
      } catch (error) {
        if (isDeepgramError(error)) {
          return { result: null, error };
        }
        throw error;
      }
    });
  }
  /**
   * @see https://developers.deepgram.com/reference/get-all-balances
   */
  getProjectBalances(projectId, endpoint = "v1/projects/:projectId/balances") {
    return __awaiter4(this, void 0, void 0, function* () {
      try {
        const url = new URL(this.baseUrl);
        url.pathname = endpoint.replace(/:projectId/, projectId);
        const result = yield this.get(this.fetch, url);
        return { result, error: null };
      } catch (error) {
        if (isDeepgramError(error)) {
          return { result: null, error };
        }
        throw error;
      }
    });
  }
  /**
   * @see https://developers.deepgram.com/reference/get-balance
   */
  getProjectBalance(projectId, balanceId, endpoint = "v1/projects/:projectId/balances/:balanceId") {
    return __awaiter4(this, void 0, void 0, function* () {
      try {
        const url = new URL(this.baseUrl);
        url.pathname = endpoint.replace(/:projectId/, projectId).replace(/:balanceId/, balanceId);
        const result = yield this.get(this.fetch, url);
        return { result, error: null };
      } catch (error) {
        if (isDeepgramError(error)) {
          return { result: null, error };
        }
        throw error;
      }
    });
  }
};

// node_modules/@deepgram/sdk/dist/module/packages/OnPremClient.js
var __awaiter5 = function(thisArg, _arguments, P, generator) {
  function adopt(value) {
    return value instanceof P ? value : new P(function(resolve) {
      resolve(value);
    });
  }
  return new (P || (P = Promise))(function(resolve, reject) {
    function fulfilled(value) {
      try {
        step(generator.next(value));
      } catch (e) {
        reject(e);
      }
    }
    function rejected(value) {
      try {
        step(generator["throw"](value));
      } catch (e) {
        reject(e);
      }
    }
    function step(result) {
      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);
    }
    step((generator = generator.apply(thisArg, _arguments || [])).next());
  });
};
var OnPremClient = class extends AbstractRestfulClient {
  /**
   * @see https://developers.deepgram.com/reference/list-credentials
   */
  listCredentials(projectId, endpoint = "v1/projects/:projectId/onprem/distribution/credentials") {
    return __awaiter5(this, void 0, void 0, function* () {
      try {
        const url = new URL(this.baseUrl);
        url.pathname = endpoint.replace(/:projectId/, projectId);
        const result = yield this.get(this.fetch, url);
        return { result, error: null };
      } catch (error) {
        if (isDeepgramError(error)) {
          return { result: null, error };
        }
        throw error;
      }
    });
  }
  /**
   * @see https://developers.deepgram.com/reference/get-credentials
   */
  getCredentials(projectId, credentialsId, endpoint = "v1/projects/:projectId/onprem/distribution/credentials/:credentialsId") {
    return __awaiter5(this, void 0, void 0, function* () {
      try {
        const url = new URL(this.baseUrl);
        url.pathname = endpoint.replace(/:projectId/, projectId).replace(/:credentialsId/, credentialsId);
        const result = yield this.get(this.fetch, url);
        return { result, error: null };
      } catch (error) {
        if (isDeepgramError(error)) {
          return { result: null, error };
        }
        throw error;
      }
    });
  }
  /**
   * @see https://developers.deepgram.com/reference/create-credentials
   */
  createCredentials(projectId, options, endpoint = "v1/projects/:projectId/onprem/distribution/credentials") {
    return __awaiter5(this, void 0, void 0, function* () {
      try {
        const url = new URL(this.baseUrl);
        url.pathname = endpoint.replace(/:projectId/, projectId);
        const body = JSON.stringify(options);
        const result = yield this.post(this.fetch, url, body);
        return { result, error: null };
      } catch (error) {
        if (isDeepgramError(error)) {
          return { result: null, error };
        }
        throw error;
      }
    });
  }
  /**
   * @see https://developers.deepgram.com/reference/delete-credentials
   */
  deleteCredentials(projectId, credentialsId, endpoint = "v1/projects/:projectId/onprem/distribution/credentials/:credentialsId") {
    return __awaiter5(this, void 0, void 0, function* () {
      try {
        const url = new URL(this.baseUrl);
        url.pathname = endpoint.replace(/:projectId/, projectId).replace(/:credentialsId/, credentialsId);
        const result = yield this.delete(this.fetch, url);
        return { result, error: null };
      } catch (error) {
        if (isDeepgramError(error)) {
          return { result: null, error };
        }
        throw error;
      }
    });
  }
};

// node_modules/@deepgram/sdk/dist/module/packages/ReadClient.js
var __awaiter6 = function(thisArg, _arguments, P, generator) {
  function adopt(value) {
    return value instanceof P ? value : new P(function(resolve) {
      resolve(value);
    });
  }
  return new (P || (P = Promise))(function(resolve, reject) {
    function fulfilled(value) {
      try {
        step(generator.next(value));
      } catch (e) {
        reject(e);
      }
    }
    function rejected(value) {
      try {
        step(generator["throw"](value));
      } catch (e) {
        reject(e);
      }
    }
    function step(result) {
      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);
    }
    step((generator = generator.apply(thisArg, _arguments || [])).next());
  });
};
var ReadClient = class extends AbstractRestfulClient {
  analyzeUrl(source, options, endpoint = "v1/read") {
    return __awaiter6(this, void 0, void 0, function* () {
      try {
        let body;
        if (isUrlSource(source)) {
          body = JSON.stringify(source);
        } else {
          throw new DeepgramError("Unknown source type");
        }
        if (options !== void 0 && "callback" in options) {
          throw new DeepgramError("Callback cannot be provided as an option to a synchronous transcription. Use `analyzeUrlCallback` or `analyzeTextCallback` instead.");
        }
        const analyzeOptions = Object.assign({}, options);
        const url = new URL(endpoint, this.baseUrl);
        appendSearchParams(url.searchParams, analyzeOptions);
        const result = yield this.post(this.fetch, url, body);
        return { result, error: null };
      } catch (error) {
        if (isDeepgramError(error)) {
          return { result: null, error };
        }
        throw error;
      }
    });
  }
  analyzeText(source, options, endpoint = "v1/read") {
    return __awaiter6(this, void 0, void 0, function* () {
      try {
        let body;
        if (isTextSource(source)) {
          body = JSON.stringify(source);
        } else {
          throw new DeepgramError("Unknown source type");
        }
        if (options !== void 0 && "callback" in options) {
          throw new DeepgramError("Callback cannot be provided as an option to a synchronous requests. Use `analyzeUrlCallback` or `analyzeTextCallback` instead.");
        }
        const analyzeOptions = Object.assign({}, options);
        const url = new URL(endpoint, this.baseUrl);
        appendSearchParams(url.searchParams, analyzeOptions);
        const result = yield this.post(this.fetch, url, body);
        return { result, error: null };
      } catch (error) {
        if (isDeepgramError(error)) {
          return { result: null, error };
        }
        throw error;
      }
    });
  }
  analyzeUrlCallback(source, callback, options, endpoint = "v1/read") {
    return __awaiter6(this, void 0, void 0, function* () {
      try {
        let body;
        if (isUrlSource(source)) {
          body = JSON.stringify(source);
        } else {
          throw new DeepgramError("Unknown source type");
        }
        const transcriptionOptions = Object.assign(Object.assign({}, options), { callback: callback.toString() });
        const url = new URL(endpoint, this.baseUrl);
        appendSearchParams(url.searchParams, transcriptionOptions);
        const result = yield this.post(this.fetch, url, body);
        return { result, error: null };
      } catch (error) {
        if (isDeepgramError(error)) {
          return { result: null, error };
        }
        throw error;
      }
    });
  }
  analyzeTextCallback(source, callback, options, endpoint = "v1/read") {
    return __awaiter6(this, void 0, void 0, function* () {
      try {
        let body;
        if (isTextSource(source)) {
          body = JSON.stringify(source);
        } else {
          throw new DeepgramError("Unknown source type");
        }
        const transcriptionOptions = Object.assign(Object.assign({}, options), { callback: callback.toString() });
        const url = new URL(endpoint, this.baseUrl);
        appendSearchParams(url.searchParams, transcriptionOptions);
        const result = yield this.post(this.fetch, url, body, {
          "Content-Type": "deepgram/audio+video"
        });
        return { result, error: null };
      } catch (error) {
        if (isDeepgramError(error)) {
          return { result: null, error };
        }
        throw error;
      }
    });
  }
};

// node_modules/@deepgram/sdk/dist/module/packages/SpeakClient.js
var __awaiter7 = function(thisArg, _arguments, P, generator) {
  function adopt(value) {
    return value instanceof P ? value : new P(function(resolve) {
      resolve(value);
    });
  }
  return new (P || (P = Promise))(function(resolve, reject) {
    function fulfilled(value) {
      try {
        step(generator.next(value));
      } catch (e) {
        reject(e);
      }
    }
    function rejected(value) {
      try {
        step(generator["throw"](value));
      } catch (e) {
        reject(e);
      }
    }
    function step(result) {
      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);
    }
    step((generator = generator.apply(thisArg, _arguments || [])).next());
  });
};
var SpeakClient = class extends AbstractRestfulClient {
  /**
   * @see https://developers.deepgram.com/reference/text-to-speech-api
   */
  request(source, options, endpoint = "v1/speak") {
    return __awaiter7(this, void 0, void 0, function* () {
      try {
        let body;
        if (isTextSource(source)) {
          body = JSON.stringify(source);
        } else {
          throw new DeepgramError("Unknown transcription source type");
        }
        const speakOptions = Object.assign({ model: "aura-asteria-en" }, options);
        const url = new URL(endpoint, this.baseUrl);
        appendSearchParams(url.searchParams, speakOptions);
        this.result = yield this._handleRawRequest(this.fetch, "POST", url, {}, {}, body);
        return this;
      } catch (error) {
        throw error;
      }
    });
  }
  getStream() {
    return __awaiter7(this, void 0, void 0, function* () {
      if (!this.result)
        throw new DeepgramUnknownError("Tried to get stream before making request", "");
      return this.result.body;
    });
  }
  getHeaders() {
    return __awaiter7(this, void 0, void 0, function* () {
      if (!this.result)
        throw new DeepgramUnknownError("Tried to get headers before making request", "");
      return this.result.headers;
    });
  }
};

// node_modules/@deepgram/sdk/dist/module/DeepgramClient.js
var DeepgramClient = class extends AbstractClient {
  get listen() {
    return new ListenClient(this.key, this.options);
  }
  get manage() {
    return new ManageClient(this.key, this.options);
  }
  get onprem() {
    return new OnPremClient(this.key, this.options);
  }
  get read() {
    return new ReadClient(this.key, this.options);
  }
  get speak() {
    return new SpeakClient(this.key, this.options);
  }
  /**
   * Major version fallback errors are below
   *
   * @see https://developers.deepgram.com/docs/js-sdk-v2-to-v3-migration-guide
   */
  get transcription() {
    throw new DeepgramVersionError();
  }
  get projects() {
    throw new DeepgramVersionError();
  }
  get keys() {
    throw new DeepgramVersionError();
  }
  get members() {
    throw new DeepgramVersionError();
  }
  get scopes() {
    throw new DeepgramVersionError();
  }
  get invitation() {
    throw new DeepgramVersionError();
  }
  get usage() {
    throw new DeepgramVersionError();
  }
  get billing() {
    throw new DeepgramVersionError();
  }
};

// node_modules/@deepgram/sdk/dist/module/index.js
var createClient = (apiKey, options = {}) => {
  return new DeepgramClient(apiKey, options);
};

// main.ts
var DEFAULT_SETTINGS = {
  apiKey: "",
  summarize: false,
  topic_detection: false,
  intent_detection: false,
  sentiment: false,
  smart_format: false,
  punctuation: false,
  paragraphs: false,
  utterances: false,
  filler_words: false
};
var DeepgramPlugin = class extends import_obsidian.Plugin {
  async onload() {
    await this.loadSettings();
    this.addCommand({
      id: "start-transcription",
      name: "Start Transcription",
      callback: () => {
        this.startTranscription();
      }
    });
    this.addSettingTab(new DeepgramSettingTab(this.app, this));
  }
  async loadSettings() {
    this.settings = Object.assign({}, DEFAULT_SETTINGS, await this.loadData());
  }
  async saveSettings() {
    await this.saveData(this.settings);
  }
  async startTranscription() {
    const deepgramClient = createClient(this.settings.apiKey);
    const deepgram = deepgramClient.listen.live({
      language: "en",
      punctuate: true,
      smart_format: true,
      model: "nova"
    });
    deepgram.addListener(LiveTranscriptionEvents.Open, async () => {
      console.log("deepgram: connected");
    });
    deepgram.addListener(LiveTranscriptionEvents.Transcript, (data) => {
      console.log("deepgram: transcript received");
      const activeView = this.app.workspace.getActiveViewOfType(import_obsidian.MarkdownView);
      if (activeView) {
        const editor = activeView.editor;
        editor.replaceRange(data.channel.alternatives[0].transcript, editor.getCursor());
      }
    });
    deepgram.addListener(LiveTranscriptionEvents.Error, async (error) => {
      console.error("deepgram: error received", error);
    });
    const mediaStream = await navigator.mediaDevices.getUserMedia({ audio: true });
    const mediaRecorder = new MediaRecorder(mediaStream, { mimeType: "audio/webm" });
    mediaRecorder.addEventListener("dataavailable", (event) => {
      if (event.data.size > 0) {
        deepgram.send(event.data);
      }
    });
    mediaRecorder.start(1e3);
  }
};
var DeepgramSettingTab = class extends import_obsidian.PluginSettingTab {
  constructor(app, plugin) {
    super(app, plugin);
    this.plugin = plugin;
  }
  display() {
    const { containerEl } = this;
    containerEl.empty();
    new import_obsidian.Setting(containerEl).setName("Deepgram API Key").setDesc("Enter your Deepgram API key").addText((text) => text.setPlaceholder("API Key").setValue(this.plugin.settings.apiKey).onChange(async (value) => {
      this.plugin.settings.apiKey = value;
      await this.plugin.saveSettings();
    }));
  }
};
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsibm9kZV9tb2R1bGVzL2Nyb3NzLWZldGNoL2Rpc3QvYnJvd3Nlci1wb255ZmlsbC5qcyIsICJub2RlX21vZHVsZXMvZGVlcG1lcmdlL2Rpc3QvY2pzLmpzIiwgIm5vZGVfbW9kdWxlcy9lczUtZXh0L2dsb2JhbC5qcyIsICJub2RlX21vZHVsZXMvd2Vic29ja2V0L3BhY2thZ2UuanNvbiIsICJub2RlX21vZHVsZXMvd2Vic29ja2V0L2xpYi92ZXJzaW9uLmpzIiwgIm5vZGVfbW9kdWxlcy93ZWJzb2NrZXQvbGliL2Jyb3dzZXIuanMiLCAibWFpbi50cyIsICJub2RlX21vZHVsZXMvQGRlZXBncmFtL3Nkay9zcmMvbGliL2Vycm9ycy50cyIsICJub2RlX21vZHVsZXMvQGRlZXBncmFtL3Nkay9zcmMvbGliL2hlbHBlcnMudHMiLCAibm9kZV9tb2R1bGVzL0BkZWVwZ3JhbS9zZGsvc3JjL2xpYi92ZXJzaW9uLnRzIiwgIm5vZGVfbW9kdWxlcy9AZGVlcGdyYW0vc2RrL3NyYy9saWIvY29uc3RhbnRzLnRzIiwgIm5vZGVfbW9kdWxlcy9AZGVlcGdyYW0vc2RrL3NyYy9wYWNrYWdlcy9BYnN0cmFjdENsaWVudC50cyIsICJub2RlX21vZHVsZXMvQGRlZXBncmFtL3Nkay9zcmMvcGFja2FnZXMvQWJzdHJhY3RXc0NsaWVudC50cyIsICJub2RlX21vZHVsZXMvQGRlZXBncmFtL3Nkay9zcmMvbGliL2VudW1zL0xpdmVDb25uZWN0aW9uU3RhdGUudHMiLCAibm9kZV9tb2R1bGVzL0BkZWVwZ3JhbS9zZGsvc3JjL2xpYi9lbnVtcy9MaXZlVHJhbnNjcmlwdGlvbkV2ZW50cy50cyIsICJub2RlX21vZHVsZXMvQGRlZXBncmFtL3Nkay9zcmMvcGFja2FnZXMvTGl2ZUNsaWVudC50cyIsICJub2RlX21vZHVsZXMvQGRlZXBncmFtL3Nkay9zcmMvbGliL2ZldGNoLnRzIiwgIm5vZGVfbW9kdWxlcy9AZGVlcGdyYW0vc2RrL3NyYy9wYWNrYWdlcy9BYnN0cmFjdFJlc3RmdWxDbGllbnQudHMiLCAibm9kZV9tb2R1bGVzL0BkZWVwZ3JhbS9zZGsvc3JjL3BhY2thZ2VzL1ByZXJlY29yZGVkQ2xpZW50LnRzIiwgIm5vZGVfbW9kdWxlcy9AZGVlcGdyYW0vc2RrL3NyYy9wYWNrYWdlcy9MaXN0ZW5DbGllbnQudHMiLCAibm9kZV9tb2R1bGVzL0BkZWVwZ3JhbS9zZGsvc3JjL3BhY2thZ2VzL01hbmFnZUNsaWVudC50cyIsICJub2RlX21vZHVsZXMvQGRlZXBncmFtL3Nkay9zcmMvcGFja2FnZXMvT25QcmVtQ2xpZW50LnRzIiwgIm5vZGVfbW9kdWxlcy9AZGVlcGdyYW0vc2RrL3NyYy9wYWNrYWdlcy9SZWFkQ2xpZW50LnRzIiwgIm5vZGVfbW9kdWxlcy9AZGVlcGdyYW0vc2RrL3NyYy9wYWNrYWdlcy9TcGVha0NsaWVudC50cyIsICJub2RlX21vZHVsZXMvQGRlZXBncmFtL3Nkay9zcmMvRGVlcGdyYW1DbGllbnQudHMiLCAibm9kZV9tb2R1bGVzL0BkZWVwZ3JhbS9zZGsvc3JjL2luZGV4LnRzIl0sCiAgInNvdXJjZXNDb250ZW50IjogWyJ2YXIgZ2xvYmFsID0gdHlwZW9mIHNlbGYgIT09ICd1bmRlZmluZWQnID8gc2VsZiA6IHRoaXM7XG52YXIgX19zZWxmX18gPSAoZnVuY3Rpb24gKCkge1xuZnVuY3Rpb24gRigpIHtcbnRoaXMuZmV0Y2ggPSBmYWxzZTtcbnRoaXMuRE9NRXhjZXB0aW9uID0gZ2xvYmFsLkRPTUV4Y2VwdGlvblxufVxuRi5wcm90b3R5cGUgPSBnbG9iYWw7XG5yZXR1cm4gbmV3IEYoKTtcbn0pKCk7XG4oZnVuY3Rpb24oc2VsZikge1xuXG52YXIgaXJyZWxldmFudCA9IChmdW5jdGlvbiAoZXhwb3J0cykge1xuXG4gIHZhciBzdXBwb3J0ID0ge1xuICAgIHNlYXJjaFBhcmFtczogJ1VSTFNlYXJjaFBhcmFtcycgaW4gc2VsZixcbiAgICBpdGVyYWJsZTogJ1N5bWJvbCcgaW4gc2VsZiAmJiAnaXRlcmF0b3InIGluIFN5bWJvbCxcbiAgICBibG9iOlxuICAgICAgJ0ZpbGVSZWFkZXInIGluIHNlbGYgJiZcbiAgICAgICdCbG9iJyBpbiBzZWxmICYmXG4gICAgICAoZnVuY3Rpb24oKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgbmV3IEJsb2IoKTtcbiAgICAgICAgICByZXR1cm4gdHJ1ZVxuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlXG4gICAgICAgIH1cbiAgICAgIH0pKCksXG4gICAgZm9ybURhdGE6ICdGb3JtRGF0YScgaW4gc2VsZixcbiAgICBhcnJheUJ1ZmZlcjogJ0FycmF5QnVmZmVyJyBpbiBzZWxmXG4gIH07XG5cbiAgZnVuY3Rpb24gaXNEYXRhVmlldyhvYmopIHtcbiAgICByZXR1cm4gb2JqICYmIERhdGFWaWV3LnByb3RvdHlwZS5pc1Byb3RvdHlwZU9mKG9iailcbiAgfVxuXG4gIGlmIChzdXBwb3J0LmFycmF5QnVmZmVyKSB7XG4gICAgdmFyIHZpZXdDbGFzc2VzID0gW1xuICAgICAgJ1tvYmplY3QgSW50OEFycmF5XScsXG4gICAgICAnW29iamVjdCBVaW50OEFycmF5XScsXG4gICAgICAnW29iamVjdCBVaW50OENsYW1wZWRBcnJheV0nLFxuICAgICAgJ1tvYmplY3QgSW50MTZBcnJheV0nLFxuICAgICAgJ1tvYmplY3QgVWludDE2QXJyYXldJyxcbiAgICAgICdbb2JqZWN0IEludDMyQXJyYXldJyxcbiAgICAgICdbb2JqZWN0IFVpbnQzMkFycmF5XScsXG4gICAgICAnW29iamVjdCBGbG9hdDMyQXJyYXldJyxcbiAgICAgICdbb2JqZWN0IEZsb2F0NjRBcnJheV0nXG4gICAgXTtcblxuICAgIHZhciBpc0FycmF5QnVmZmVyVmlldyA9XG4gICAgICBBcnJheUJ1ZmZlci5pc1ZpZXcgfHxcbiAgICAgIGZ1bmN0aW9uKG9iaikge1xuICAgICAgICByZXR1cm4gb2JqICYmIHZpZXdDbGFzc2VzLmluZGV4T2YoT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG9iaikpID4gLTFcbiAgICAgIH07XG4gIH1cblxuICBmdW5jdGlvbiBub3JtYWxpemVOYW1lKG5hbWUpIHtcbiAgICBpZiAodHlwZW9mIG5hbWUgIT09ICdzdHJpbmcnKSB7XG4gICAgICBuYW1lID0gU3RyaW5nKG5hbWUpO1xuICAgIH1cbiAgICBpZiAoL1teYS16MC05XFwtIyQlJicqKy5eX2B8fl0vaS50ZXN0KG5hbWUpKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdJbnZhbGlkIGNoYXJhY3RlciBpbiBoZWFkZXIgZmllbGQgbmFtZScpXG4gICAgfVxuICAgIHJldHVybiBuYW1lLnRvTG93ZXJDYXNlKClcbiAgfVxuXG4gIGZ1bmN0aW9uIG5vcm1hbGl6ZVZhbHVlKHZhbHVlKSB7XG4gICAgaWYgKHR5cGVvZiB2YWx1ZSAhPT0gJ3N0cmluZycpIHtcbiAgICAgIHZhbHVlID0gU3RyaW5nKHZhbHVlKTtcbiAgICB9XG4gICAgcmV0dXJuIHZhbHVlXG4gIH1cblxuICAvLyBCdWlsZCBhIGRlc3RydWN0aXZlIGl0ZXJhdG9yIGZvciB0aGUgdmFsdWUgbGlzdFxuICBmdW5jdGlvbiBpdGVyYXRvckZvcihpdGVtcykge1xuICAgIHZhciBpdGVyYXRvciA9IHtcbiAgICAgIG5leHQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgdmFsdWUgPSBpdGVtcy5zaGlmdCgpO1xuICAgICAgICByZXR1cm4ge2RvbmU6IHZhbHVlID09PSB1bmRlZmluZWQsIHZhbHVlOiB2YWx1ZX1cbiAgICAgIH1cbiAgICB9O1xuXG4gICAgaWYgKHN1cHBvcnQuaXRlcmFibGUpIHtcbiAgICAgIGl0ZXJhdG9yW1N5bWJvbC5pdGVyYXRvcl0gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIGl0ZXJhdG9yXG4gICAgICB9O1xuICAgIH1cblxuICAgIHJldHVybiBpdGVyYXRvclxuICB9XG5cbiAgZnVuY3Rpb24gSGVhZGVycyhoZWFkZXJzKSB7XG4gICAgdGhpcy5tYXAgPSB7fTtcblxuICAgIGlmIChoZWFkZXJzIGluc3RhbmNlb2YgSGVhZGVycykge1xuICAgICAgaGVhZGVycy5mb3JFYWNoKGZ1bmN0aW9uKHZhbHVlLCBuYW1lKSB7XG4gICAgICAgIHRoaXMuYXBwZW5kKG5hbWUsIHZhbHVlKTtcbiAgICAgIH0sIHRoaXMpO1xuICAgIH0gZWxzZSBpZiAoQXJyYXkuaXNBcnJheShoZWFkZXJzKSkge1xuICAgICAgaGVhZGVycy5mb3JFYWNoKGZ1bmN0aW9uKGhlYWRlcikge1xuICAgICAgICB0aGlzLmFwcGVuZChoZWFkZXJbMF0sIGhlYWRlclsxXSk7XG4gICAgICB9LCB0aGlzKTtcbiAgICB9IGVsc2UgaWYgKGhlYWRlcnMpIHtcbiAgICAgIE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKGhlYWRlcnMpLmZvckVhY2goZnVuY3Rpb24obmFtZSkge1xuICAgICAgICB0aGlzLmFwcGVuZChuYW1lLCBoZWFkZXJzW25hbWVdKTtcbiAgICAgIH0sIHRoaXMpO1xuICAgIH1cbiAgfVxuXG4gIEhlYWRlcnMucHJvdG90eXBlLmFwcGVuZCA9IGZ1bmN0aW9uKG5hbWUsIHZhbHVlKSB7XG4gICAgbmFtZSA9IG5vcm1hbGl6ZU5hbWUobmFtZSk7XG4gICAgdmFsdWUgPSBub3JtYWxpemVWYWx1ZSh2YWx1ZSk7XG4gICAgdmFyIG9sZFZhbHVlID0gdGhpcy5tYXBbbmFtZV07XG4gICAgdGhpcy5tYXBbbmFtZV0gPSBvbGRWYWx1ZSA/IG9sZFZhbHVlICsgJywgJyArIHZhbHVlIDogdmFsdWU7XG4gIH07XG5cbiAgSGVhZGVycy5wcm90b3R5cGVbJ2RlbGV0ZSddID0gZnVuY3Rpb24obmFtZSkge1xuICAgIGRlbGV0ZSB0aGlzLm1hcFtub3JtYWxpemVOYW1lKG5hbWUpXTtcbiAgfTtcblxuICBIZWFkZXJzLnByb3RvdHlwZS5nZXQgPSBmdW5jdGlvbihuYW1lKSB7XG4gICAgbmFtZSA9IG5vcm1hbGl6ZU5hbWUobmFtZSk7XG4gICAgcmV0dXJuIHRoaXMuaGFzKG5hbWUpID8gdGhpcy5tYXBbbmFtZV0gOiBudWxsXG4gIH07XG5cbiAgSGVhZGVycy5wcm90b3R5cGUuaGFzID0gZnVuY3Rpb24obmFtZSkge1xuICAgIHJldHVybiB0aGlzLm1hcC5oYXNPd25Qcm9wZXJ0eShub3JtYWxpemVOYW1lKG5hbWUpKVxuICB9O1xuXG4gIEhlYWRlcnMucHJvdG90eXBlLnNldCA9IGZ1bmN0aW9uKG5hbWUsIHZhbHVlKSB7XG4gICAgdGhpcy5tYXBbbm9ybWFsaXplTmFtZShuYW1lKV0gPSBub3JtYWxpemVWYWx1ZSh2YWx1ZSk7XG4gIH07XG5cbiAgSGVhZGVycy5wcm90b3R5cGUuZm9yRWFjaCA9IGZ1bmN0aW9uKGNhbGxiYWNrLCB0aGlzQXJnKSB7XG4gICAgZm9yICh2YXIgbmFtZSBpbiB0aGlzLm1hcCkge1xuICAgICAgaWYgKHRoaXMubWFwLmhhc093blByb3BlcnR5KG5hbWUpKSB7XG4gICAgICAgIGNhbGxiYWNrLmNhbGwodGhpc0FyZywgdGhpcy5tYXBbbmFtZV0sIG5hbWUsIHRoaXMpO1xuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICBIZWFkZXJzLnByb3RvdHlwZS5rZXlzID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIGl0ZW1zID0gW107XG4gICAgdGhpcy5mb3JFYWNoKGZ1bmN0aW9uKHZhbHVlLCBuYW1lKSB7XG4gICAgICBpdGVtcy5wdXNoKG5hbWUpO1xuICAgIH0pO1xuICAgIHJldHVybiBpdGVyYXRvckZvcihpdGVtcylcbiAgfTtcblxuICBIZWFkZXJzLnByb3RvdHlwZS52YWx1ZXMgPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgaXRlbXMgPSBbXTtcbiAgICB0aGlzLmZvckVhY2goZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgIGl0ZW1zLnB1c2godmFsdWUpO1xuICAgIH0pO1xuICAgIHJldHVybiBpdGVyYXRvckZvcihpdGVtcylcbiAgfTtcblxuICBIZWFkZXJzLnByb3RvdHlwZS5lbnRyaWVzID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIGl0ZW1zID0gW107XG4gICAgdGhpcy5mb3JFYWNoKGZ1bmN0aW9uKHZhbHVlLCBuYW1lKSB7XG4gICAgICBpdGVtcy5wdXNoKFtuYW1lLCB2YWx1ZV0pO1xuICAgIH0pO1xuICAgIHJldHVybiBpdGVyYXRvckZvcihpdGVtcylcbiAgfTtcblxuICBpZiAoc3VwcG9ydC5pdGVyYWJsZSkge1xuICAgIEhlYWRlcnMucHJvdG90eXBlW1N5bWJvbC5pdGVyYXRvcl0gPSBIZWFkZXJzLnByb3RvdHlwZS5lbnRyaWVzO1xuICB9XG5cbiAgZnVuY3Rpb24gY29uc3VtZWQoYm9keSkge1xuICAgIGlmIChib2R5LmJvZHlVc2VkKSB7XG4gICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QobmV3IFR5cGVFcnJvcignQWxyZWFkeSByZWFkJykpXG4gICAgfVxuICAgIGJvZHkuYm9keVVzZWQgPSB0cnVlO1xuICB9XG5cbiAgZnVuY3Rpb24gZmlsZVJlYWRlclJlYWR5KHJlYWRlcikge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgIHJlYWRlci5vbmxvYWQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgcmVzb2x2ZShyZWFkZXIucmVzdWx0KTtcbiAgICAgIH07XG4gICAgICByZWFkZXIub25lcnJvciA9IGZ1bmN0aW9uKCkge1xuICAgICAgICByZWplY3QocmVhZGVyLmVycm9yKTtcbiAgICAgIH07XG4gICAgfSlcbiAgfVxuXG4gIGZ1bmN0aW9uIHJlYWRCbG9iQXNBcnJheUJ1ZmZlcihibG9iKSB7XG4gICAgdmFyIHJlYWRlciA9IG5ldyBGaWxlUmVhZGVyKCk7XG4gICAgdmFyIHByb21pc2UgPSBmaWxlUmVhZGVyUmVhZHkocmVhZGVyKTtcbiAgICByZWFkZXIucmVhZEFzQXJyYXlCdWZmZXIoYmxvYik7XG4gICAgcmV0dXJuIHByb21pc2VcbiAgfVxuXG4gIGZ1bmN0aW9uIHJlYWRCbG9iQXNUZXh0KGJsb2IpIHtcbiAgICB2YXIgcmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKTtcbiAgICB2YXIgcHJvbWlzZSA9IGZpbGVSZWFkZXJSZWFkeShyZWFkZXIpO1xuICAgIHJlYWRlci5yZWFkQXNUZXh0KGJsb2IpO1xuICAgIHJldHVybiBwcm9taXNlXG4gIH1cblxuICBmdW5jdGlvbiByZWFkQXJyYXlCdWZmZXJBc1RleHQoYnVmKSB7XG4gICAgdmFyIHZpZXcgPSBuZXcgVWludDhBcnJheShidWYpO1xuICAgIHZhciBjaGFycyA9IG5ldyBBcnJheSh2aWV3Lmxlbmd0aCk7XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHZpZXcubGVuZ3RoOyBpKyspIHtcbiAgICAgIGNoYXJzW2ldID0gU3RyaW5nLmZyb21DaGFyQ29kZSh2aWV3W2ldKTtcbiAgICB9XG4gICAgcmV0dXJuIGNoYXJzLmpvaW4oJycpXG4gIH1cblxuICBmdW5jdGlvbiBidWZmZXJDbG9uZShidWYpIHtcbiAgICBpZiAoYnVmLnNsaWNlKSB7XG4gICAgICByZXR1cm4gYnVmLnNsaWNlKDApXG4gICAgfSBlbHNlIHtcbiAgICAgIHZhciB2aWV3ID0gbmV3IFVpbnQ4QXJyYXkoYnVmLmJ5dGVMZW5ndGgpO1xuICAgICAgdmlldy5zZXQobmV3IFVpbnQ4QXJyYXkoYnVmKSk7XG4gICAgICByZXR1cm4gdmlldy5idWZmZXJcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBCb2R5KCkge1xuICAgIHRoaXMuYm9keVVzZWQgPSBmYWxzZTtcblxuICAgIHRoaXMuX2luaXRCb2R5ID0gZnVuY3Rpb24oYm9keSkge1xuICAgICAgdGhpcy5fYm9keUluaXQgPSBib2R5O1xuICAgICAgaWYgKCFib2R5KSB7XG4gICAgICAgIHRoaXMuX2JvZHlUZXh0ID0gJyc7XG4gICAgICB9IGVsc2UgaWYgKHR5cGVvZiBib2R5ID09PSAnc3RyaW5nJykge1xuICAgICAgICB0aGlzLl9ib2R5VGV4dCA9IGJvZHk7XG4gICAgICB9IGVsc2UgaWYgKHN1cHBvcnQuYmxvYiAmJiBCbG9iLnByb3RvdHlwZS5pc1Byb3RvdHlwZU9mKGJvZHkpKSB7XG4gICAgICAgIHRoaXMuX2JvZHlCbG9iID0gYm9keTtcbiAgICAgIH0gZWxzZSBpZiAoc3VwcG9ydC5mb3JtRGF0YSAmJiBGb3JtRGF0YS5wcm90b3R5cGUuaXNQcm90b3R5cGVPZihib2R5KSkge1xuICAgICAgICB0aGlzLl9ib2R5Rm9ybURhdGEgPSBib2R5O1xuICAgICAgfSBlbHNlIGlmIChzdXBwb3J0LnNlYXJjaFBhcmFtcyAmJiBVUkxTZWFyY2hQYXJhbXMucHJvdG90eXBlLmlzUHJvdG90eXBlT2YoYm9keSkpIHtcbiAgICAgICAgdGhpcy5fYm9keVRleHQgPSBib2R5LnRvU3RyaW5nKCk7XG4gICAgICB9IGVsc2UgaWYgKHN1cHBvcnQuYXJyYXlCdWZmZXIgJiYgc3VwcG9ydC5ibG9iICYmIGlzRGF0YVZpZXcoYm9keSkpIHtcbiAgICAgICAgdGhpcy5fYm9keUFycmF5QnVmZmVyID0gYnVmZmVyQ2xvbmUoYm9keS5idWZmZXIpO1xuICAgICAgICAvLyBJRSAxMC0xMSBjYW4ndCBoYW5kbGUgYSBEYXRhVmlldyBib2R5LlxuICAgICAgICB0aGlzLl9ib2R5SW5pdCA9IG5ldyBCbG9iKFt0aGlzLl9ib2R5QXJyYXlCdWZmZXJdKTtcbiAgICAgIH0gZWxzZSBpZiAoc3VwcG9ydC5hcnJheUJ1ZmZlciAmJiAoQXJyYXlCdWZmZXIucHJvdG90eXBlLmlzUHJvdG90eXBlT2YoYm9keSkgfHwgaXNBcnJheUJ1ZmZlclZpZXcoYm9keSkpKSB7XG4gICAgICAgIHRoaXMuX2JvZHlBcnJheUJ1ZmZlciA9IGJ1ZmZlckNsb25lKGJvZHkpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5fYm9keVRleHQgPSBib2R5ID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGJvZHkpO1xuICAgICAgfVxuXG4gICAgICBpZiAoIXRoaXMuaGVhZGVycy5nZXQoJ2NvbnRlbnQtdHlwZScpKSB7XG4gICAgICAgIGlmICh0eXBlb2YgYm9keSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICB0aGlzLmhlYWRlcnMuc2V0KCdjb250ZW50LXR5cGUnLCAndGV4dC9wbGFpbjtjaGFyc2V0PVVURi04Jyk7XG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5fYm9keUJsb2IgJiYgdGhpcy5fYm9keUJsb2IudHlwZSkge1xuICAgICAgICAgIHRoaXMuaGVhZGVycy5zZXQoJ2NvbnRlbnQtdHlwZScsIHRoaXMuX2JvZHlCbG9iLnR5cGUpO1xuICAgICAgICB9IGVsc2UgaWYgKHN1cHBvcnQuc2VhcmNoUGFyYW1zICYmIFVSTFNlYXJjaFBhcmFtcy5wcm90b3R5cGUuaXNQcm90b3R5cGVPZihib2R5KSkge1xuICAgICAgICAgIHRoaXMuaGVhZGVycy5zZXQoJ2NvbnRlbnQtdHlwZScsICdhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQ7Y2hhcnNldD1VVEYtOCcpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfTtcblxuICAgIGlmIChzdXBwb3J0LmJsb2IpIHtcbiAgICAgIHRoaXMuYmxvYiA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgcmVqZWN0ZWQgPSBjb25zdW1lZCh0aGlzKTtcbiAgICAgICAgaWYgKHJlamVjdGVkKSB7XG4gICAgICAgICAgcmV0dXJuIHJlamVjdGVkXG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5fYm9keUJsb2IpIHtcbiAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHRoaXMuX2JvZHlCbG9iKVxuICAgICAgICB9IGVsc2UgaWYgKHRoaXMuX2JvZHlBcnJheUJ1ZmZlcikge1xuICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUobmV3IEJsb2IoW3RoaXMuX2JvZHlBcnJheUJ1ZmZlcl0pKVxuICAgICAgICB9IGVsc2UgaWYgKHRoaXMuX2JvZHlGb3JtRGF0YSkge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcignY291bGQgbm90IHJlYWQgRm9ybURhdGEgYm9keSBhcyBibG9iJylcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKG5ldyBCbG9iKFt0aGlzLl9ib2R5VGV4dF0pKVxuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICB0aGlzLmFycmF5QnVmZmVyID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmICh0aGlzLl9ib2R5QXJyYXlCdWZmZXIpIHtcbiAgICAgICAgICByZXR1cm4gY29uc3VtZWQodGhpcykgfHwgUHJvbWlzZS5yZXNvbHZlKHRoaXMuX2JvZHlBcnJheUJ1ZmZlcilcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXR1cm4gdGhpcy5ibG9iKCkudGhlbihyZWFkQmxvYkFzQXJyYXlCdWZmZXIpXG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfVxuXG4gICAgdGhpcy50ZXh0ID0gZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgcmVqZWN0ZWQgPSBjb25zdW1lZCh0aGlzKTtcbiAgICAgIGlmIChyZWplY3RlZCkge1xuICAgICAgICByZXR1cm4gcmVqZWN0ZWRcbiAgICAgIH1cblxuICAgICAgaWYgKHRoaXMuX2JvZHlCbG9iKSB7XG4gICAgICAgIHJldHVybiByZWFkQmxvYkFzVGV4dCh0aGlzLl9ib2R5QmxvYilcbiAgICAgIH0gZWxzZSBpZiAodGhpcy5fYm9keUFycmF5QnVmZmVyKSB7XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUocmVhZEFycmF5QnVmZmVyQXNUZXh0KHRoaXMuX2JvZHlBcnJheUJ1ZmZlcikpXG4gICAgICB9IGVsc2UgaWYgKHRoaXMuX2JvZHlGb3JtRGF0YSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2NvdWxkIG5vdCByZWFkIEZvcm1EYXRhIGJvZHkgYXMgdGV4dCcpXG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHRoaXMuX2JvZHlUZXh0KVxuICAgICAgfVxuICAgIH07XG5cbiAgICBpZiAoc3VwcG9ydC5mb3JtRGF0YSkge1xuICAgICAgdGhpcy5mb3JtRGF0YSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy50ZXh0KCkudGhlbihkZWNvZGUpXG4gICAgICB9O1xuICAgIH1cblxuICAgIHRoaXMuanNvbiA9IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHRoaXMudGV4dCgpLnRoZW4oSlNPTi5wYXJzZSlcbiAgICB9O1xuXG4gICAgcmV0dXJuIHRoaXNcbiAgfVxuXG4gIC8vIEhUVFAgbWV0aG9kcyB3aG9zZSBjYXBpdGFsaXphdGlvbiBzaG91bGQgYmUgbm9ybWFsaXplZFxuICB2YXIgbWV0aG9kcyA9IFsnREVMRVRFJywgJ0dFVCcsICdIRUFEJywgJ09QVElPTlMnLCAnUE9TVCcsICdQVVQnXTtcblxuICBmdW5jdGlvbiBub3JtYWxpemVNZXRob2QobWV0aG9kKSB7XG4gICAgdmFyIHVwY2FzZWQgPSBtZXRob2QudG9VcHBlckNhc2UoKTtcbiAgICByZXR1cm4gbWV0aG9kcy5pbmRleE9mKHVwY2FzZWQpID4gLTEgPyB1cGNhc2VkIDogbWV0aG9kXG4gIH1cblxuICBmdW5jdGlvbiBSZXF1ZXN0KGlucHV0LCBvcHRpb25zKSB7XG4gICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG4gICAgdmFyIGJvZHkgPSBvcHRpb25zLmJvZHk7XG5cbiAgICBpZiAoaW5wdXQgaW5zdGFuY2VvZiBSZXF1ZXN0KSB7XG4gICAgICBpZiAoaW5wdXQuYm9keVVzZWQpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignQWxyZWFkeSByZWFkJylcbiAgICAgIH1cbiAgICAgIHRoaXMudXJsID0gaW5wdXQudXJsO1xuICAgICAgdGhpcy5jcmVkZW50aWFscyA9IGlucHV0LmNyZWRlbnRpYWxzO1xuICAgICAgaWYgKCFvcHRpb25zLmhlYWRlcnMpIHtcbiAgICAgICAgdGhpcy5oZWFkZXJzID0gbmV3IEhlYWRlcnMoaW5wdXQuaGVhZGVycyk7XG4gICAgICB9XG4gICAgICB0aGlzLm1ldGhvZCA9IGlucHV0Lm1ldGhvZDtcbiAgICAgIHRoaXMubW9kZSA9IGlucHV0Lm1vZGU7XG4gICAgICB0aGlzLnNpZ25hbCA9IGlucHV0LnNpZ25hbDtcbiAgICAgIGlmICghYm9keSAmJiBpbnB1dC5fYm9keUluaXQgIT0gbnVsbCkge1xuICAgICAgICBib2R5ID0gaW5wdXQuX2JvZHlJbml0O1xuICAgICAgICBpbnB1dC5ib2R5VXNlZCA9IHRydWU7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMudXJsID0gU3RyaW5nKGlucHV0KTtcbiAgICB9XG5cbiAgICB0aGlzLmNyZWRlbnRpYWxzID0gb3B0aW9ucy5jcmVkZW50aWFscyB8fCB0aGlzLmNyZWRlbnRpYWxzIHx8ICdzYW1lLW9yaWdpbic7XG4gICAgaWYgKG9wdGlvbnMuaGVhZGVycyB8fCAhdGhpcy5oZWFkZXJzKSB7XG4gICAgICB0aGlzLmhlYWRlcnMgPSBuZXcgSGVhZGVycyhvcHRpb25zLmhlYWRlcnMpO1xuICAgIH1cbiAgICB0aGlzLm1ldGhvZCA9IG5vcm1hbGl6ZU1ldGhvZChvcHRpb25zLm1ldGhvZCB8fCB0aGlzLm1ldGhvZCB8fCAnR0VUJyk7XG4gICAgdGhpcy5tb2RlID0gb3B0aW9ucy5tb2RlIHx8IHRoaXMubW9kZSB8fCBudWxsO1xuICAgIHRoaXMuc2lnbmFsID0gb3B0aW9ucy5zaWduYWwgfHwgdGhpcy5zaWduYWw7XG4gICAgdGhpcy5yZWZlcnJlciA9IG51bGw7XG5cbiAgICBpZiAoKHRoaXMubWV0aG9kID09PSAnR0VUJyB8fCB0aGlzLm1ldGhvZCA9PT0gJ0hFQUQnKSAmJiBib2R5KSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdCb2R5IG5vdCBhbGxvd2VkIGZvciBHRVQgb3IgSEVBRCByZXF1ZXN0cycpXG4gICAgfVxuICAgIHRoaXMuX2luaXRCb2R5KGJvZHkpO1xuICB9XG5cbiAgUmVxdWVzdC5wcm90b3R5cGUuY2xvbmUgPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gbmV3IFJlcXVlc3QodGhpcywge2JvZHk6IHRoaXMuX2JvZHlJbml0fSlcbiAgfTtcblxuICBmdW5jdGlvbiBkZWNvZGUoYm9keSkge1xuICAgIHZhciBmb3JtID0gbmV3IEZvcm1EYXRhKCk7XG4gICAgYm9keVxuICAgICAgLnRyaW0oKVxuICAgICAgLnNwbGl0KCcmJylcbiAgICAgIC5mb3JFYWNoKGZ1bmN0aW9uKGJ5dGVzKSB7XG4gICAgICAgIGlmIChieXRlcykge1xuICAgICAgICAgIHZhciBzcGxpdCA9IGJ5dGVzLnNwbGl0KCc9Jyk7XG4gICAgICAgICAgdmFyIG5hbWUgPSBzcGxpdC5zaGlmdCgpLnJlcGxhY2UoL1xcKy9nLCAnICcpO1xuICAgICAgICAgIHZhciB2YWx1ZSA9IHNwbGl0LmpvaW4oJz0nKS5yZXBsYWNlKC9cXCsvZywgJyAnKTtcbiAgICAgICAgICBmb3JtLmFwcGVuZChkZWNvZGVVUklDb21wb25lbnQobmFtZSksIGRlY29kZVVSSUNvbXBvbmVudCh2YWx1ZSkpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICByZXR1cm4gZm9ybVxuICB9XG5cbiAgZnVuY3Rpb24gcGFyc2VIZWFkZXJzKHJhd0hlYWRlcnMpIHtcbiAgICB2YXIgaGVhZGVycyA9IG5ldyBIZWFkZXJzKCk7XG4gICAgLy8gUmVwbGFjZSBpbnN0YW5jZXMgb2YgXFxyXFxuIGFuZCBcXG4gZm9sbG93ZWQgYnkgYXQgbGVhc3Qgb25lIHNwYWNlIG9yIGhvcml6b250YWwgdGFiIHdpdGggYSBzcGFjZVxuICAgIC8vIGh0dHBzOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmM3MjMwI3NlY3Rpb24tMy4yXG4gICAgdmFyIHByZVByb2Nlc3NlZEhlYWRlcnMgPSByYXdIZWFkZXJzLnJlcGxhY2UoL1xccj9cXG5bXFx0IF0rL2csICcgJyk7XG4gICAgcHJlUHJvY2Vzc2VkSGVhZGVycy5zcGxpdCgvXFxyP1xcbi8pLmZvckVhY2goZnVuY3Rpb24obGluZSkge1xuICAgICAgdmFyIHBhcnRzID0gbGluZS5zcGxpdCgnOicpO1xuICAgICAgdmFyIGtleSA9IHBhcnRzLnNoaWZ0KCkudHJpbSgpO1xuICAgICAgaWYgKGtleSkge1xuICAgICAgICB2YXIgdmFsdWUgPSBwYXJ0cy5qb2luKCc6JykudHJpbSgpO1xuICAgICAgICBoZWFkZXJzLmFwcGVuZChrZXksIHZhbHVlKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gaGVhZGVyc1xuICB9XG5cbiAgQm9keS5jYWxsKFJlcXVlc3QucHJvdG90eXBlKTtcblxuICBmdW5jdGlvbiBSZXNwb25zZShib2R5SW5pdCwgb3B0aW9ucykge1xuICAgIGlmICghb3B0aW9ucykge1xuICAgICAgb3B0aW9ucyA9IHt9O1xuICAgIH1cblxuICAgIHRoaXMudHlwZSA9ICdkZWZhdWx0JztcbiAgICB0aGlzLnN0YXR1cyA9IG9wdGlvbnMuc3RhdHVzID09PSB1bmRlZmluZWQgPyAyMDAgOiBvcHRpb25zLnN0YXR1cztcbiAgICB0aGlzLm9rID0gdGhpcy5zdGF0dXMgPj0gMjAwICYmIHRoaXMuc3RhdHVzIDwgMzAwO1xuICAgIHRoaXMuc3RhdHVzVGV4dCA9ICdzdGF0dXNUZXh0JyBpbiBvcHRpb25zID8gb3B0aW9ucy5zdGF0dXNUZXh0IDogJ09LJztcbiAgICB0aGlzLmhlYWRlcnMgPSBuZXcgSGVhZGVycyhvcHRpb25zLmhlYWRlcnMpO1xuICAgIHRoaXMudXJsID0gb3B0aW9ucy51cmwgfHwgJyc7XG4gICAgdGhpcy5faW5pdEJvZHkoYm9keUluaXQpO1xuICB9XG5cbiAgQm9keS5jYWxsKFJlc3BvbnNlLnByb3RvdHlwZSk7XG5cbiAgUmVzcG9uc2UucHJvdG90eXBlLmNsb25lID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIG5ldyBSZXNwb25zZSh0aGlzLl9ib2R5SW5pdCwge1xuICAgICAgc3RhdHVzOiB0aGlzLnN0YXR1cyxcbiAgICAgIHN0YXR1c1RleHQ6IHRoaXMuc3RhdHVzVGV4dCxcbiAgICAgIGhlYWRlcnM6IG5ldyBIZWFkZXJzKHRoaXMuaGVhZGVycyksXG4gICAgICB1cmw6IHRoaXMudXJsXG4gICAgfSlcbiAgfTtcblxuICBSZXNwb25zZS5lcnJvciA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciByZXNwb25zZSA9IG5ldyBSZXNwb25zZShudWxsLCB7c3RhdHVzOiAwLCBzdGF0dXNUZXh0OiAnJ30pO1xuICAgIHJlc3BvbnNlLnR5cGUgPSAnZXJyb3InO1xuICAgIHJldHVybiByZXNwb25zZVxuICB9O1xuXG4gIHZhciByZWRpcmVjdFN0YXR1c2VzID0gWzMwMSwgMzAyLCAzMDMsIDMwNywgMzA4XTtcblxuICBSZXNwb25zZS5yZWRpcmVjdCA9IGZ1bmN0aW9uKHVybCwgc3RhdHVzKSB7XG4gICAgaWYgKHJlZGlyZWN0U3RhdHVzZXMuaW5kZXhPZihzdGF0dXMpID09PSAtMSkge1xuICAgICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ0ludmFsaWQgc3RhdHVzIGNvZGUnKVxuICAgIH1cblxuICAgIHJldHVybiBuZXcgUmVzcG9uc2UobnVsbCwge3N0YXR1czogc3RhdHVzLCBoZWFkZXJzOiB7bG9jYXRpb246IHVybH19KVxuICB9O1xuXG4gIGV4cG9ydHMuRE9NRXhjZXB0aW9uID0gc2VsZi5ET01FeGNlcHRpb247XG4gIHRyeSB7XG4gICAgbmV3IGV4cG9ydHMuRE9NRXhjZXB0aW9uKCk7XG4gIH0gY2F0Y2ggKGVycikge1xuICAgIGV4cG9ydHMuRE9NRXhjZXB0aW9uID0gZnVuY3Rpb24obWVzc2FnZSwgbmFtZSkge1xuICAgICAgdGhpcy5tZXNzYWdlID0gbWVzc2FnZTtcbiAgICAgIHRoaXMubmFtZSA9IG5hbWU7XG4gICAgICB2YXIgZXJyb3IgPSBFcnJvcihtZXNzYWdlKTtcbiAgICAgIHRoaXMuc3RhY2sgPSBlcnJvci5zdGFjaztcbiAgICB9O1xuICAgIGV4cG9ydHMuRE9NRXhjZXB0aW9uLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoRXJyb3IucHJvdG90eXBlKTtcbiAgICBleHBvcnRzLkRPTUV4Y2VwdGlvbi5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBleHBvcnRzLkRPTUV4Y2VwdGlvbjtcbiAgfVxuXG4gIGZ1bmN0aW9uIGZldGNoKGlucHV0LCBpbml0KSB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgdmFyIHJlcXVlc3QgPSBuZXcgUmVxdWVzdChpbnB1dCwgaW5pdCk7XG5cbiAgICAgIGlmIChyZXF1ZXN0LnNpZ25hbCAmJiByZXF1ZXN0LnNpZ25hbC5hYm9ydGVkKSB7XG4gICAgICAgIHJldHVybiByZWplY3QobmV3IGV4cG9ydHMuRE9NRXhjZXB0aW9uKCdBYm9ydGVkJywgJ0Fib3J0RXJyb3InKSlcbiAgICAgIH1cblxuICAgICAgdmFyIHhociA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xuXG4gICAgICBmdW5jdGlvbiBhYm9ydFhocigpIHtcbiAgICAgICAgeGhyLmFib3J0KCk7XG4gICAgICB9XG5cbiAgICAgIHhoci5vbmxvYWQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIG9wdGlvbnMgPSB7XG4gICAgICAgICAgc3RhdHVzOiB4aHIuc3RhdHVzLFxuICAgICAgICAgIHN0YXR1c1RleHQ6IHhoci5zdGF0dXNUZXh0LFxuICAgICAgICAgIGhlYWRlcnM6IHBhcnNlSGVhZGVycyh4aHIuZ2V0QWxsUmVzcG9uc2VIZWFkZXJzKCkgfHwgJycpXG4gICAgICAgIH07XG4gICAgICAgIG9wdGlvbnMudXJsID0gJ3Jlc3BvbnNlVVJMJyBpbiB4aHIgPyB4aHIucmVzcG9uc2VVUkwgOiBvcHRpb25zLmhlYWRlcnMuZ2V0KCdYLVJlcXVlc3QtVVJMJyk7XG4gICAgICAgIHZhciBib2R5ID0gJ3Jlc3BvbnNlJyBpbiB4aHIgPyB4aHIucmVzcG9uc2UgOiB4aHIucmVzcG9uc2VUZXh0O1xuICAgICAgICByZXNvbHZlKG5ldyBSZXNwb25zZShib2R5LCBvcHRpb25zKSk7XG4gICAgICB9O1xuXG4gICAgICB4aHIub25lcnJvciA9IGZ1bmN0aW9uKCkge1xuICAgICAgICByZWplY3QobmV3IFR5cGVFcnJvcignTmV0d29yayByZXF1ZXN0IGZhaWxlZCcpKTtcbiAgICAgIH07XG5cbiAgICAgIHhoci5vbnRpbWVvdXQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgcmVqZWN0KG5ldyBUeXBlRXJyb3IoJ05ldHdvcmsgcmVxdWVzdCBmYWlsZWQnKSk7XG4gICAgICB9O1xuXG4gICAgICB4aHIub25hYm9ydCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICByZWplY3QobmV3IGV4cG9ydHMuRE9NRXhjZXB0aW9uKCdBYm9ydGVkJywgJ0Fib3J0RXJyb3InKSk7XG4gICAgICB9O1xuXG4gICAgICB4aHIub3BlbihyZXF1ZXN0Lm1ldGhvZCwgcmVxdWVzdC51cmwsIHRydWUpO1xuXG4gICAgICBpZiAocmVxdWVzdC5jcmVkZW50aWFscyA9PT0gJ2luY2x1ZGUnKSB7XG4gICAgICAgIHhoci53aXRoQ3JlZGVudGlhbHMgPSB0cnVlO1xuICAgICAgfSBlbHNlIGlmIChyZXF1ZXN0LmNyZWRlbnRpYWxzID09PSAnb21pdCcpIHtcbiAgICAgICAgeGhyLndpdGhDcmVkZW50aWFscyA9IGZhbHNlO1xuICAgICAgfVxuXG4gICAgICBpZiAoJ3Jlc3BvbnNlVHlwZScgaW4geGhyICYmIHN1cHBvcnQuYmxvYikge1xuICAgICAgICB4aHIucmVzcG9uc2VUeXBlID0gJ2Jsb2InO1xuICAgICAgfVxuXG4gICAgICByZXF1ZXN0LmhlYWRlcnMuZm9yRWFjaChmdW5jdGlvbih2YWx1ZSwgbmFtZSkge1xuICAgICAgICB4aHIuc2V0UmVxdWVzdEhlYWRlcihuYW1lLCB2YWx1ZSk7XG4gICAgICB9KTtcblxuICAgICAgaWYgKHJlcXVlc3Quc2lnbmFsKSB7XG4gICAgICAgIHJlcXVlc3Quc2lnbmFsLmFkZEV2ZW50TGlzdGVuZXIoJ2Fib3J0JywgYWJvcnRYaHIpO1xuXG4gICAgICAgIHhoci5vbnJlYWR5c3RhdGVjaGFuZ2UgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAvLyBET05FIChzdWNjZXNzIG9yIGZhaWx1cmUpXG4gICAgICAgICAgaWYgKHhoci5yZWFkeVN0YXRlID09PSA0KSB7XG4gICAgICAgICAgICByZXF1ZXN0LnNpZ25hbC5yZW1vdmVFdmVudExpc3RlbmVyKCdhYm9ydCcsIGFib3J0WGhyKTtcbiAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICB9XG5cbiAgICAgIHhoci5zZW5kKHR5cGVvZiByZXF1ZXN0Ll9ib2R5SW5pdCA9PT0gJ3VuZGVmaW5lZCcgPyBudWxsIDogcmVxdWVzdC5fYm9keUluaXQpO1xuICAgIH0pXG4gIH1cblxuICBmZXRjaC5wb2x5ZmlsbCA9IHRydWU7XG5cbiAgaWYgKCFzZWxmLmZldGNoKSB7XG4gICAgc2VsZi5mZXRjaCA9IGZldGNoO1xuICAgIHNlbGYuSGVhZGVycyA9IEhlYWRlcnM7XG4gICAgc2VsZi5SZXF1ZXN0ID0gUmVxdWVzdDtcbiAgICBzZWxmLlJlc3BvbnNlID0gUmVzcG9uc2U7XG4gIH1cblxuICBleHBvcnRzLkhlYWRlcnMgPSBIZWFkZXJzO1xuICBleHBvcnRzLlJlcXVlc3QgPSBSZXF1ZXN0O1xuICBleHBvcnRzLlJlc3BvbnNlID0gUmVzcG9uc2U7XG4gIGV4cG9ydHMuZmV0Y2ggPSBmZXRjaDtcblxuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuXG4gIHJldHVybiBleHBvcnRzO1xuXG59KSh7fSk7XG59KShfX3NlbGZfXyk7XG5fX3NlbGZfXy5mZXRjaC5wb255ZmlsbCA9IHRydWU7XG4vLyBSZW1vdmUgXCJwb2x5ZmlsbFwiIHByb3BlcnR5IGFkZGVkIGJ5IHdoYXR3Zy1mZXRjaFxuZGVsZXRlIF9fc2VsZl9fLmZldGNoLnBvbHlmaWxsO1xuLy8gQ2hvb3NlIGJldHdlZW4gbmF0aXZlIGltcGxlbWVudGF0aW9uIChnbG9iYWwpIG9yIGN1c3RvbSBpbXBsZW1lbnRhdGlvbiAoX19zZWxmX18pXG4vLyB2YXIgY3R4ID0gZ2xvYmFsLmZldGNoID8gZ2xvYmFsIDogX19zZWxmX187XG52YXIgY3R4ID0gX19zZWxmX187IC8vIHRoaXMgbGluZSBkaXNhYmxlIHNlcnZpY2Ugd29ya2VyIHN1cHBvcnQgdGVtcG9yYXJpbHlcbmV4cG9ydHMgPSBjdHguZmV0Y2ggLy8gVG8gZW5hYmxlOiBpbXBvcnQgZmV0Y2ggZnJvbSAnY3Jvc3MtZmV0Y2gnXG5leHBvcnRzLmRlZmF1bHQgPSBjdHguZmV0Y2ggLy8gRm9yIFR5cGVTY3JpcHQgY29uc3VtZXJzIHdpdGhvdXQgZXNNb2R1bGVJbnRlcm9wLlxuZXhwb3J0cy5mZXRjaCA9IGN0eC5mZXRjaCAvLyBUbyBlbmFibGU6IGltcG9ydCB7ZmV0Y2h9IGZyb20gJ2Nyb3NzLWZldGNoJ1xuZXhwb3J0cy5IZWFkZXJzID0gY3R4LkhlYWRlcnNcbmV4cG9ydHMuUmVxdWVzdCA9IGN0eC5SZXF1ZXN0XG5leHBvcnRzLlJlc3BvbnNlID0gY3R4LlJlc3BvbnNlXG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNcbiIsICIndXNlIHN0cmljdCc7XG5cbnZhciBpc01lcmdlYWJsZU9iamVjdCA9IGZ1bmN0aW9uIGlzTWVyZ2VhYmxlT2JqZWN0KHZhbHVlKSB7XG5cdHJldHVybiBpc05vbk51bGxPYmplY3QodmFsdWUpXG5cdFx0JiYgIWlzU3BlY2lhbCh2YWx1ZSlcbn07XG5cbmZ1bmN0aW9uIGlzTm9uTnVsbE9iamVjdCh2YWx1ZSkge1xuXHRyZXR1cm4gISF2YWx1ZSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnXG59XG5cbmZ1bmN0aW9uIGlzU3BlY2lhbCh2YWx1ZSkge1xuXHR2YXIgc3RyaW5nVmFsdWUgPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwodmFsdWUpO1xuXG5cdHJldHVybiBzdHJpbmdWYWx1ZSA9PT0gJ1tvYmplY3QgUmVnRXhwXSdcblx0XHR8fCBzdHJpbmdWYWx1ZSA9PT0gJ1tvYmplY3QgRGF0ZV0nXG5cdFx0fHwgaXNSZWFjdEVsZW1lbnQodmFsdWUpXG59XG5cbi8vIHNlZSBodHRwczovL2dpdGh1Yi5jb20vZmFjZWJvb2svcmVhY3QvYmxvYi9iNWFjOTYzZmI3OTFkMTI5OGU3ZjM5NjIzNjM4M2JjOTU1ZjkxNmMxL3NyYy9pc29tb3JwaGljL2NsYXNzaWMvZWxlbWVudC9SZWFjdEVsZW1lbnQuanMjTDIxLUwyNVxudmFyIGNhblVzZVN5bWJvbCA9IHR5cGVvZiBTeW1ib2wgPT09ICdmdW5jdGlvbicgJiYgU3ltYm9sLmZvcjtcbnZhciBSRUFDVF9FTEVNRU5UX1RZUEUgPSBjYW5Vc2VTeW1ib2wgPyBTeW1ib2wuZm9yKCdyZWFjdC5lbGVtZW50JykgOiAweGVhYzc7XG5cbmZ1bmN0aW9uIGlzUmVhY3RFbGVtZW50KHZhbHVlKSB7XG5cdHJldHVybiB2YWx1ZS4kJHR5cGVvZiA9PT0gUkVBQ1RfRUxFTUVOVF9UWVBFXG59XG5cbmZ1bmN0aW9uIGVtcHR5VGFyZ2V0KHZhbCkge1xuXHRyZXR1cm4gQXJyYXkuaXNBcnJheSh2YWwpID8gW10gOiB7fVxufVxuXG5mdW5jdGlvbiBjbG9uZVVubGVzc090aGVyd2lzZVNwZWNpZmllZCh2YWx1ZSwgb3B0aW9ucykge1xuXHRyZXR1cm4gKG9wdGlvbnMuY2xvbmUgIT09IGZhbHNlICYmIG9wdGlvbnMuaXNNZXJnZWFibGVPYmplY3QodmFsdWUpKVxuXHRcdD8gZGVlcG1lcmdlKGVtcHR5VGFyZ2V0KHZhbHVlKSwgdmFsdWUsIG9wdGlvbnMpXG5cdFx0OiB2YWx1ZVxufVxuXG5mdW5jdGlvbiBkZWZhdWx0QXJyYXlNZXJnZSh0YXJnZXQsIHNvdXJjZSwgb3B0aW9ucykge1xuXHRyZXR1cm4gdGFyZ2V0LmNvbmNhdChzb3VyY2UpLm1hcChmdW5jdGlvbihlbGVtZW50KSB7XG5cdFx0cmV0dXJuIGNsb25lVW5sZXNzT3RoZXJ3aXNlU3BlY2lmaWVkKGVsZW1lbnQsIG9wdGlvbnMpXG5cdH0pXG59XG5cbmZ1bmN0aW9uIGdldE1lcmdlRnVuY3Rpb24oa2V5LCBvcHRpb25zKSB7XG5cdGlmICghb3B0aW9ucy5jdXN0b21NZXJnZSkge1xuXHRcdHJldHVybiBkZWVwbWVyZ2Vcblx0fVxuXHR2YXIgY3VzdG9tTWVyZ2UgPSBvcHRpb25zLmN1c3RvbU1lcmdlKGtleSk7XG5cdHJldHVybiB0eXBlb2YgY3VzdG9tTWVyZ2UgPT09ICdmdW5jdGlvbicgPyBjdXN0b21NZXJnZSA6IGRlZXBtZXJnZVxufVxuXG5mdW5jdGlvbiBnZXRFbnVtZXJhYmxlT3duUHJvcGVydHlTeW1ib2xzKHRhcmdldCkge1xuXHRyZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9sc1xuXHRcdD8gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyh0YXJnZXQpLmZpbHRlcihmdW5jdGlvbihzeW1ib2wpIHtcblx0XHRcdHJldHVybiBPYmplY3QucHJvcGVydHlJc0VudW1lcmFibGUuY2FsbCh0YXJnZXQsIHN5bWJvbClcblx0XHR9KVxuXHRcdDogW11cbn1cblxuZnVuY3Rpb24gZ2V0S2V5cyh0YXJnZXQpIHtcblx0cmV0dXJuIE9iamVjdC5rZXlzKHRhcmdldCkuY29uY2F0KGdldEVudW1lcmFibGVPd25Qcm9wZXJ0eVN5bWJvbHModGFyZ2V0KSlcbn1cblxuZnVuY3Rpb24gcHJvcGVydHlJc09uT2JqZWN0KG9iamVjdCwgcHJvcGVydHkpIHtcblx0dHJ5IHtcblx0XHRyZXR1cm4gcHJvcGVydHkgaW4gb2JqZWN0XG5cdH0gY2F0Y2goXykge1xuXHRcdHJldHVybiBmYWxzZVxuXHR9XG59XG5cbi8vIFByb3RlY3RzIGZyb20gcHJvdG90eXBlIHBvaXNvbmluZyBhbmQgdW5leHBlY3RlZCBtZXJnaW5nIHVwIHRoZSBwcm90b3R5cGUgY2hhaW4uXG5mdW5jdGlvbiBwcm9wZXJ0eUlzVW5zYWZlKHRhcmdldCwga2V5KSB7XG5cdHJldHVybiBwcm9wZXJ0eUlzT25PYmplY3QodGFyZ2V0LCBrZXkpIC8vIFByb3BlcnRpZXMgYXJlIHNhZmUgdG8gbWVyZ2UgaWYgdGhleSBkb24ndCBleGlzdCBpbiB0aGUgdGFyZ2V0IHlldCxcblx0XHQmJiAhKE9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKHRhcmdldCwga2V5KSAvLyB1bnNhZmUgaWYgdGhleSBleGlzdCB1cCB0aGUgcHJvdG90eXBlIGNoYWluLFxuXHRcdFx0JiYgT2JqZWN0LnByb3BlcnR5SXNFbnVtZXJhYmxlLmNhbGwodGFyZ2V0LCBrZXkpKSAvLyBhbmQgYWxzbyB1bnNhZmUgaWYgdGhleSdyZSBub25lbnVtZXJhYmxlLlxufVxuXG5mdW5jdGlvbiBtZXJnZU9iamVjdCh0YXJnZXQsIHNvdXJjZSwgb3B0aW9ucykge1xuXHR2YXIgZGVzdGluYXRpb24gPSB7fTtcblx0aWYgKG9wdGlvbnMuaXNNZXJnZWFibGVPYmplY3QodGFyZ2V0KSkge1xuXHRcdGdldEtleXModGFyZ2V0KS5mb3JFYWNoKGZ1bmN0aW9uKGtleSkge1xuXHRcdFx0ZGVzdGluYXRpb25ba2V5XSA9IGNsb25lVW5sZXNzT3RoZXJ3aXNlU3BlY2lmaWVkKHRhcmdldFtrZXldLCBvcHRpb25zKTtcblx0XHR9KTtcblx0fVxuXHRnZXRLZXlzKHNvdXJjZSkuZm9yRWFjaChmdW5jdGlvbihrZXkpIHtcblx0XHRpZiAocHJvcGVydHlJc1Vuc2FmZSh0YXJnZXQsIGtleSkpIHtcblx0XHRcdHJldHVyblxuXHRcdH1cblxuXHRcdGlmIChwcm9wZXJ0eUlzT25PYmplY3QodGFyZ2V0LCBrZXkpICYmIG9wdGlvbnMuaXNNZXJnZWFibGVPYmplY3Qoc291cmNlW2tleV0pKSB7XG5cdFx0XHRkZXN0aW5hdGlvbltrZXldID0gZ2V0TWVyZ2VGdW5jdGlvbihrZXksIG9wdGlvbnMpKHRhcmdldFtrZXldLCBzb3VyY2Vba2V5XSwgb3B0aW9ucyk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdGRlc3RpbmF0aW9uW2tleV0gPSBjbG9uZVVubGVzc090aGVyd2lzZVNwZWNpZmllZChzb3VyY2Vba2V5XSwgb3B0aW9ucyk7XG5cdFx0fVxuXHR9KTtcblx0cmV0dXJuIGRlc3RpbmF0aW9uXG59XG5cbmZ1bmN0aW9uIGRlZXBtZXJnZSh0YXJnZXQsIHNvdXJjZSwgb3B0aW9ucykge1xuXHRvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcblx0b3B0aW9ucy5hcnJheU1lcmdlID0gb3B0aW9ucy5hcnJheU1lcmdlIHx8IGRlZmF1bHRBcnJheU1lcmdlO1xuXHRvcHRpb25zLmlzTWVyZ2VhYmxlT2JqZWN0ID0gb3B0aW9ucy5pc01lcmdlYWJsZU9iamVjdCB8fCBpc01lcmdlYWJsZU9iamVjdDtcblx0Ly8gY2xvbmVVbmxlc3NPdGhlcndpc2VTcGVjaWZpZWQgaXMgYWRkZWQgdG8gYG9wdGlvbnNgIHNvIHRoYXQgY3VzdG9tIGFycmF5TWVyZ2UoKVxuXHQvLyBpbXBsZW1lbnRhdGlvbnMgY2FuIHVzZSBpdC4gVGhlIGNhbGxlciBtYXkgbm90IHJlcGxhY2UgaXQuXG5cdG9wdGlvbnMuY2xvbmVVbmxlc3NPdGhlcndpc2VTcGVjaWZpZWQgPSBjbG9uZVVubGVzc090aGVyd2lzZVNwZWNpZmllZDtcblxuXHR2YXIgc291cmNlSXNBcnJheSA9IEFycmF5LmlzQXJyYXkoc291cmNlKTtcblx0dmFyIHRhcmdldElzQXJyYXkgPSBBcnJheS5pc0FycmF5KHRhcmdldCk7XG5cdHZhciBzb3VyY2VBbmRUYXJnZXRUeXBlc01hdGNoID0gc291cmNlSXNBcnJheSA9PT0gdGFyZ2V0SXNBcnJheTtcblxuXHRpZiAoIXNvdXJjZUFuZFRhcmdldFR5cGVzTWF0Y2gpIHtcblx0XHRyZXR1cm4gY2xvbmVVbmxlc3NPdGhlcndpc2VTcGVjaWZpZWQoc291cmNlLCBvcHRpb25zKVxuXHR9IGVsc2UgaWYgKHNvdXJjZUlzQXJyYXkpIHtcblx0XHRyZXR1cm4gb3B0aW9ucy5hcnJheU1lcmdlKHRhcmdldCwgc291cmNlLCBvcHRpb25zKVxuXHR9IGVsc2Uge1xuXHRcdHJldHVybiBtZXJnZU9iamVjdCh0YXJnZXQsIHNvdXJjZSwgb3B0aW9ucylcblx0fVxufVxuXG5kZWVwbWVyZ2UuYWxsID0gZnVuY3Rpb24gZGVlcG1lcmdlQWxsKGFycmF5LCBvcHRpb25zKSB7XG5cdGlmICghQXJyYXkuaXNBcnJheShhcnJheSkpIHtcblx0XHR0aHJvdyBuZXcgRXJyb3IoJ2ZpcnN0IGFyZ3VtZW50IHNob3VsZCBiZSBhbiBhcnJheScpXG5cdH1cblxuXHRyZXR1cm4gYXJyYXkucmVkdWNlKGZ1bmN0aW9uKHByZXYsIG5leHQpIHtcblx0XHRyZXR1cm4gZGVlcG1lcmdlKHByZXYsIG5leHQsIG9wdGlvbnMpXG5cdH0sIHt9KVxufTtcblxudmFyIGRlZXBtZXJnZV8xID0gZGVlcG1lcmdlO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGRlZXBtZXJnZV8xO1xuIiwgInZhciBuYWl2ZUZhbGxiYWNrID0gZnVuY3Rpb24gKCkge1xuXHRpZiAodHlwZW9mIHNlbGYgPT09IFwib2JqZWN0XCIgJiYgc2VsZikgcmV0dXJuIHNlbGY7XG5cdGlmICh0eXBlb2Ygd2luZG93ID09PSBcIm9iamVjdFwiICYmIHdpbmRvdykgcmV0dXJuIHdpbmRvdztcblx0dGhyb3cgbmV3IEVycm9yKFwiVW5hYmxlIHRvIHJlc29sdmUgZ2xvYmFsIGB0aGlzYFwiKTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gKGZ1bmN0aW9uICgpIHtcblx0aWYgKHRoaXMpIHJldHVybiB0aGlzO1xuXG5cdC8vIFVuZXhwZWN0ZWQgc3RyaWN0IG1vZGUgKG1heSBoYXBwZW4gaWYgZS5nLiBidW5kbGVkIGludG8gRVNNIG1vZHVsZSlcblxuXHQvLyBGYWxsYmFjayB0byBzdGFuZGFyZCBnbG9iYWxUaGlzIGlmIGF2YWlsYWJsZVxuXHRpZiAodHlwZW9mIGdsb2JhbFRoaXMgPT09IFwib2JqZWN0XCIgJiYgZ2xvYmFsVGhpcykgcmV0dXJuIGdsb2JhbFRoaXM7XG5cblx0Ly8gVGhhbmtzIEBtYXRoaWFzYnluZW5zIC0+IGh0dHBzOi8vbWF0aGlhc2J5bmVucy5iZS9ub3Rlcy9nbG9iYWx0aGlzXG5cdC8vIEluIGFsbCBFUzUrIGVuZ2luZXMgZ2xvYmFsIG9iamVjdCBpbmhlcml0cyBmcm9tIE9iamVjdC5wcm90b3R5cGVcblx0Ly8gKGlmIHlvdSBhcHByb2FjaGVkIG9uZSB0aGF0IGRvZXNuJ3QgcGxlYXNlIHJlcG9ydClcblx0dHJ5IHtcblx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoT2JqZWN0LnByb3RvdHlwZSwgXCJfX2dsb2JhbF9fXCIsIHtcblx0XHRcdGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpczsgfSxcblx0XHRcdGNvbmZpZ3VyYWJsZTogdHJ1ZVxuXHRcdH0pO1xuXHR9IGNhdGNoIChlcnJvcikge1xuXHRcdC8vIFVuZm9ydHVuYXRlIGNhc2Ugb2YgdXBkYXRlcyB0byBPYmplY3QucHJvdG90eXBlIGJlaW5nIHJlc3RyaWN0ZWRcblx0XHQvLyB2aWEgcHJldmVudEV4dGVuc2lvbnMsIHNlYWwgb3IgZnJlZXplXG5cdFx0cmV0dXJuIG5haXZlRmFsbGJhY2soKTtcblx0fVxuXHR0cnkge1xuXHRcdC8vIFNhZmFyaSBjYXNlICh3aW5kb3cuX19nbG9iYWxfXyB3b3JrcywgYnV0IF9fZ2xvYmFsX18gZG9lcyBub3QpXG5cdFx0aWYgKCFfX2dsb2JhbF9fKSByZXR1cm4gbmFpdmVGYWxsYmFjaygpO1xuXHRcdHJldHVybiBfX2dsb2JhbF9fO1xuXHR9IGZpbmFsbHkge1xuXHRcdGRlbGV0ZSBPYmplY3QucHJvdG90eXBlLl9fZ2xvYmFsX187XG5cdH1cbn0pKCk7XG4iLCAie1xuICBcIl9mcm9tXCI6IFwid2Vic29ja2V0QF4xLjAuMzRcIixcbiAgXCJfaWRcIjogXCJ3ZWJzb2NrZXRAMS4wLjM0XCIsXG4gIFwiX2luQnVuZGxlXCI6IGZhbHNlLFxuICBcIl9pbnRlZ3JpdHlcIjogXCJzaGE1MTItUFJEc28yc0d3RjZrTTc1UXlrSWVzQmlqS1NWY2VSNmpMMkc4TkdZeXEyWHJJdE5DMlA1L3FMNVhlUjA1NkdoQStMeTdKTUZ2SmI5STMxMm1KZm1xblE9PVwiLFxuICBcIl9sb2NhdGlvblwiOiBcIi93ZWJzb2NrZXRcIixcbiAgXCJfcGhhbnRvbUNoaWxkcmVuXCI6IHt9LFxuICBcIl9yZXF1ZXN0ZWRcIjoge1xuICAgIFwidHlwZVwiOiBcInJhbmdlXCIsXG4gICAgXCJyZWdpc3RyeVwiOiB0cnVlLFxuICAgIFwicmF3XCI6IFwid2Vic29ja2V0QF4xLjAuMzRcIixcbiAgICBcIm5hbWVcIjogXCJ3ZWJzb2NrZXRcIixcbiAgICBcImVzY2FwZWROYW1lXCI6IFwid2Vic29ja2V0XCIsXG4gICAgXCJyYXdTcGVjXCI6IFwiXjEuMC4zNFwiLFxuICAgIFwic2F2ZVNwZWNcIjogbnVsbCxcbiAgICBcImZldGNoU3BlY1wiOiBcIl4xLjAuMzRcIlxuICB9LFxuICBcIl9yZXF1aXJlZEJ5XCI6IFtcbiAgICBcIi9AZGVlcGdyYW0vc2RrXCJcbiAgXSxcbiAgXCJfcmVzb2x2ZWRcIjogXCJodHRwczovL3JlZ2lzdHJ5Lm5wbWpzLm9yZy93ZWJzb2NrZXQvLS93ZWJzb2NrZXQtMS4wLjM0LnRnelwiLFxuICBcIl9zaGFzdW1cIjogXCIyYmRjMjYwMmMwOGJmMmM4MjI1M2I3MzA2NTVjMGVmN2RjYWIzMTExXCIsXG4gIFwiX3NwZWNcIjogXCJ3ZWJzb2NrZXRAXjEuMC4zNFwiLFxuICBcIl93aGVyZVwiOiBcIi9Vc2Vycy9zYW1mYXJyYXIvRG9jdW1lbnRzL3RyYW5zY3JpcHRpb25fdGVzdC9kZWVwZ3JhbS10cmFuc2NyaXB0aW9uL25vZGVfbW9kdWxlcy9AZGVlcGdyYW0vc2RrXCIsXG4gIFwiYXV0aG9yXCI6IHtcbiAgICBcIm5hbWVcIjogXCJCcmlhbiBNY0tlbHZleVwiLFxuICAgIFwiZW1haWxcIjogXCJ0aGV0dXJ0bGUzMkBnbWFpbC5jb21cIixcbiAgICBcInVybFwiOiBcImh0dHBzOi8vZ2l0aHViLmNvbS90aGV0dXJ0bGUzMlwiXG4gIH0sXG4gIFwiYnJvd3NlclwiOiBcImxpYi9icm93c2VyLmpzXCIsXG4gIFwiYnVnc1wiOiB7XG4gICAgXCJ1cmxcIjogXCJodHRwczovL2dpdGh1Yi5jb20vdGhldHVydGxlMzIvV2ViU29ja2V0LU5vZGUvaXNzdWVzXCJcbiAgfSxcbiAgXCJidW5kbGVEZXBlbmRlbmNpZXNcIjogZmFsc2UsXG4gIFwiY29uZmlnXCI6IHtcbiAgICBcInZlcmJvc2VcIjogZmFsc2VcbiAgfSxcbiAgXCJjb250cmlidXRvcnNcIjogW1xuICAgIHtcbiAgICAgIFwibmFtZVwiOiBcIklcdTAwRjFha2kgQmF6IENhc3RpbGxvXCIsXG4gICAgICBcImVtYWlsXCI6IFwiaWJjQGFsaWF4Lm5ldFwiLFxuICAgICAgXCJ1cmxcIjogXCJodHRwOi8vZGV2LnNpcGRvYy5uZXRcIlxuICAgIH1cbiAgXSxcbiAgXCJkZXBlbmRlbmNpZXNcIjoge1xuICAgIFwiYnVmZmVydXRpbFwiOiBcIl40LjAuMVwiLFxuICAgIFwiZGVidWdcIjogXCJeMi4yLjBcIixcbiAgICBcImVzNS1leHRcIjogXCJeMC4xMC41MFwiLFxuICAgIFwidHlwZWRhcnJheS10by1idWZmZXJcIjogXCJeMy4xLjVcIixcbiAgICBcInV0Zi04LXZhbGlkYXRlXCI6IFwiXjUuMC4yXCIsXG4gICAgXCJ5YWV0aVwiOiBcIl4wLjAuNlwiXG4gIH0sXG4gIFwiZGVwcmVjYXRlZFwiOiBmYWxzZSxcbiAgXCJkZXNjcmlwdGlvblwiOiBcIldlYnNvY2tldCBDbGllbnQgJiBTZXJ2ZXIgTGlicmFyeSBpbXBsZW1lbnRpbmcgdGhlIFdlYlNvY2tldCBwcm90b2NvbCBhcyBzcGVjaWZpZWQgaW4gUkZDIDY0NTUuXCIsXG4gIFwiZGV2RGVwZW5kZW5jaWVzXCI6IHtcbiAgICBcImJ1ZmZlci1lcXVhbFwiOiBcIl4xLjAuMFwiLFxuICAgIFwiZ3VscFwiOiBcIl40LjAuMlwiLFxuICAgIFwiZ3VscC1qc2hpbnRcIjogXCJeMi4wLjRcIixcbiAgICBcImpzaGludFwiOiBcIl4yLjAuMFwiLFxuICAgIFwianNoaW50LXN0eWxpc2hcIjogXCJeMi4yLjFcIixcbiAgICBcInRhcGVcIjogXCJeNC45LjFcIlxuICB9LFxuICBcImRpcmVjdG9yaWVzXCI6IHtcbiAgICBcImxpYlwiOiBcIi4vbGliXCJcbiAgfSxcbiAgXCJlbmdpbmVzXCI6IHtcbiAgICBcIm5vZGVcIjogXCI+PTQuMC4wXCJcbiAgfSxcbiAgXCJob21lcGFnZVwiOiBcImh0dHBzOi8vZ2l0aHViLmNvbS90aGV0dXJ0bGUzMi9XZWJTb2NrZXQtTm9kZVwiLFxuICBcImtleXdvcmRzXCI6IFtcbiAgICBcIndlYnNvY2tldFwiLFxuICAgIFwid2Vic29ja2V0c1wiLFxuICAgIFwic29ja2V0XCIsXG4gICAgXCJuZXR3b3JraW5nXCIsXG4gICAgXCJjb21ldFwiLFxuICAgIFwicHVzaFwiLFxuICAgIFwiUkZDLTY0NTVcIixcbiAgICBcInJlYWx0aW1lXCIsXG4gICAgXCJzZXJ2ZXJcIixcbiAgICBcImNsaWVudFwiXG4gIF0sXG4gIFwibGljZW5zZVwiOiBcIkFwYWNoZS0yLjBcIixcbiAgXCJtYWluXCI6IFwiaW5kZXhcIixcbiAgXCJuYW1lXCI6IFwid2Vic29ja2V0XCIsXG4gIFwicmVwb3NpdG9yeVwiOiB7XG4gICAgXCJ0eXBlXCI6IFwiZ2l0XCIsXG4gICAgXCJ1cmxcIjogXCJnaXQraHR0cHM6Ly9naXRodWIuY29tL3RoZXR1cnRsZTMyL1dlYlNvY2tldC1Ob2RlLmdpdFwiXG4gIH0sXG4gIFwic2NyaXB0c1wiOiB7XG4gICAgXCJndWxwXCI6IFwiZ3VscFwiLFxuICAgIFwidGVzdFwiOiBcInRhcGUgdGVzdC91bml0LyouanNcIlxuICB9LFxuICBcInZlcnNpb25cIjogXCIxLjAuMzRcIlxufVxuIiwgIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi4vcGFja2FnZS5qc29uJykudmVyc2lvbjtcbiIsICJ2YXIgX2dsb2JhbFRoaXM7XG5pZiAodHlwZW9mIGdsb2JhbFRoaXMgPT09ICdvYmplY3QnKSB7XG5cdF9nbG9iYWxUaGlzID0gZ2xvYmFsVGhpcztcbn0gZWxzZSB7XG5cdHRyeSB7XG5cdFx0X2dsb2JhbFRoaXMgPSByZXF1aXJlKCdlczUtZXh0L2dsb2JhbCcpO1xuXHR9IGNhdGNoIChlcnJvcikge1xuXHR9IGZpbmFsbHkge1xuXHRcdGlmICghX2dsb2JhbFRoaXMgJiYgdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcpIHsgX2dsb2JhbFRoaXMgPSB3aW5kb3c7IH1cblx0XHRpZiAoIV9nbG9iYWxUaGlzKSB7IHRocm93IG5ldyBFcnJvcignQ291bGQgbm90IGRldGVybWluZSBnbG9iYWwgdGhpcycpOyB9XG5cdH1cbn1cblxudmFyIE5hdGl2ZVdlYlNvY2tldCA9IF9nbG9iYWxUaGlzLldlYlNvY2tldCB8fCBfZ2xvYmFsVGhpcy5Nb3pXZWJTb2NrZXQ7XG52YXIgd2Vic29ja2V0X3ZlcnNpb24gPSByZXF1aXJlKCcuL3ZlcnNpb24nKTtcblxuXG4vKipcbiAqIEV4cG9zZSBhIFczQyBXZWJTb2NrZXQgY2xhc3Mgd2l0aCBqdXN0IG9uZSBvciB0d28gYXJndW1lbnRzLlxuICovXG5mdW5jdGlvbiBXM0NXZWJTb2NrZXQodXJpLCBwcm90b2NvbHMpIHtcblx0dmFyIG5hdGl2ZV9pbnN0YW5jZTtcblxuXHRpZiAocHJvdG9jb2xzKSB7XG5cdFx0bmF0aXZlX2luc3RhbmNlID0gbmV3IE5hdGl2ZVdlYlNvY2tldCh1cmksIHByb3RvY29scyk7XG5cdH1cblx0ZWxzZSB7XG5cdFx0bmF0aXZlX2luc3RhbmNlID0gbmV3IE5hdGl2ZVdlYlNvY2tldCh1cmkpO1xuXHR9XG5cblx0LyoqXG5cdCAqICduYXRpdmVfaW5zdGFuY2UnIGlzIGFuIGluc3RhbmNlIG9mIG5hdGl2ZVdlYlNvY2tldCAodGhlIGJyb3dzZXIncyBXZWJTb2NrZXRcblx0ICogY2xhc3MpLiBTaW5jZSBpdCBpcyBhbiBPYmplY3QgaXQgd2lsbCBiZSByZXR1cm5lZCBhcyBpdCBpcyB3aGVuIGNyZWF0aW5nIGFuXG5cdCAqIGluc3RhbmNlIG9mIFczQ1dlYlNvY2tldCB2aWEgJ25ldyBXM0NXZWJTb2NrZXQoKScuXG5cdCAqXG5cdCAqIEVDTUFTY3JpcHQgNTogaHR0cDovL2JjbGFyeS5jb20vMjAwNC8xMS8wNy8jYS0xMy4yLjJcblx0ICovXG5cdHJldHVybiBuYXRpdmVfaW5zdGFuY2U7XG59XG5pZiAoTmF0aXZlV2ViU29ja2V0KSB7XG5cdFsnQ09OTkVDVElORycsICdPUEVOJywgJ0NMT1NJTkcnLCAnQ0xPU0VEJ10uZm9yRWFjaChmdW5jdGlvbihwcm9wKSB7XG5cdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KFczQ1dlYlNvY2tldCwgcHJvcCwge1xuXHRcdFx0Z2V0OiBmdW5jdGlvbigpIHsgcmV0dXJuIE5hdGl2ZVdlYlNvY2tldFtwcm9wXTsgfVxuXHRcdH0pO1xuXHR9KTtcbn1cblxuLyoqXG4gKiBNb2R1bGUgZXhwb3J0cy5cbiAqL1xubW9kdWxlLmV4cG9ydHMgPSB7XG4gICAgJ3czY3dlYnNvY2tldCcgOiBOYXRpdmVXZWJTb2NrZXQgPyBXM0NXZWJTb2NrZXQgOiBudWxsLFxuICAgICd2ZXJzaW9uJyAgICAgIDogd2Vic29ja2V0X3ZlcnNpb25cbn07XG4iLCAiaW1wb3J0IHsgQXBwLCBFZGl0b3IsIE1hcmtkb3duVmlldywgTW9kYWwsIE5vdGljZSwgUGx1Z2luLCBQbHVnaW5TZXR0aW5nVGFiLCBTZXR0aW5nIH0gZnJvbSAnb2JzaWRpYW4nO1xuaW1wb3J0IHsgY3JlYXRlQ2xpZW50LCBEZWVwZ3JhbSwgTGl2ZVRyYW5zY3JpcHRpb25FdmVudHMgfSBmcm9tIFwiQGRlZXBncmFtL3Nka1wiO1xuXG4vLyBSZW1lbWJlciB0byByZW5hbWUgdGhlc2UgY2xhc3NlcyBhbmQgaW50ZXJmYWNlcyFcblxuaW50ZXJmYWNlIERlZXBHcmFtUGx1Z2luU2V0dGluZ3Mge1xuXHRhcGlLZXk6IHN0cmluZztcblx0c3VtbWFyaXplOiBib29sZWFuO1xuXHR0b3BpY19kZXRlY3Rpb246IGJvb2xlYW47XG5cdGludGVudF9kZXRlY3Rpb246IGJvb2xlYW47XG5cdHNlbnRpbWVudDogYm9vbGVhbjtcblx0c21hcnRfZm9ybWF0OiBib29sZWFuO1xuXHRwdW5jdHVhdGlvbjogYm9vbGVhbjtcblx0cGFyYWdyYXBoczogYm9vbGVhbjtcblx0dXR0ZXJhbmNlczogYm9vbGVhbjtcblx0ZmlsbGVyX3dvcmRzOiBib29sZWFuO1xufVxuXG5jb25zdCBERUZBVUxUX1NFVFRJTkdTOiBEZWVwR3JhbVBsdWdpblNldHRpbmdzID0ge1xuXHRhcGlLZXk6ICcnLFxuXHRzdW1tYXJpemU6IGZhbHNlLFxuXHR0b3BpY19kZXRlY3Rpb246IGZhbHNlLFxuXHRpbnRlbnRfZGV0ZWN0aW9uOiBmYWxzZSxcblx0c2VudGltZW50OiBmYWxzZSxcblx0c21hcnRfZm9ybWF0OiBmYWxzZSxcblx0cHVuY3R1YXRpb246IGZhbHNlLFxuXHRwYXJhZ3JhcGhzOiBmYWxzZSxcblx0dXR0ZXJhbmNlczogZmFsc2UsXG5cdGZpbGxlcl93b3JkczogZmFsc2Vcbn1cblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRGVlcGdyYW1QbHVnaW4gZXh0ZW5kcyBQbHVnaW4ge1xuXHRzZXR0aW5nczogRGVlcGdyYW1QbHVnaW5TZXR0aW5ncztcblxuXHRhc3luYyBvbmxvYWQoKSB7XG5cdCAgYXdhaXQgdGhpcy5sb2FkU2V0dGluZ3MoKTtcblxuXHQgIHRoaXMuYWRkQ29tbWFuZCh7XG5cdFx0aWQ6ICdzdGFydC10cmFuc2NyaXB0aW9uJyxcblx0XHRuYW1lOiAnU3RhcnQgVHJhbnNjcmlwdGlvbicsXG5cdFx0Y2FsbGJhY2s6ICgpID0+IHtcblx0XHQgIHRoaXMuc3RhcnRUcmFuc2NyaXB0aW9uKCk7XG5cdFx0fSxcblx0ICB9KTtcblxuXHQgIHRoaXMuYWRkU2V0dGluZ1RhYihuZXcgRGVlcGdyYW1TZXR0aW5nVGFiKHRoaXMuYXBwLCB0aGlzKSk7XG5cdH1cblxuXHRhc3luYyBsb2FkU2V0dGluZ3MoKSB7XG5cdCAgdGhpcy5zZXR0aW5ncyA9IE9iamVjdC5hc3NpZ24oe30sIERFRkFVTFRfU0VUVElOR1MsIGF3YWl0IHRoaXMubG9hZERhdGEoKSk7XG5cdH1cblxuXHRhc3luYyBzYXZlU2V0dGluZ3MoKSB7XG5cdCAgYXdhaXQgdGhpcy5zYXZlRGF0YSh0aGlzLnNldHRpbmdzKTtcblx0fVxuXG5cdGFzeW5jIHN0YXJ0VHJhbnNjcmlwdGlvbigpIHtcblx0ICBjb25zdCBkZWVwZ3JhbUNsaWVudCA9IGNyZWF0ZUNsaWVudCh0aGlzLnNldHRpbmdzLmFwaUtleSk7XG5cdCAgY29uc3QgZGVlcGdyYW0gPSBkZWVwZ3JhbUNsaWVudC5saXN0ZW4ubGl2ZSh7XG5cdFx0bGFuZ3VhZ2U6IFwiZW5cIixcblx0XHRwdW5jdHVhdGU6IHRydWUsXG5cdFx0c21hcnRfZm9ybWF0OiB0cnVlLFxuXHRcdG1vZGVsOiBcIm5vdmFcIixcblx0ICB9KTtcblxuXHQgIGRlZXBncmFtLmFkZExpc3RlbmVyKExpdmVUcmFuc2NyaXB0aW9uRXZlbnRzLk9wZW4sIGFzeW5jICgpID0+IHtcblx0XHRjb25zb2xlLmxvZyhcImRlZXBncmFtOiBjb25uZWN0ZWRcIik7XG5cdCAgfSk7XG5cblx0ICBkZWVwZ3JhbS5hZGRMaXN0ZW5lcihMaXZlVHJhbnNjcmlwdGlvbkV2ZW50cy5UcmFuc2NyaXB0LCAoZGF0YSkgPT4ge1xuXHRcdGNvbnNvbGUubG9nKFwiZGVlcGdyYW06IHRyYW5zY3JpcHQgcmVjZWl2ZWRcIik7XG5cdFx0Ly8gSW5zZXJ0IHRoZSB0cmFuc2NyaWJlZCB0ZXh0IGludG8gdGhlIGFjdGl2ZSBlZGl0b3Jcblx0XHRjb25zdCBhY3RpdmVWaWV3ID0gdGhpcy5hcHAud29ya3NwYWNlLmdldEFjdGl2ZVZpZXdPZlR5cGUoTWFya2Rvd25WaWV3KTtcblx0XHRpZiAoYWN0aXZlVmlldykge1xuXHRcdCAgY29uc3QgZWRpdG9yID0gYWN0aXZlVmlldy5lZGl0b3I7XG5cdFx0ICBlZGl0b3IucmVwbGFjZVJhbmdlKGRhdGEuY2hhbm5lbC5hbHRlcm5hdGl2ZXNbMF0udHJhbnNjcmlwdCwgZWRpdG9yLmdldEN1cnNvcigpKTtcblx0XHR9XG5cdCAgfSk7XG5cblx0ICBkZWVwZ3JhbS5hZGRMaXN0ZW5lcihMaXZlVHJhbnNjcmlwdGlvbkV2ZW50cy5FcnJvciwgYXN5bmMgKGVycm9yKSA9PiB7XG5cdFx0Y29uc29sZS5lcnJvcihcImRlZXBncmFtOiBlcnJvciByZWNlaXZlZFwiLCBlcnJvcik7XG5cdCAgfSk7XG5cblx0ICAvLyBTdGFydCByZWNvcmRpbmcgYXVkaW8gZnJvbSB0aGUgbWljcm9waG9uZVxuXHQgIGNvbnN0IG1lZGlhU3RyZWFtID0gYXdhaXQgbmF2aWdhdG9yLm1lZGlhRGV2aWNlcy5nZXRVc2VyTWVkaWEoeyBhdWRpbzogdHJ1ZSB9KTtcblx0ICBjb25zdCBtZWRpYVJlY29yZGVyID0gbmV3IE1lZGlhUmVjb3JkZXIobWVkaWFTdHJlYW0sIHsgbWltZVR5cGU6IFwiYXVkaW8vd2VibVwiIH0pO1xuXHQgIG1lZGlhUmVjb3JkZXIuYWRkRXZlbnRMaXN0ZW5lcihcImRhdGFhdmFpbGFibGVcIiwgKGV2ZW50KSA9PiB7XG5cdFx0aWYgKGV2ZW50LmRhdGEuc2l6ZSA+IDApIHtcblx0XHQgIGRlZXBncmFtLnNlbmQoZXZlbnQuZGF0YSk7XG5cdFx0fVxuXHQgIH0pO1xuXHQgIG1lZGlhUmVjb3JkZXIuc3RhcnQoMTAwMCk7XG5cdH1cbiAgfVxuXG4gIGNsYXNzIERlZXBncmFtU2V0dGluZ1RhYiBleHRlbmRzIFBsdWdpblNldHRpbmdUYWIge1xuXHRwbHVnaW46IERlZXBncmFtUGx1Z2luO1xuXG5cdGNvbnN0cnVjdG9yKGFwcDogQXBwLCBwbHVnaW46IERlZXBncmFtUGx1Z2luKSB7XG5cdCAgc3VwZXIoYXBwLCBwbHVnaW4pO1xuXHQgIHRoaXMucGx1Z2luID0gcGx1Z2luO1xuXHR9XG5cblx0ZGlzcGxheSgpOiB2b2lkIHtcblx0ICBjb25zdCB7IGNvbnRhaW5lckVsIH0gPSB0aGlzO1xuXG5cdCAgY29udGFpbmVyRWwuZW1wdHkoKTtcblxuXHQgIG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxuXHRcdC5zZXROYW1lKCdEZWVwZ3JhbSBBUEkgS2V5Jylcblx0XHQuc2V0RGVzYygnRW50ZXIgeW91ciBEZWVwZ3JhbSBBUEkga2V5Jylcblx0XHQuYWRkVGV4dCh0ZXh0ID0+IHRleHRcblx0XHQgIC5zZXRQbGFjZWhvbGRlcignQVBJIEtleScpXG5cdFx0ICAuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3MuYXBpS2V5KVxuXHRcdCAgLm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xuXHRcdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3MuYXBpS2V5ID0gdmFsdWU7XG5cdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcblx0XHQgIH0pKTtcblx0fVxuICB9XG4iLCAiZXhwb3J0IGNsYXNzIERlZXBncmFtRXJyb3IgZXh0ZW5kcyBFcnJvciB7XG4gIHByb3RlY3RlZCBfX2RnRXJyb3IgPSB0cnVlO1xuXG4gIGNvbnN0cnVjdG9yKG1lc3NhZ2U6IHN0cmluZykge1xuICAgIHN1cGVyKG1lc3NhZ2UpO1xuICAgIHRoaXMubmFtZSA9IFwiRGVlcGdyYW1FcnJvclwiO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc0RlZXBncmFtRXJyb3IoZXJyb3I6IHVua25vd24pOiBlcnJvciBpcyBEZWVwZ3JhbUVycm9yIHtcbiAgcmV0dXJuIHR5cGVvZiBlcnJvciA9PT0gXCJvYmplY3RcIiAmJiBlcnJvciAhPT0gbnVsbCAmJiBcIl9fZGdFcnJvclwiIGluIGVycm9yO1xufVxuXG5leHBvcnQgY2xhc3MgRGVlcGdyYW1BcGlFcnJvciBleHRlbmRzIERlZXBncmFtRXJyb3Ige1xuICBzdGF0dXM6IG51bWJlcjtcblxuICBjb25zdHJ1Y3RvcihtZXNzYWdlOiBzdHJpbmcsIHN0YXR1czogbnVtYmVyKSB7XG4gICAgc3VwZXIobWVzc2FnZSk7XG4gICAgdGhpcy5uYW1lID0gXCJEZWVwZ3JhbUFwaUVycm9yXCI7XG4gICAgdGhpcy5zdGF0dXMgPSBzdGF0dXM7XG4gIH1cblxuICB0b0pTT04oKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIG5hbWU6IHRoaXMubmFtZSxcbiAgICAgIG1lc3NhZ2U6IHRoaXMubWVzc2FnZSxcbiAgICAgIHN0YXR1czogdGhpcy5zdGF0dXMsXG4gICAgfTtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgRGVlcGdyYW1Vbmtub3duRXJyb3IgZXh0ZW5kcyBEZWVwZ3JhbUVycm9yIHtcbiAgb3JpZ2luYWxFcnJvcjogdW5rbm93bjtcblxuICBjb25zdHJ1Y3RvcihtZXNzYWdlOiBzdHJpbmcsIG9yaWdpbmFsRXJyb3I6IHVua25vd24pIHtcbiAgICBzdXBlcihtZXNzYWdlKTtcbiAgICB0aGlzLm5hbWUgPSBcIkRlZXBncmFtVW5rbm93bkVycm9yXCI7XG4gICAgdGhpcy5vcmlnaW5hbEVycm9yID0gb3JpZ2luYWxFcnJvcjtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgRGVlcGdyYW1WZXJzaW9uRXJyb3IgZXh0ZW5kcyBEZWVwZ3JhbUVycm9yIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoXG4gICAgICBgWW91IGFyZSBhdHRlbXB0aW5nIHRvIHVzZSBhbiBvbGQgZm9ybWF0IGZvciBhIG5ld2VyIFNESyB2ZXJzaW9uLiBSZWFkIG1vcmUgaGVyZTogaHR0cHM6Ly9kcGdyLmFtL2pzLXYzYFxuICAgICk7XG5cbiAgICB0aGlzLm5hbWUgPSBcIkRlZXBncmFtVmVyc2lvbkVycm9yXCI7XG4gIH1cbn1cbiIsICJpbXBvcnQgeyBIZWFkZXJzIGFzIENyb3NzRmV0Y2hIZWFkZXJzIH0gZnJvbSBcImNyb3NzLWZldGNoXCI7XG5pbXBvcnQge1xuICBEZWVwZ3JhbUNsaWVudE9wdGlvbnMsXG4gIEZpbGVTb3VyY2UsXG4gIFByZXJlY29yZGVkU291cmNlLFxuICBVcmxTb3VyY2UsXG4gIFRleHRTb3VyY2UsXG4gIEFuYWx5emVTb3VyY2UsXG59IGZyb20gXCIuL3R5cGVzXCI7XG5pbXBvcnQgeyBSZWFkYWJsZSB9IGZyb20gXCJzdHJlYW1cIjtcbmltcG9ydCBtZXJnZSBmcm9tIFwiZGVlcG1lcmdlXCI7XG5cbmV4cG9ydCBmdW5jdGlvbiBzdHJpcFRyYWlsaW5nU2xhc2godXJsOiBzdHJpbmcpOiBzdHJpbmcge1xuICByZXR1cm4gdXJsLnJlcGxhY2UoL1xcLyQvLCBcIlwiKTtcbn1cblxuZXhwb3J0IGNvbnN0IGlzQnJvd3NlciA9ICgpID0+IHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCI7XG5leHBvcnQgY29uc3QgaXNTZXJ2ZXIgPSAoKSA9PiB0eXBlb2YgcHJvY2VzcyAhPT0gXCJ1bmRlZmluZWRcIjtcblxuZXhwb3J0IGZ1bmN0aW9uIGFwcGx5U2V0dGluZ0RlZmF1bHRzKFxuICBvcHRpb25zOiBEZWVwZ3JhbUNsaWVudE9wdGlvbnMsXG4gIGRlZmF1bHRzOiBEZWVwZ3JhbUNsaWVudE9wdGlvbnNcbik6IERlZXBncmFtQ2xpZW50T3B0aW9ucyB7XG4gIHJldHVybiBtZXJnZShkZWZhdWx0cywgb3B0aW9ucyk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBhcHBlbmRTZWFyY2hQYXJhbXMoXG4gIHNlYXJjaFBhcmFtczogVVJMU2VhcmNoUGFyYW1zLFxuICBvcHRpb25zOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPlxuKTogdm9pZCB7XG4gIE9iamVjdC5rZXlzKG9wdGlvbnMpLmZvckVhY2goKGkpID0+IHtcbiAgICBpZiAoQXJyYXkuaXNBcnJheShvcHRpb25zW2ldKSkge1xuICAgICAgY29uc3QgYXJyYXlQYXJhbXMgPSBvcHRpb25zW2ldIGFzIEFycmF5PGFueT47XG4gICAgICBhcnJheVBhcmFtcy5mb3JFYWNoKChwYXJhbSkgPT4ge1xuICAgICAgICBzZWFyY2hQYXJhbXMuYXBwZW5kKGksIFN0cmluZyhwYXJhbSkpO1xuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHNlYXJjaFBhcmFtcy5hcHBlbmQoaSwgU3RyaW5nKG9wdGlvbnNbaV0pKTtcbiAgICB9XG4gIH0pO1xufVxuXG5leHBvcnQgY29uc3QgcmVzb2x2ZUhlYWRlcnNDb25zdHJ1Y3RvciA9ICgpID0+IHtcbiAgaWYgKHR5cGVvZiBIZWFkZXJzID09PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgcmV0dXJuIENyb3NzRmV0Y2hIZWFkZXJzO1xuICB9XG5cbiAgcmV0dXJuIEhlYWRlcnM7XG59O1xuXG5leHBvcnQgY29uc3QgaXNVcmxTb3VyY2UgPSAoXG4gIHByb3ZpZGVkU291cmNlOiBQcmVyZWNvcmRlZFNvdXJjZSB8IEFuYWx5emVTb3VyY2Vcbik6IHByb3ZpZGVkU291cmNlIGlzIFVybFNvdXJjZSA9PiB7XG4gIGlmICgocHJvdmlkZWRTb3VyY2UgYXMgVXJsU291cmNlKS51cmwpIHJldHVybiB0cnVlO1xuXG4gIHJldHVybiBmYWxzZTtcbn07XG5cbmV4cG9ydCBjb25zdCBpc1RleHRTb3VyY2UgPSAoXG4gIHByb3ZpZGVkU291cmNlOiBQcmVyZWNvcmRlZFNvdXJjZSB8IEFuYWx5emVTb3VyY2Vcbik6IHByb3ZpZGVkU291cmNlIGlzIFRleHRTb3VyY2UgPT4ge1xuICBpZiAoKHByb3ZpZGVkU291cmNlIGFzIFRleHRTb3VyY2UpLnRleHQpIHJldHVybiB0cnVlO1xuXG4gIHJldHVybiBmYWxzZTtcbn07XG5cbmV4cG9ydCBjb25zdCBpc0ZpbGVTb3VyY2UgPSAocHJvdmlkZWRTb3VyY2U6IFByZXJlY29yZGVkU291cmNlKTogcHJvdmlkZWRTb3VyY2UgaXMgRmlsZVNvdXJjZSA9PiB7XG4gIGlmIChpc1JlYWRTdHJlYW1Tb3VyY2UocHJvdmlkZWRTb3VyY2UpIHx8IGlzQnVmZmVyU291cmNlKHByb3ZpZGVkU291cmNlKSkgcmV0dXJuIHRydWU7XG5cbiAgcmV0dXJuIGZhbHNlO1xufTtcblxuY29uc3QgaXNCdWZmZXJTb3VyY2UgPSAocHJvdmlkZWRTb3VyY2U6IFByZXJlY29yZGVkU291cmNlKTogcHJvdmlkZWRTb3VyY2UgaXMgQnVmZmVyID0+IHtcbiAgaWYgKHByb3ZpZGVkU291cmNlIGFzIEJ1ZmZlcikgcmV0dXJuIHRydWU7XG5cbiAgcmV0dXJuIGZhbHNlO1xufTtcblxuY29uc3QgaXNSZWFkU3RyZWFtU291cmNlID0gKHByb3ZpZGVkU291cmNlOiBQcmVyZWNvcmRlZFNvdXJjZSk6IHByb3ZpZGVkU291cmNlIGlzIFJlYWRhYmxlID0+IHtcbiAgaWYgKHByb3ZpZGVkU291cmNlIGFzIFJlYWRhYmxlKSByZXR1cm4gdHJ1ZTtcblxuICByZXR1cm4gZmFsc2U7XG59O1xuXG5leHBvcnQgY2xhc3MgQ2FsbGJhY2tVcmwgZXh0ZW5kcyBVUkwge1xuICBwcml2YXRlIGNhbGxiYWNrVXJsID0gdHJ1ZTtcbn1cbiIsICJleHBvcnQgY29uc3QgdmVyc2lvbiA9IFwiMy4zLjFcIjtcbiIsICJpbXBvcnQgeyBpc0Jyb3dzZXIgfSBmcm9tIFwiLi9oZWxwZXJzXCI7XG5pbXBvcnQgeyBEZWVwZ3JhbUNsaWVudE9wdGlvbnMgfSBmcm9tIFwiLi90eXBlcy9EZWVwZ3JhbUNsaWVudE9wdGlvbnNcIjtcbmltcG9ydCB7IEZldGNoT3B0aW9ucyB9IGZyb20gXCIuL3R5cGVzL0ZldGNoXCI7XG5pbXBvcnQgeyB2ZXJzaW9uIH0gZnJvbSBcIi4vdmVyc2lvblwiO1xuXG5leHBvcnQgY29uc3QgTk9ERV9WRVJTSU9OID0gcHJvY2Vzcy52ZXJzaW9ucy5ub2RlO1xuXG5leHBvcnQgY29uc3QgREVGQVVMVF9IRUFERVJTID0ge1xuICBcIkNvbnRlbnQtVHlwZVwiOiBgYXBwbGljYXRpb24vanNvbmAsXG4gIFwiWC1DbGllbnQtSW5mb1wiOiBgQGRlZXBncmFtL3NkazsgJHtpc0Jyb3dzZXIoKSA/IFwiYnJvd3NlclwiIDogXCJzZXJ2ZXJcIn07IHYke3ZlcnNpb259YCxcbiAgXCJVc2VyLUFnZW50XCI6IGBAZGVlcGdyYW0vc2RrLyR7dmVyc2lvbn0gJHtpc0Jyb3dzZXIoKSA/IFwiamF2YXNjcmlwdFwiIDogYG5vZGUvJHtOT0RFX1ZFUlNJT059YH1gLFxufTtcblxuZXhwb3J0IGNvbnN0IERFRkFVTFRfVVJMID0gXCJodHRwczovL2FwaS5kZWVwZ3JhbS5jb21cIjtcblxuZXhwb3J0IGNvbnN0IERFRkFVTFRfR0xPQkFMX09QVElPTlMgPSB7XG4gIHVybDogREVGQVVMVF9VUkwsXG59O1xuXG5leHBvcnQgY29uc3QgREVGQVVMVF9GRVRDSF9PUFRJT05TOiBGZXRjaE9wdGlvbnMgPSB7XG4gIGhlYWRlcnM6IERFRkFVTFRfSEVBREVSUyxcbn07XG5cbmV4cG9ydCBjb25zdCBERUZBVUxUX09QVElPTlM6IERlZXBncmFtQ2xpZW50T3B0aW9ucyA9IHtcbiAgZ2xvYmFsOiBERUZBVUxUX0dMT0JBTF9PUFRJT05TLFxuICBmZXRjaDogREVGQVVMVF9GRVRDSF9PUFRJT05TLFxufTtcbiIsICJpbXBvcnQgeyBERUZBVUxUX09QVElPTlMsIERFRkFVTFRfVVJMIH0gZnJvbSBcIi4uL2xpYi9jb25zdGFudHNcIjtcbmltcG9ydCB7IERlZXBncmFtRXJyb3IgfSBmcm9tIFwiLi4vbGliL2Vycm9yc1wiO1xuaW1wb3J0IHsgYXBwbHlTZXR0aW5nRGVmYXVsdHMsIHN0cmlwVHJhaWxpbmdTbGFzaCB9IGZyb20gXCIuLi9saWIvaGVscGVyc1wiO1xuaW1wb3J0IHsgRGVlcGdyYW1DbGllbnRPcHRpb25zIH0gZnJvbSBcIi4uL2xpYi90eXBlc1wiO1xuXG4vKipcbiAqIERlZXBncmFtIENsaWVudC5cbiAqXG4gKiBBbiBpc29tb3JwaGljIEphdmFzY3JpcHQgY2xpZW50IGZvciBpbnRlcmFjdGluZyB3aXRoIHRoZSBEZWVwZ3JhbSBBUEkuXG4gKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVycy5kZWVwZ3JhbS5jb21cbiAqL1xuZXhwb3J0IGFic3RyYWN0IGNsYXNzIEFic3RyYWN0Q2xpZW50IHtcbiAgcHJvdGVjdGVkIGJhc2VVcmw6IFVSTDtcblxuICBjb25zdHJ1Y3Rvcihwcm90ZWN0ZWQga2V5OiBzdHJpbmcsIHByb3RlY3RlZCBvcHRpb25zOiBEZWVwZ3JhbUNsaWVudE9wdGlvbnMpIHtcbiAgICB0aGlzLmtleSA9IGtleTtcblxuICAgIGlmICgha2V5KSB7XG4gICAgICB0aGlzLmtleSA9IHByb2Nlc3MuZW52LkRFRVBHUkFNX0FQSV9LRVkgYXMgc3RyaW5nO1xuICAgIH1cblxuICAgIGlmICghdGhpcy5rZXkpIHtcbiAgICAgIHRocm93IG5ldyBEZWVwZ3JhbUVycm9yKFwiQSBkZWVwZ3JhbSBBUEkga2V5IGlzIHJlcXVpcmVkXCIpO1xuICAgIH1cblxuICAgIHRoaXMub3B0aW9ucyA9IGFwcGx5U2V0dGluZ0RlZmF1bHRzKG9wdGlvbnMsIERFRkFVTFRfT1BUSU9OUyk7XG5cbiAgICBpZiAoIXRoaXMub3B0aW9ucy5nbG9iYWw/LnVybCkge1xuICAgICAgdGhyb3cgbmV3IERlZXBncmFtRXJyb3IoXG4gICAgICAgIGBBbiBBUEkgVVJMIGlzIHJlcXVpcmVkLiBJdCBzaG91bGQgYmUgc2V0IHRvICR7REVGQVVMVF9VUkx9IGJ5IGRlZmF1bHQuIE5vIGlkZWEgd2hhdCBoYXBwZW5lZCFgXG4gICAgICApO1xuICAgIH1cblxuICAgIGxldCBiYXNlVXJsU3RyaW5nOiBzdHJpbmcgPSB0aGlzLm9wdGlvbnMuZ2xvYmFsLnVybDtcbiAgICBsZXQgcHJveHlVcmxTdHJpbmc6IHN0cmluZztcblxuICAgIC8qKlxuICAgICAqIENoZWNrIGlmIHRoZSBiYXNlIFVSTCBwcm92aWRlZCBpcyBtaXNzaW5nIGEgcHJvdG9jb2wgYW5kIHdhcm4gaW4gdGhlIGNvbnNvbGUuXG4gICAgICovXG4gICAgaWYgKCFiYXNlVXJsU3RyaW5nLnN0YXJ0c1dpdGgoXCJodHRwXCIpICYmICFiYXNlVXJsU3RyaW5nLnN0YXJ0c1dpdGgoXCJ3c1wiKSkge1xuICAgICAgY29uc29sZS53YXJuKFxuICAgICAgICBgVGhlIGJhc2UgVVJMIHByb3ZpZGVkIGRvZXMgbm90IGJlZ2luIHdpdGggaHR0cCwgaHR0cHMsIHdzLCBvciB3c3MgYW5kIHdpbGwgZGVmYXVsdCB0byBodHRwcyBhcyBzdGFuZGFyZC5gXG4gICAgICApO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFwcGx5aW5nIHByb3h5IHRvIGJhc2UgVVJMLlxuICAgICAqL1xuICAgIGlmICh0aGlzLm9wdGlvbnMucmVzdFByb3h5Py51cmwpIHtcbiAgICAgIC8qKlxuICAgICAgICogUHJldmVudCBjbGllbnQgdXNpbmcgYSByZWFsIEFQSSBrZXkgd2hlbiB1c2luZyBhIHByb3h5IGNvbmZpZ3VyYXRpb24uXG4gICAgICAgKi9cbiAgICAgIGlmICh0aGlzLmtleSAhPT0gXCJwcm94eVwiKSB7XG4gICAgICAgIHRocm93IG5ldyBEZWVwZ3JhbUVycm9yKFxuICAgICAgICAgIGBEbyBub3QgYXR0ZW1wdCB0byBwYXNzIGFueSBvdGhlciBBUEkga2V5IHRoYW4gdGhlIHN0cmluZyBcInByb3h5XCIgd2hlbiBtYWtpbmcgcHJveGllZCBSRVNUIHJlcXVlc3RzLiBQbGVhc2UgZW5zdXJlIHlvdXIgcHJveHkgYXBwbGljYXRpb24gaXMgcmVzcG9uc2libGUgZm9yIHdyaXRpbmcgb3VyIEFQSSBrZXkgdG8gdGhlIEF1dGhvcml6YXRpb24gaGVhZGVyLmBcbiAgICAgICAgKTtcbiAgICAgIH1cblxuICAgICAgcHJveHlVcmxTdHJpbmcgPSB0aGlzLm9wdGlvbnMucmVzdFByb3h5LnVybDtcblxuICAgICAgLyoqXG4gICAgICAgKiBDaGVjayBpZiB0aGUgcHJveHkgVVJMIHByb3ZpZGVkIGlzIG1pc3NpbmcgYSBwcm90b2NvbCBhbmQgd2FybiBpbiB0aGUgY29uc29sZS5cbiAgICAgICAqL1xuICAgICAgaWYgKCFwcm94eVVybFN0cmluZy5zdGFydHNXaXRoKFwiaHR0cFwiKSAmJiAhcHJveHlVcmxTdHJpbmcuc3RhcnRzV2l0aChcIndzXCIpKSB7XG4gICAgICAgIGNvbnNvbGUud2FybihcbiAgICAgICAgICBgVGhlIHByb3h5IFVSTCBwcm92aWRlZCBkb2VzIG5vdCBiZWdpbiB3aXRoIGh0dHAsIGh0dHBzLCB3cywgb3Igd3NzIGFuZCB3aWxsIGRlZmF1bHQgdG8gaHR0cHMgYXMgc3RhbmRhcmQuYFxuICAgICAgICApO1xuICAgICAgfVxuXG4gICAgICBiYXNlVXJsU3RyaW5nID0gcHJveHlVcmxTdHJpbmc7XG4gICAgfVxuXG4gICAgdGhpcy5iYXNlVXJsID0gdGhpcy5yZXNvbHZlQmFzZVVybChiYXNlVXJsU3RyaW5nKTtcbiAgfVxuXG4gIHByb3RlY3RlZCByZXNvbHZlQmFzZVVybCh1cmw6IHN0cmluZykge1xuICAgIGlmICghL15odHRwcz86XFwvXFwvL2kudGVzdCh1cmwpKSB7XG4gICAgICB1cmwgPSBcImh0dHBzOi8vXCIgKyB1cmw7XG4gICAgfVxuXG4gICAgcmV0dXJuIG5ldyBVUkwoc3RyaXBUcmFpbGluZ1NsYXNoKHVybCkpO1xuICB9XG5cbiAgcHJvdGVjdGVkIHdpbGxQcm94eSgpIHtcbiAgICBjb25zdCBwcm94eVVybCA9IHRoaXMub3B0aW9ucy5yZXN0UHJveHk/LnVybDtcblxuICAgIHJldHVybiAhIXByb3h5VXJsO1xuICB9XG59XG4iLCAiaW1wb3J0IHsgRXZlbnRFbWl0dGVyIH0gZnJvbSBcImV2ZW50c1wiO1xuaW1wb3J0IHsgREVGQVVMVF9PUFRJT05TLCBERUZBVUxUX1VSTCB9IGZyb20gXCIuLi9saWIvY29uc3RhbnRzXCI7XG5pbXBvcnQgeyBhcHBseVNldHRpbmdEZWZhdWx0cywgc3RyaXBUcmFpbGluZ1NsYXNoIH0gZnJvbSBcIi4uL2xpYi9oZWxwZXJzXCI7XG5pbXBvcnQgeyBEZWVwZ3JhbUNsaWVudE9wdGlvbnMgfSBmcm9tIFwiLi4vbGliL3R5cGVzXCI7XG5cbmV4cG9ydCBhYnN0cmFjdCBjbGFzcyBBYnN0cmFjdFdzQ2xpZW50IGV4dGVuZHMgRXZlbnRFbWl0dGVyIHtcbiAgcHJvdGVjdGVkIGJhc2VVcmw6IFVSTDtcblxuICBjb25zdHJ1Y3RvcihcbiAgICBwcm90ZWN0ZWQga2V5OiBzdHJpbmcsXG4gICAgcHJvdGVjdGVkIG9wdGlvbnM6IERlZXBncmFtQ2xpZW50T3B0aW9ucyB8IHVuZGVmaW5lZCA9IERFRkFVTFRfT1BUSU9OU1xuICApIHtcbiAgICBzdXBlcigpO1xuXG4gICAgdGhpcy5rZXkgPSBrZXk7XG5cbiAgICBpZiAoIWtleSkge1xuICAgICAgdGhpcy5rZXkgPSBwcm9jZXNzLmVudi5ERUVQR1JBTV9BUElfS0VZIGFzIHN0cmluZztcbiAgICB9XG5cbiAgICBpZiAoIXRoaXMua2V5KSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJBIGRlZXBncmFtIEFQSSBrZXkgaXMgcmVxdWlyZWRcIik7XG4gICAgfVxuXG4gICAgdGhpcy5vcHRpb25zID0gYXBwbHlTZXR0aW5nRGVmYXVsdHMob3B0aW9ucywgREVGQVVMVF9PUFRJT05TKTtcblxuICAgIGlmICghdGhpcy5vcHRpb25zLmdsb2JhbD8udXJsKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgIGBBbiBBUEkgVVJMIGlzIHJlcXVpcmVkLiBJdCBzaG91bGQgYmUgc2V0IHRvICR7REVGQVVMVF9VUkx9IGJ5IGRlZmF1bHQuIE5vIGlkZWEgd2hhdCBoYXBwZW5lZCFgXG4gICAgICApO1xuICAgIH1cblxuICAgIGxldCB1cmwgPSB0aGlzLm9wdGlvbnMuZ2xvYmFsLnVybDtcblxuICAgIGlmICghL15odHRwcz86XFwvXFwvL2kudGVzdCh1cmwpKSB7XG4gICAgICB1cmwgPSBcImh0dHBzOi8vXCIgKyB1cmw7XG4gICAgfVxuXG4gICAgdGhpcy5iYXNlVXJsID0gbmV3IFVSTChzdHJpcFRyYWlsaW5nU2xhc2godXJsKSk7XG4gICAgdGhpcy5iYXNlVXJsLnByb3RvY29sID0gdGhpcy5iYXNlVXJsLnByb3RvY29sLnRvTG93ZXJDYXNlKCkucmVwbGFjZSgvKGh0dHApKHMpPy9naSwgXCJ3cyQyXCIpO1xuICB9XG59XG4iLCAiZXhwb3J0IGVudW0gTGl2ZUNvbm5lY3Rpb25TdGF0ZSB7XG4gIENPTk5FQ1RJTkcgPSAwLFxuICBPUEVOID0gMSxcbiAgQ0xPU0lORyA9IDIsXG4gIENMT1NFRCA9IDMsXG59XG4iLCAiZXhwb3J0IGVudW0gTGl2ZVRyYW5zY3JpcHRpb25FdmVudHMge1xuICBPcGVuID0gXCJvcGVuXCIsXG4gIENsb3NlID0gXCJjbG9zZVwiLFxuICBUcmFuc2NyaXB0ID0gXCJSZXN1bHRzXCIsIC8vIGV4YWN0IG1hdGNoIHRvIGRhdGEgdHlwZSBmcm9tIEFQSVxuICBNZXRhZGF0YSA9IFwiTWV0YWRhdGFcIiwgLy8gZXhhY3QgbWF0Y2ggdG8gZGF0YSB0eXBlIGZyb20gQVBJXG4gIEVycm9yID0gXCJlcnJvclwiLFxuICBXYXJuaW5nID0gXCJ3YXJuaW5nXCIsXG4gIFV0dGVyYW5jZUVuZCA9IFwiVXR0ZXJhbmNlRW5kXCIsIC8vIGV4YWN0IG1hdGNoIHRvIGRhdGEgdHlwZSBmcm9tIEFQSVxuICBTcGVlY2hTdGFydGVkID0gXCJTcGVlY2hTdGFydGVkXCIsXG59XG4iLCAiaW1wb3J0IHsgQWJzdHJhY3RXc0NsaWVudCB9IGZyb20gXCIuL0Fic3RyYWN0V3NDbGllbnRcIjtcbmltcG9ydCB7IGFwcGVuZFNlYXJjaFBhcmFtcyB9IGZyb20gXCIuLi9saWIvaGVscGVyc1wiO1xuaW1wb3J0IHsgRGVlcGdyYW1FcnJvciB9IGZyb20gXCIuLi9saWIvZXJyb3JzXCI7XG5pbXBvcnQgeyBERUZBVUxUX09QVElPTlMgfSBmcm9tIFwiLi4vbGliL2NvbnN0YW50c1wiO1xuaW1wb3J0IHsgTGl2ZUNvbm5lY3Rpb25TdGF0ZSwgTGl2ZVRyYW5zY3JpcHRpb25FdmVudHMgfSBmcm9tIFwiLi4vbGliL2VudW1zXCI7XG5pbXBvcnQgeyB3M2N3ZWJzb2NrZXQgfSBmcm9tIFwid2Vic29ja2V0XCI7XG5cbmltcG9ydCB0eXBlIHtcbiAgTGl2ZVNjaGVtYSxcbiAgTGl2ZUNvbmZpZ09wdGlvbnMsXG4gIExpdmVNZXRhZGF0YUV2ZW50LFxuICBMaXZlVHJhbnNjcmlwdGlvbkV2ZW50LFxuICBEZWVwZ3JhbUNsaWVudE9wdGlvbnMsXG4gIFV0dGVyYW5jZUVuZEV2ZW50LFxuICBTcGVlY2hTdGFydGVkRXZlbnQsXG59IGZyb20gXCIuLi9saWIvdHlwZXNcIjtcblxuZXhwb3J0IGNsYXNzIExpdmVDbGllbnQgZXh0ZW5kcyBBYnN0cmFjdFdzQ2xpZW50IHtcbiAgcHJpdmF0ZSBfc29ja2V0OiB3M2N3ZWJzb2NrZXQ7XG5cbiAgY29uc3RydWN0b3IoXG4gICAgcHJvdGVjdGVkIGtleTogc3RyaW5nLFxuICAgIHByb3RlY3RlZCBvcHRpb25zOiBEZWVwZ3JhbUNsaWVudE9wdGlvbnMgfCB1bmRlZmluZWQgPSBERUZBVUxUX09QVElPTlMsXG4gICAgcHJpdmF0ZSB0cmFuc2NyaXB0aW9uT3B0aW9uczogTGl2ZVNjaGVtYSA9IHt9LFxuICAgIGVuZHBvaW50ID0gXCJ2MS9saXN0ZW5cIlxuICApIHtcbiAgICBzdXBlcihrZXksIG9wdGlvbnMpO1xuXG4gICAgY29uc3QgdXJsID0gbmV3IFVSTChlbmRwb2ludCwgdGhpcy5iYXNlVXJsKTtcbiAgICB1cmwucHJvdG9jb2wgPSB1cmwucHJvdG9jb2wudG9Mb3dlckNhc2UoKS5yZXBsYWNlKC8oaHR0cCkocyk/L2dpLCBcIndzJDJcIik7XG4gICAgYXBwZW5kU2VhcmNoUGFyYW1zKHVybC5zZWFyY2hQYXJhbXMsIHRoaXMudHJhbnNjcmlwdGlvbk9wdGlvbnMpO1xuXG4gICAgdGhpcy5fc29ja2V0ID0gbmV3IHczY3dlYnNvY2tldCh1cmwudG9TdHJpbmcoKSwgW1widG9rZW5cIiwgdGhpcy5rZXldKTtcblxuICAgIHRoaXMuX3NvY2tldC5vbm9wZW4gPSAoKSA9PiB7XG4gICAgICB0aGlzLmVtaXQoTGl2ZVRyYW5zY3JpcHRpb25FdmVudHMuT3BlbiwgdGhpcyk7XG4gICAgfTtcblxuICAgIHRoaXMuX3NvY2tldC5vbmNsb3NlID0gKGV2ZW50OiBhbnkpID0+IHtcbiAgICAgIHRoaXMuZW1pdChMaXZlVHJhbnNjcmlwdGlvbkV2ZW50cy5DbG9zZSwgZXZlbnQpO1xuICAgIH07XG5cbiAgICB0aGlzLl9zb2NrZXQub25lcnJvciA9IChldmVudCkgPT4ge1xuICAgICAgdGhpcy5lbWl0KExpdmVUcmFuc2NyaXB0aW9uRXZlbnRzLkVycm9yLCBldmVudCk7XG4gICAgfTtcblxuICAgIHRoaXMuX3NvY2tldC5vbm1lc3NhZ2UgPSAoZXZlbnQpID0+IHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IGRhdGE6IGFueSA9IEpTT04ucGFyc2UoZXZlbnQuZGF0YS50b1N0cmluZygpKTtcblxuICAgICAgICBpZiAoZGF0YS50eXBlID09PSBMaXZlVHJhbnNjcmlwdGlvbkV2ZW50cy5NZXRhZGF0YSkge1xuICAgICAgICAgIHRoaXMuZW1pdChMaXZlVHJhbnNjcmlwdGlvbkV2ZW50cy5NZXRhZGF0YSwgZGF0YSBhcyBMaXZlTWV0YWRhdGFFdmVudCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZGF0YS50eXBlID09PSBMaXZlVHJhbnNjcmlwdGlvbkV2ZW50cy5UcmFuc2NyaXB0KSB7XG4gICAgICAgICAgdGhpcy5lbWl0KExpdmVUcmFuc2NyaXB0aW9uRXZlbnRzLlRyYW5zY3JpcHQsIGRhdGEgYXMgTGl2ZVRyYW5zY3JpcHRpb25FdmVudCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZGF0YS50eXBlID09PSBMaXZlVHJhbnNjcmlwdGlvbkV2ZW50cy5VdHRlcmFuY2VFbmQpIHtcbiAgICAgICAgICB0aGlzLmVtaXQoTGl2ZVRyYW5zY3JpcHRpb25FdmVudHMuVXR0ZXJhbmNlRW5kLCBkYXRhIGFzIFV0dGVyYW5jZUVuZEV2ZW50KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChkYXRhLnR5cGUgPT09IExpdmVUcmFuc2NyaXB0aW9uRXZlbnRzLlNwZWVjaFN0YXJ0ZWQpIHtcbiAgICAgICAgICB0aGlzLmVtaXQoTGl2ZVRyYW5zY3JpcHRpb25FdmVudHMuU3BlZWNoU3RhcnRlZCwgZGF0YSBhcyBTcGVlY2hTdGFydGVkRXZlbnQpO1xuICAgICAgICB9XG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICB0aGlzLmVtaXQoTGl2ZVRyYW5zY3JpcHRpb25FdmVudHMuRXJyb3IsIHtcbiAgICAgICAgICBldmVudCxcbiAgICAgICAgICBtZXNzYWdlOiBcIlVuYWJsZSB0byBwYXJzZSBgZGF0YWAgYXMgSlNPTi5cIixcbiAgICAgICAgICBlcnJvcixcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfTtcbiAgfVxuXG4gIHB1YmxpYyBjb25maWd1cmUoY29uZmlnOiBMaXZlQ29uZmlnT3B0aW9ucyk6IHZvaWQge1xuICAgIHRoaXMuX3NvY2tldC5zZW5kKFxuICAgICAgSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICB0eXBlOiBcIkNvbmZpZ3VyZVwiLFxuICAgICAgICBwcm9jZXNzb3JzOiBjb25maWcsXG4gICAgICB9KVxuICAgICk7XG4gIH1cblxuICBwdWJsaWMga2VlcEFsaXZlKCk6IHZvaWQge1xuICAgIHRoaXMuX3NvY2tldC5zZW5kKFxuICAgICAgSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICB0eXBlOiBcIktlZXBBbGl2ZVwiLFxuICAgICAgfSlcbiAgICApO1xuICB9XG5cbiAgcHVibGljIGdldFJlYWR5U3RhdGUoKTogTGl2ZUNvbm5lY3Rpb25TdGF0ZSB7XG4gICAgcmV0dXJuIHRoaXMuX3NvY2tldC5yZWFkeVN0YXRlO1xuICB9XG5cbiAgLyoqXG4gICAqIFNlbmRzIGRhdGEgdG8gdGhlIERlZXBncmFtIEFQSSB2aWEgd2Vic29ja2V0IGNvbm5lY3Rpb25cbiAgICogQHBhcmFtIGRhdGEgQXVkaW8gZGF0YSB0byBzZW5kIHRvIERlZXBncmFtXG4gICAqXG4gICAqIENvbmZvcm1zIHRvIFJGQyAjMTQ2IGZvciBOb2RlLmpzIC0gZG9lcyBub3Qgc2VuZCBhbiBlbXB0eSBieXRlLlxuICAgKiBJbiB0aGUgYnJvd3NlciwgYSBCbG9iIHdpbGwgY29udGFpbiBsZW5ndGggd2l0aCBubyBhdWRpby5cbiAgICogQHNlZSBodHRwczovL2dpdGh1Yi5jb20vZGVlcGdyYW0vZGVlcGdyYW0tcHl0aG9uLXNkay9pc3N1ZXMvMTQ2XG4gICAqL1xuICBwdWJsaWMgc2VuZChkYXRhOiBzdHJpbmcgfCBBcnJheUJ1ZmZlckxpa2UgfCBCbG9iKTogdm9pZCB7XG4gICAgaWYgKHRoaXMuX3NvY2tldC5yZWFkeVN0YXRlID09PSBMaXZlQ29ubmVjdGlvblN0YXRlLk9QRU4pIHtcbiAgICAgIGlmICh0eXBlb2YgZGF0YSA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICB0aGlzLl9zb2NrZXQuc2VuZChkYXRhKTsgLy8gc2VuZCB0ZXh0IGRhdGFcbiAgICAgIH0gZWxzZSBpZiAoKGRhdGEgYXMgYW55KSBpbnN0YW5jZW9mIEJsb2IpIHtcbiAgICAgICAgdGhpcy5fc29ja2V0LnNlbmQoZGF0YSBhcyB1bmtub3duIGFzIEFycmF5QnVmZmVyTGlrZSk7IC8vIHNlbmQgYmxvYiBkYXRhXG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zdCBidWZmZXIgPSBkYXRhIGFzIEFycmF5QnVmZmVyTGlrZTtcblxuICAgICAgICBpZiAoYnVmZmVyLmJ5dGVMZW5ndGggPiAwKSB7XG4gICAgICAgICAgdGhpcy5fc29ja2V0LnNlbmQoYnVmZmVyKTsgLy8gc2VuZCBidWZmZXIgd2hlbiBub3QgemVyby1ieXRlIChvciBicm93c2VyKVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRoaXMuZW1pdChcbiAgICAgICAgICAgIExpdmVUcmFuc2NyaXB0aW9uRXZlbnRzLldhcm5pbmcsXG4gICAgICAgICAgICBcIlplcm8tYnl0ZSBkZXRlY3RlZCwgc2tpcHBpbmcuIFNlbmQgYENsb3NlU3RyZWFtYCBpZiB0cnlpbmcgdG8gY2xvc2UgdGhlIGNvbm5lY3Rpb24uXCJcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHRocm93IG5ldyBEZWVwZ3JhbUVycm9yKFwiQ291bGQgbm90IHNlbmQuIENvbm5lY3Rpb24gbm90IG9wZW4uXCIpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBEZW5vdGUgdGhhdCB5b3UgYXJlIGZpbmlzaGVkIHNlbmRpbmcgYXVkaW8gYW5kIGNsb3NlXG4gICAqIHRoZSB3ZWJzb2NrZXQgY29ubmVjdGlvbiB3aGVuIHRyYW5zY3JpcHRpb24gaXMgZmluaXNoZWRcbiAgICovXG4gIHB1YmxpYyBmaW5pc2goKTogdm9pZCB7XG4gICAgLy8gdGVsbCB0aGUgc2VydmVyIHRvIGNsb3NlIHRoZSBzb2NrZXRcbiAgICB0aGlzLl9zb2NrZXQuc2VuZChcbiAgICAgIEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgdHlwZTogXCJDbG9zZVN0cmVhbVwiLFxuICAgICAgfSlcbiAgICApO1xuICB9XG59XG4iLCAiaW1wb3J0IGNyb3NzRmV0Y2ggZnJvbSBcImNyb3NzLWZldGNoXCI7XG5pbXBvcnQgeyByZXNvbHZlSGVhZGVyc0NvbnN0cnVjdG9yIH0gZnJvbSBcIi4vaGVscGVyc1wiO1xuaW1wb3J0IHR5cGUgeyBGZXRjaCB9IGZyb20gXCIuL3R5cGVzL0ZldGNoXCI7XG5cbmV4cG9ydCBjb25zdCByZXNvbHZlRmV0Y2ggPSAoY3VzdG9tRmV0Y2g/OiBGZXRjaCk6IEZldGNoID0+IHtcbiAgbGV0IF9mZXRjaDogRmV0Y2g7XG4gIGlmIChjdXN0b21GZXRjaCkge1xuICAgIF9mZXRjaCA9IGN1c3RvbUZldGNoO1xuICB9IGVsc2UgaWYgKHR5cGVvZiBmZXRjaCA9PT0gXCJ1bmRlZmluZWRcIikge1xuICAgIF9mZXRjaCA9IGNyb3NzRmV0Y2ggYXMgdW5rbm93biBhcyBGZXRjaDtcbiAgfSBlbHNlIHtcbiAgICBfZmV0Y2ggPSBmZXRjaDtcbiAgfVxuICByZXR1cm4gKC4uLmFyZ3MpID0+IF9mZXRjaCguLi5hcmdzKTtcbn07XG5cbmV4cG9ydCBjb25zdCBmZXRjaFdpdGhBdXRoID0gKGFwaUtleTogc3RyaW5nLCBjdXN0b21GZXRjaD86IEZldGNoKTogRmV0Y2ggPT4ge1xuICBjb25zdCBmZXRjaCA9IHJlc29sdmVGZXRjaChjdXN0b21GZXRjaCk7XG4gIGNvbnN0IEhlYWRlcnNDb25zdHJ1Y3RvciA9IHJlc29sdmVIZWFkZXJzQ29uc3RydWN0b3IoKTtcblxuICByZXR1cm4gYXN5bmMgKGlucHV0LCBpbml0KSA9PiB7XG4gICAgbGV0IGhlYWRlcnMgPSBuZXcgSGVhZGVyc0NvbnN0cnVjdG9yKGluaXQ/LmhlYWRlcnMpO1xuXG4gICAgaWYgKCFoZWFkZXJzLmhhcyhcIkF1dGhvcml6YXRpb25cIikpIHtcbiAgICAgIGhlYWRlcnMuc2V0KFwiQXV0aG9yaXphdGlvblwiLCBgVG9rZW4gJHthcGlLZXl9YCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGZldGNoKGlucHV0LCB7IC4uLmluaXQsIGhlYWRlcnMgfSk7XG4gIH07XG59O1xuXG5leHBvcnQgY29uc3QgcmVzb2x2ZVJlc3BvbnNlID0gYXN5bmMgKCkgPT4ge1xuICBpZiAodHlwZW9mIFJlc3BvbnNlID09PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgcmV0dXJuIChhd2FpdCBpbXBvcnQoXCJjcm9zcy1mZXRjaFwiKSkuUmVzcG9uc2U7XG4gIH1cblxuICByZXR1cm4gUmVzcG9uc2U7XG59O1xuIiwgImltcG9ydCB7IERlZXBncmFtQXBpRXJyb3IsIERlZXBncmFtRXJyb3IsIERlZXBncmFtVW5rbm93bkVycm9yIH0gZnJvbSBcIi4uL2xpYi9lcnJvcnNcIjtcbmltcG9ydCB7IFJlYWRhYmxlIH0gZnJvbSBcInN0cmVhbVwiO1xuaW1wb3J0IHsgZmV0Y2hXaXRoQXV0aCwgcmVzb2x2ZVJlc3BvbnNlIH0gZnJvbSBcIi4uL2xpYi9mZXRjaFwiO1xuaW1wb3J0IHR5cGUgeyBGZXRjaCwgRmV0Y2hQYXJhbWV0ZXJzLCBSZXF1ZXN0TWV0aG9kVHlwZSB9IGZyb20gXCIuLi9saWIvdHlwZXMvRmV0Y2hcIjtcbmltcG9ydCB7IEFic3RyYWN0Q2xpZW50IH0gZnJvbSBcIi4vQWJzdHJhY3RDbGllbnRcIjtcbmltcG9ydCB7IERlZXBncmFtQ2xpZW50T3B0aW9ucyB9IGZyb20gXCIuLi9saWIvdHlwZXNcIjtcbmltcG9ydCB7IGlzQnJvd3NlciB9IGZyb20gXCIuLi9saWIvaGVscGVyc1wiO1xuXG5leHBvcnQgYWJzdHJhY3QgY2xhc3MgQWJzdHJhY3RSZXN0ZnVsQ2xpZW50IGV4dGVuZHMgQWJzdHJhY3RDbGllbnQge1xuICBwcm90ZWN0ZWQgZmV0Y2g6IEZldGNoO1xuXG4gIGNvbnN0cnVjdG9yKHByb3RlY3RlZCBrZXk6IHN0cmluZywgcHJvdGVjdGVkIG9wdGlvbnM6IERlZXBncmFtQ2xpZW50T3B0aW9ucykge1xuICAgIHN1cGVyKGtleSwgb3B0aW9ucyk7XG5cbiAgICBpZiAoaXNCcm93c2VyKCkgJiYgIXRoaXMuX3dpbGxQcm94eSgpKSB7XG4gICAgICB0aHJvdyBuZXcgRGVlcGdyYW1FcnJvcihcbiAgICAgICAgXCJEdWUgdG8gQ09SUyB3ZSBhcmUgdW5hYmxlIHRvIHN1cHBvcnQgUkVTVC1iYXNlZCBBUEkgY2FsbHMgdG8gb3VyIEFQSSBmcm9tIHRoZSBicm93c2VyLiBQbGVhc2UgY29uc2lkZXIgdXNpbmcgYSBwcm94eSwgYW5kIGluY2x1ZGluZyBhIGByZXN0UHJveHk6IHsgdXJsOiAnJ31gIGluIHlvdXIgRGVlcGdyYW0gY2xpZW50IG9wdGlvbnMuXCJcbiAgICAgICk7XG4gICAgfVxuXG4gICAgdGhpcy5mZXRjaCA9IGZldGNoV2l0aEF1dGgodGhpcy5rZXksIG9wdGlvbnMuX2V4cGVyaW1lbnRhbEN1c3RvbUZldGNoKTtcbiAgfVxuXG4gIHByb3RlY3RlZCBfZ2V0RXJyb3JNZXNzYWdlKGVycjogYW55KTogc3RyaW5nIHtcbiAgICByZXR1cm4gZXJyLm1zZyB8fCBlcnIubWVzc2FnZSB8fCBlcnIuZXJyb3JfZGVzY3JpcHRpb24gfHwgZXJyLmVycm9yIHx8IEpTT04uc3RyaW5naWZ5KGVycik7XG4gIH1cblxuICBwcm90ZWN0ZWQgYXN5bmMgaGFuZGxlRXJyb3IoZXJyb3I6IHVua25vd24sIHJlamVjdDogKHJlYXNvbj86IGFueSkgPT4gdm9pZCkge1xuICAgIGNvbnN0IFJlcyA9IGF3YWl0IHJlc29sdmVSZXNwb25zZSgpO1xuXG4gICAgaWYgKGVycm9yIGluc3RhbmNlb2YgUmVzKSB7XG4gICAgICBlcnJvclxuICAgICAgICAuanNvbigpXG4gICAgICAgIC50aGVuKChlcnIpID0+IHtcbiAgICAgICAgICByZWplY3QobmV3IERlZXBncmFtQXBpRXJyb3IodGhpcy5fZ2V0RXJyb3JNZXNzYWdlKGVyciksIGVycm9yLnN0YXR1cyB8fCA1MDApKTtcbiAgICAgICAgfSlcbiAgICAgICAgLmNhdGNoKChlcnIpID0+IHtcbiAgICAgICAgICByZWplY3QobmV3IERlZXBncmFtVW5rbm93bkVycm9yKHRoaXMuX2dldEVycm9yTWVzc2FnZShlcnIpLCBlcnIpKTtcbiAgICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJlamVjdChuZXcgRGVlcGdyYW1Vbmtub3duRXJyb3IodGhpcy5fZ2V0RXJyb3JNZXNzYWdlKGVycm9yKSwgZXJyb3IpKTtcbiAgICB9XG4gIH1cblxuICBwcm90ZWN0ZWQgX2dldFJlcXVlc3RQYXJhbXMoXG4gICAgbWV0aG9kOiBSZXF1ZXN0TWV0aG9kVHlwZSxcbiAgICBoZWFkZXJzPzogUmVjb3JkPHN0cmluZywgc3RyaW5nPixcbiAgICBwYXJhbWV0ZXJzPzogRmV0Y2hQYXJhbWV0ZXJzLFxuICAgIGJvZHk/OiBzdHJpbmcgfCBCdWZmZXIgfCBSZWFkYWJsZVxuICApIHtcbiAgICBjb25zdCBwYXJhbXM6IHsgW2s6IHN0cmluZ106IGFueSB9ID0ge1xuICAgICAgLi4udGhpcy5vcHRpb25zPy5mZXRjaCxcbiAgICAgIG1ldGhvZCxcbiAgICAgIGhlYWRlcnM6IHsgLi4udGhpcy5vcHRpb25zPy5mZXRjaD8uaGVhZGVycywgLi4uaGVhZGVycyB9IHx8IHt9LFxuICAgIH07XG5cbiAgICBpZiAobWV0aG9kID09PSBcIkdFVFwiKSB7XG4gICAgICByZXR1cm4gcGFyYW1zO1xuICAgIH1cblxuICAgIHBhcmFtcy5ib2R5ID0gYm9keTtcbiAgICBwYXJhbXMuZHVwbGV4ID0gXCJoYWxmXCI7XG5cbiAgICByZXR1cm4geyAuLi5wYXJhbXMsIC4uLnBhcmFtZXRlcnMgfTtcbiAgfVxuXG4gIHByb3RlY3RlZCBhc3luYyBfaGFuZGxlUmVxdWVzdChcbiAgICBmZXRjaGVyOiBGZXRjaCxcbiAgICBtZXRob2Q6IFJlcXVlc3RNZXRob2RUeXBlLFxuICAgIHVybDogc3RyaW5nIHwgVVJMLFxuICAgIGhlYWRlcnM/OiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+LFxuICAgIHBhcmFtZXRlcnM/OiBGZXRjaFBhcmFtZXRlcnMsXG4gICAgYm9keT86IHN0cmluZyB8IEJ1ZmZlciB8IFJlYWRhYmxlXG4gICk6IFByb21pc2U8YW55PiB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgIGZldGNoZXIodXJsLCB0aGlzLl9nZXRSZXF1ZXN0UGFyYW1zKG1ldGhvZCwgaGVhZGVycywgcGFyYW1ldGVycywgYm9keSkpXG4gICAgICAgIC50aGVuKChyZXN1bHQpID0+IHtcbiAgICAgICAgICBpZiAoIXJlc3VsdC5vaykgdGhyb3cgcmVzdWx0O1xuXG4gICAgICAgICAgcmV0dXJuIHJlc3VsdC5qc29uKCk7XG4gICAgICAgIH0pXG4gICAgICAgIC50aGVuKChkYXRhKSA9PiByZXNvbHZlKGRhdGEpKVxuICAgICAgICAuY2F0Y2goKGVycm9yKSA9PiB0aGlzLmhhbmRsZUVycm9yKGVycm9yLCByZWplY3QpKTtcbiAgICB9KTtcbiAgfVxuXG4gIHByb3RlY3RlZCBhc3luYyBfaGFuZGxlUmF3UmVxdWVzdChcbiAgICBmZXRjaGVyOiBGZXRjaCxcbiAgICBtZXRob2Q6IFJlcXVlc3RNZXRob2RUeXBlLFxuICAgIHVybDogc3RyaW5nIHwgVVJMLFxuICAgIGhlYWRlcnM/OiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+LFxuICAgIHBhcmFtZXRlcnM/OiBGZXRjaFBhcmFtZXRlcnMsXG4gICAgYm9keT86IHN0cmluZyB8IEJ1ZmZlciB8IFJlYWRhYmxlXG4gICk6IFByb21pc2U8YW55PiB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgIGZldGNoZXIodXJsLCB0aGlzLl9nZXRSZXF1ZXN0UGFyYW1zKG1ldGhvZCwgaGVhZGVycywgcGFyYW1ldGVycywgYm9keSkpXG4gICAgICAgIC50aGVuKChyZXN1bHQpID0+IHtcbiAgICAgICAgICBpZiAoIXJlc3VsdC5vaykgdGhyb3cgcmVzdWx0O1xuXG4gICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgfSlcbiAgICAgICAgLnRoZW4oKGRhdGEpID0+IHJlc29sdmUoZGF0YSkpXG4gICAgICAgIC5jYXRjaCgoZXJyb3IpID0+IHRoaXMuaGFuZGxlRXJyb3IoZXJyb3IsIHJlamVjdCkpO1xuICAgIH0pO1xuICB9XG5cbiAgcHJvdGVjdGVkIGFzeW5jIGdldChcbiAgICBmZXRjaGVyOiBGZXRjaCxcbiAgICB1cmw6IHN0cmluZyB8IFVSTCxcbiAgICBoZWFkZXJzPzogUmVjb3JkPHN0cmluZywgc3RyaW5nPixcbiAgICBwYXJhbWV0ZXJzPzogRmV0Y2hQYXJhbWV0ZXJzXG4gICk6IFByb21pc2U8YW55PiB7XG4gICAgcmV0dXJuIHRoaXMuX2hhbmRsZVJlcXVlc3QoZmV0Y2hlciwgXCJHRVRcIiwgdXJsLCBoZWFkZXJzLCBwYXJhbWV0ZXJzKTtcbiAgfVxuXG4gIHByb3RlY3RlZCBhc3luYyBwb3N0KFxuICAgIGZldGNoZXI6IEZldGNoLFxuICAgIHVybDogc3RyaW5nIHwgVVJMLFxuICAgIGJvZHk6IHN0cmluZyB8IEJ1ZmZlciB8IFJlYWRhYmxlLFxuICAgIGhlYWRlcnM/OiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+LFxuICAgIHBhcmFtZXRlcnM/OiBGZXRjaFBhcmFtZXRlcnNcbiAgKTogUHJvbWlzZTxhbnk+IHtcbiAgICByZXR1cm4gdGhpcy5faGFuZGxlUmVxdWVzdChmZXRjaGVyLCBcIlBPU1RcIiwgdXJsLCBoZWFkZXJzLCBwYXJhbWV0ZXJzLCBib2R5KTtcbiAgfVxuXG4gIHByb3RlY3RlZCBhc3luYyBwdXQoXG4gICAgZmV0Y2hlcjogRmV0Y2gsXG4gICAgdXJsOiBzdHJpbmcgfCBVUkwsXG4gICAgYm9keTogc3RyaW5nIHwgQnVmZmVyIHwgUmVhZGFibGUsXG4gICAgaGVhZGVycz86IFJlY29yZDxzdHJpbmcsIHN0cmluZz4sXG4gICAgcGFyYW1ldGVycz86IEZldGNoUGFyYW1ldGVyc1xuICApOiBQcm9taXNlPGFueT4ge1xuICAgIHJldHVybiB0aGlzLl9oYW5kbGVSZXF1ZXN0KGZldGNoZXIsIFwiUFVUXCIsIHVybCwgaGVhZGVycywgcGFyYW1ldGVycywgYm9keSk7XG4gIH1cblxuICBwcm90ZWN0ZWQgYXN5bmMgcGF0Y2goXG4gICAgZmV0Y2hlcjogRmV0Y2gsXG4gICAgdXJsOiBzdHJpbmcgfCBVUkwsXG4gICAgYm9keTogc3RyaW5nIHwgQnVmZmVyIHwgUmVhZGFibGUsXG4gICAgaGVhZGVycz86IFJlY29yZDxzdHJpbmcsIHN0cmluZz4sXG4gICAgcGFyYW1ldGVycz86IEZldGNoUGFyYW1ldGVyc1xuICApOiBQcm9taXNlPGFueT4ge1xuICAgIHJldHVybiB0aGlzLl9oYW5kbGVSZXF1ZXN0KGZldGNoZXIsIFwiUEFUQ0hcIiwgdXJsLCBoZWFkZXJzLCBwYXJhbWV0ZXJzLCBib2R5KTtcbiAgfVxuXG4gIHByb3RlY3RlZCBhc3luYyBkZWxldGUoXG4gICAgZmV0Y2hlcjogRmV0Y2gsXG4gICAgdXJsOiBzdHJpbmcgfCBVUkwsXG4gICAgaGVhZGVycz86IFJlY29yZDxzdHJpbmcsIHN0cmluZz4sXG4gICAgcGFyYW1ldGVycz86IEZldGNoUGFyYW1ldGVyc1xuICApOiBQcm9taXNlPGFueT4ge1xuICAgIHJldHVybiB0aGlzLl9oYW5kbGVSZXF1ZXN0KGZldGNoZXIsIFwiREVMRVRFXCIsIHVybCwgaGVhZGVycywgcGFyYW1ldGVycyk7XG4gIH1cblxuICBwcml2YXRlIF93aWxsUHJveHkoKSB7XG4gICAgY29uc3QgcHJveHlVcmwgPSB0aGlzLm9wdGlvbnMucmVzdFByb3h5Py51cmw7XG5cbiAgICByZXR1cm4gISFwcm94eVVybDtcbiAgfVxufVxuIiwgImltcG9ydCB7IEFic3RyYWN0UmVzdGZ1bENsaWVudCB9IGZyb20gXCIuL0Fic3RyYWN0UmVzdGZ1bENsaWVudFwiO1xuaW1wb3J0IHsgQ2FsbGJhY2tVcmwsIGFwcGVuZFNlYXJjaFBhcmFtcywgaXNGaWxlU291cmNlLCBpc1VybFNvdXJjZSB9IGZyb20gXCIuLi9saWIvaGVscGVyc1wiO1xuaW1wb3J0IHsgRGVlcGdyYW1FcnJvciwgaXNEZWVwZ3JhbUVycm9yIH0gZnJvbSBcIi4uL2xpYi9lcnJvcnNcIjtcbmltcG9ydCB0eXBlIHtcbiAgQXN5bmNQcmVyZWNvcmRlZFJlc3BvbnNlLFxuICBEZWVwZ3JhbVJlc3BvbnNlLFxuICBGZXRjaCxcbiAgRmlsZVNvdXJjZSxcbiAgUHJlcmVjb3JkZWRTY2hlbWEsXG4gIFN5bmNQcmVyZWNvcmRlZFJlc3BvbnNlLFxuICBVcmxTb3VyY2UsXG59IGZyb20gXCIuLi9saWIvdHlwZXNcIjtcblxuZXhwb3J0IGNsYXNzIFByZXJlY29yZGVkQ2xpZW50IGV4dGVuZHMgQWJzdHJhY3RSZXN0ZnVsQ2xpZW50IHtcbiAgYXN5bmMgdHJhbnNjcmliZVVybChcbiAgICBzb3VyY2U6IFVybFNvdXJjZSxcbiAgICBvcHRpb25zPzogUHJlcmVjb3JkZWRTY2hlbWEsXG4gICAgZW5kcG9pbnQgPSBcInYxL2xpc3RlblwiXG4gICk6IFByb21pc2U8RGVlcGdyYW1SZXNwb25zZTxTeW5jUHJlcmVjb3JkZWRSZXNwb25zZT4+IHtcbiAgICB0cnkge1xuICAgICAgbGV0IGJvZHk7XG5cbiAgICAgIGlmIChpc1VybFNvdXJjZShzb3VyY2UpKSB7XG4gICAgICAgIGJvZHkgPSBKU09OLnN0cmluZ2lmeShzb3VyY2UpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhyb3cgbmV3IERlZXBncmFtRXJyb3IoXCJVbmtub3duIHRyYW5zY3JpcHRpb24gc291cmNlIHR5cGVcIik7XG4gICAgICB9XG5cbiAgICAgIGlmIChvcHRpb25zICE9PSB1bmRlZmluZWQgJiYgXCJjYWxsYmFja1wiIGluIG9wdGlvbnMpIHtcbiAgICAgICAgdGhyb3cgbmV3IERlZXBncmFtRXJyb3IoXG4gICAgICAgICAgXCJDYWxsYmFjayBjYW5ub3QgYmUgcHJvdmlkZWQgYXMgYW4gb3B0aW9uIHRvIGEgc3luY2hyb25vdXMgdHJhbnNjcmlwdGlvbi4gVXNlIGB0cmFuc2NyaWJlVXJsQ2FsbGJhY2tgIG9yIGB0cmFuc2NyaWJlRmlsZUNhbGxiYWNrYCBpbnN0ZWFkLlwiXG4gICAgICAgICk7XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IHRyYW5zY3JpcHRpb25PcHRpb25zOiBQcmVyZWNvcmRlZFNjaGVtYSA9IHsgLi4ue30sIC4uLm9wdGlvbnMgfTtcblxuICAgICAgY29uc3QgdXJsID0gbmV3IFVSTChlbmRwb2ludCwgdGhpcy5iYXNlVXJsKTtcbiAgICAgIGFwcGVuZFNlYXJjaFBhcmFtcyh1cmwuc2VhcmNoUGFyYW1zLCB0cmFuc2NyaXB0aW9uT3B0aW9ucyk7XG5cbiAgICAgIGNvbnN0IHJlc3VsdDogU3luY1ByZXJlY29yZGVkUmVzcG9uc2UgPSBhd2FpdCB0aGlzLnBvc3QodGhpcy5mZXRjaCBhcyBGZXRjaCwgdXJsLCBib2R5KTtcblxuICAgICAgcmV0dXJuIHsgcmVzdWx0LCBlcnJvcjogbnVsbCB9O1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBpZiAoaXNEZWVwZ3JhbUVycm9yKGVycm9yKSkge1xuICAgICAgICByZXR1cm4geyByZXN1bHQ6IG51bGwsIGVycm9yIH07XG4gICAgICB9XG5cbiAgICAgIHRocm93IGVycm9yO1xuICAgIH1cbiAgfVxuXG4gIGFzeW5jIHRyYW5zY3JpYmVGaWxlKFxuICAgIHNvdXJjZTogRmlsZVNvdXJjZSxcbiAgICBvcHRpb25zPzogUHJlcmVjb3JkZWRTY2hlbWEsXG4gICAgZW5kcG9pbnQgPSBcInYxL2xpc3RlblwiXG4gICk6IFByb21pc2U8RGVlcGdyYW1SZXNwb25zZTxTeW5jUHJlcmVjb3JkZWRSZXNwb25zZT4+IHtcbiAgICB0cnkge1xuICAgICAgbGV0IGJvZHk7XG5cbiAgICAgIGlmIChpc0ZpbGVTb3VyY2Uoc291cmNlKSkge1xuICAgICAgICBib2R5ID0gc291cmNlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhyb3cgbmV3IERlZXBncmFtRXJyb3IoXCJVbmtub3duIHRyYW5zY3JpcHRpb24gc291cmNlIHR5cGVcIik7XG4gICAgICB9XG5cbiAgICAgIGlmIChvcHRpb25zICE9PSB1bmRlZmluZWQgJiYgXCJjYWxsYmFja1wiIGluIG9wdGlvbnMpIHtcbiAgICAgICAgdGhyb3cgbmV3IERlZXBncmFtRXJyb3IoXG4gICAgICAgICAgXCJDYWxsYmFjayBjYW5ub3QgYmUgcHJvdmlkZWQgYXMgYW4gb3B0aW9uIHRvIGEgc3luY2hyb25vdXMgdHJhbnNjcmlwdGlvbi4gVXNlIGB0cmFuc2NyaWJlVXJsQ2FsbGJhY2tgIG9yIGB0cmFuc2NyaWJlRmlsZUNhbGxiYWNrYCBpbnN0ZWFkLlwiXG4gICAgICAgICk7XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IHRyYW5zY3JpcHRpb25PcHRpb25zOiBQcmVyZWNvcmRlZFNjaGVtYSA9IHsgLi4ue30sIC4uLm9wdGlvbnMgfTtcblxuICAgICAgY29uc3QgdXJsID0gbmV3IFVSTChlbmRwb2ludCwgdGhpcy5iYXNlVXJsKTtcbiAgICAgIGFwcGVuZFNlYXJjaFBhcmFtcyh1cmwuc2VhcmNoUGFyYW1zLCB0cmFuc2NyaXB0aW9uT3B0aW9ucyk7XG5cbiAgICAgIGNvbnN0IHJlc3VsdDogU3luY1ByZXJlY29yZGVkUmVzcG9uc2UgPSBhd2FpdCB0aGlzLnBvc3QodGhpcy5mZXRjaCBhcyBGZXRjaCwgdXJsLCBib2R5LCB7XG4gICAgICAgIFwiQ29udGVudC1UeXBlXCI6IFwiZGVlcGdyYW0vYXVkaW8rdmlkZW9cIixcbiAgICAgIH0pO1xuXG4gICAgICByZXR1cm4geyByZXN1bHQsIGVycm9yOiBudWxsIH07XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGlmIChpc0RlZXBncmFtRXJyb3IoZXJyb3IpKSB7XG4gICAgICAgIHJldHVybiB7IHJlc3VsdDogbnVsbCwgZXJyb3IgfTtcbiAgICAgIH1cblxuICAgICAgdGhyb3cgZXJyb3I7XG4gICAgfVxuICB9XG5cbiAgYXN5bmMgdHJhbnNjcmliZVVybENhbGxiYWNrKFxuICAgIHNvdXJjZTogVXJsU291cmNlLFxuICAgIGNhbGxiYWNrOiBDYWxsYmFja1VybCxcbiAgICBvcHRpb25zPzogUHJlcmVjb3JkZWRTY2hlbWEsXG4gICAgZW5kcG9pbnQgPSBcInYxL2xpc3RlblwiXG4gICk6IFByb21pc2U8RGVlcGdyYW1SZXNwb25zZTxBc3luY1ByZXJlY29yZGVkUmVzcG9uc2U+PiB7XG4gICAgdHJ5IHtcbiAgICAgIGxldCBib2R5O1xuXG4gICAgICBpZiAoaXNVcmxTb3VyY2Uoc291cmNlKSkge1xuICAgICAgICBib2R5ID0gSlNPTi5zdHJpbmdpZnkoc291cmNlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRocm93IG5ldyBEZWVwZ3JhbUVycm9yKFwiVW5rbm93biB0cmFuc2NyaXB0aW9uIHNvdXJjZSB0eXBlXCIpO1xuICAgICAgfVxuXG4gICAgICBjb25zdCB0cmFuc2NyaXB0aW9uT3B0aW9uczogUHJlcmVjb3JkZWRTY2hlbWEgPSB7XG4gICAgICAgIC4uLm9wdGlvbnMsXG4gICAgICAgIC4uLnsgY2FsbGJhY2s6IGNhbGxiYWNrLnRvU3RyaW5nKCkgfSxcbiAgICAgIH07XG5cbiAgICAgIGNvbnN0IHVybCA9IG5ldyBVUkwoZW5kcG9pbnQsIHRoaXMuYmFzZVVybCk7XG4gICAgICBhcHBlbmRTZWFyY2hQYXJhbXModXJsLnNlYXJjaFBhcmFtcywgdHJhbnNjcmlwdGlvbk9wdGlvbnMpO1xuXG4gICAgICBjb25zdCByZXN1bHQ6IEFzeW5jUHJlcmVjb3JkZWRSZXNwb25zZSA9IGF3YWl0IHRoaXMucG9zdCh0aGlzLmZldGNoIGFzIEZldGNoLCB1cmwsIGJvZHkpO1xuXG4gICAgICByZXR1cm4geyByZXN1bHQsIGVycm9yOiBudWxsIH07XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGlmIChpc0RlZXBncmFtRXJyb3IoZXJyb3IpKSB7XG4gICAgICAgIHJldHVybiB7IHJlc3VsdDogbnVsbCwgZXJyb3IgfTtcbiAgICAgIH1cblxuICAgICAgdGhyb3cgZXJyb3I7XG4gICAgfVxuICB9XG5cbiAgYXN5bmMgdHJhbnNjcmliZUZpbGVDYWxsYmFjayhcbiAgICBzb3VyY2U6IEZpbGVTb3VyY2UsXG4gICAgY2FsbGJhY2s6IENhbGxiYWNrVXJsLFxuICAgIG9wdGlvbnM/OiBQcmVyZWNvcmRlZFNjaGVtYSxcbiAgICBlbmRwb2ludCA9IFwidjEvbGlzdGVuXCJcbiAgKTogUHJvbWlzZTxEZWVwZ3JhbVJlc3BvbnNlPEFzeW5jUHJlcmVjb3JkZWRSZXNwb25zZT4+IHtcbiAgICB0cnkge1xuICAgICAgbGV0IGJvZHk7XG5cbiAgICAgIGlmIChpc0ZpbGVTb3VyY2Uoc291cmNlKSkge1xuICAgICAgICBib2R5ID0gc291cmNlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhyb3cgbmV3IERlZXBncmFtRXJyb3IoXCJVbmtub3duIHRyYW5zY3JpcHRpb24gc291cmNlIHR5cGVcIik7XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IHRyYW5zY3JpcHRpb25PcHRpb25zOiBQcmVyZWNvcmRlZFNjaGVtYSA9IHtcbiAgICAgICAgLi4ub3B0aW9ucyxcbiAgICAgICAgLi4ueyBjYWxsYmFjazogY2FsbGJhY2sudG9TdHJpbmcoKSB9LFxuICAgICAgfTtcblxuICAgICAgY29uc3QgdXJsID0gbmV3IFVSTChlbmRwb2ludCwgdGhpcy5iYXNlVXJsKTtcbiAgICAgIGFwcGVuZFNlYXJjaFBhcmFtcyh1cmwuc2VhcmNoUGFyYW1zLCB0cmFuc2NyaXB0aW9uT3B0aW9ucyk7XG5cbiAgICAgIGNvbnN0IHJlc3VsdDogQXN5bmNQcmVyZWNvcmRlZFJlc3BvbnNlID0gYXdhaXQgdGhpcy5wb3N0KHRoaXMuZmV0Y2ggYXMgRmV0Y2gsIHVybCwgYm9keSwge1xuICAgICAgICBcIkNvbnRlbnQtVHlwZVwiOiBcImRlZXBncmFtL2F1ZGlvK3ZpZGVvXCIsXG4gICAgICB9KTtcblxuICAgICAgcmV0dXJuIHsgcmVzdWx0LCBlcnJvcjogbnVsbCB9O1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBpZiAoaXNEZWVwZ3JhbUVycm9yKGVycm9yKSkge1xuICAgICAgICByZXR1cm4geyByZXN1bHQ6IG51bGwsIGVycm9yIH07XG4gICAgICB9XG5cbiAgICAgIHRocm93IGVycm9yO1xuICAgIH1cbiAgfVxufVxuIiwgImltcG9ydCB7IEFic3RyYWN0Q2xpZW50IH0gZnJvbSBcIi4vQWJzdHJhY3RDbGllbnRcIjtcbmltcG9ydCB7IExpdmVDbGllbnQgfSBmcm9tIFwiLi9MaXZlQ2xpZW50XCI7XG5pbXBvcnQgeyBMaXZlU2NoZW1hIH0gZnJvbSBcIi4uL2xpYi90eXBlc1wiO1xuaW1wb3J0IHsgUHJlcmVjb3JkZWRDbGllbnQgfSBmcm9tIFwiLi9QcmVyZWNvcmRlZENsaWVudFwiO1xuXG5leHBvcnQgY2xhc3MgTGlzdGVuQ2xpZW50IGV4dGVuZHMgQWJzdHJhY3RDbGllbnQge1xuICBnZXQgcHJlcmVjb3JkZWQoKSB7XG4gICAgcmV0dXJuIG5ldyBQcmVyZWNvcmRlZENsaWVudCh0aGlzLmtleSwgdGhpcy5vcHRpb25zKTtcbiAgfVxuXG4gIHB1YmxpYyBsaXZlKHRyYW5zY3JpcHRpb25PcHRpb25zOiBMaXZlU2NoZW1hLCBlbmRwb2ludCA9IFwidjEvbGlzdGVuXCIpIHtcbiAgICByZXR1cm4gbmV3IExpdmVDbGllbnQodGhpcy5rZXksIHRoaXMub3B0aW9ucywgdHJhbnNjcmlwdGlvbk9wdGlvbnMsIGVuZHBvaW50KTtcbiAgfVxufVxuIiwgImltcG9ydCB7IEFic3RyYWN0UmVzdGZ1bENsaWVudCB9IGZyb20gXCIuL0Fic3RyYWN0UmVzdGZ1bENsaWVudFwiO1xuaW1wb3J0IHsgaXNEZWVwZ3JhbUVycm9yIH0gZnJvbSBcIi4uL2xpYi9lcnJvcnNcIjtcbmltcG9ydCB7IGFwcGVuZFNlYXJjaFBhcmFtcyB9IGZyb20gXCIuLi9saWIvaGVscGVyc1wiO1xuaW1wb3J0IHR5cGUge1xuICBDcmVhdGVQcm9qZWN0S2V5U2NoZW1hLFxuICBDcmVhdGVQcm9qZWN0S2V5UmVzcG9uc2UsXG4gIERlZXBncmFtUmVzcG9uc2UsXG4gIEZldGNoLFxuICBHZXRQcm9qZWN0QmFsYW5jZVJlc3BvbnNlLFxuICBHZXRQcm9qZWN0QmFsYW5jZXNSZXNwb25zZSxcbiAgR2V0UHJvamVjdEludml0ZXNSZXNwb25zZSxcbiAgR2V0UHJvamVjdEtleVJlc3BvbnNlLFxuICBHZXRQcm9qZWN0S2V5c1Jlc3BvbnNlLFxuICBHZXRQcm9qZWN0TWVtYmVyU2NvcGVzUmVzcG9uc2UsXG4gIEdldFByb2plY3RNZW1iZXJzUmVzcG9uc2UsXG4gIEdldFByb2plY3RSZXNwb25zZSxcbiAgR2V0UHJvamVjdHNSZXNwb25zZSxcbiAgR2V0UHJvamVjdFVzYWdlRmllbGRzU2NoZW1hLFxuICBHZXRQcm9qZWN0VXNhZ2VGaWVsZHNSZXNwb25zZSxcbiAgR2V0UHJvamVjdFVzYWdlUmVxdWVzdFJlc3BvbnNlLFxuICBHZXRQcm9qZWN0VXNhZ2VSZXF1ZXN0c1NjaGVtYSxcbiAgR2V0UHJvamVjdFVzYWdlUmVxdWVzdHNSZXNwb25zZSxcbiAgR2V0UHJvamVjdFVzYWdlU3VtbWFyeVNjaGVtYSxcbiAgR2V0UHJvamVjdFVzYWdlU3VtbWFyeVJlc3BvbnNlLFxuICBNZXNzYWdlUmVzcG9uc2UsXG4gIFNlbmRQcm9qZWN0SW52aXRlU2NoZW1hLFxuICBVcGRhdGVQcm9qZWN0TWVtYmVyU2NvcGVTY2hlbWEsXG4gIFVwZGF0ZVByb2plY3RTY2hlbWEsXG4gIFZvaWRSZXNwb25zZSxcbiAgR2V0VG9rZW5EZXRhaWxzUmVzcG9uc2UsXG59IGZyb20gXCIuLi9saWIvdHlwZXNcIjtcblxuZXhwb3J0IGNsYXNzIE1hbmFnZUNsaWVudCBleHRlbmRzIEFic3RyYWN0UmVzdGZ1bENsaWVudCB7XG4gIC8qKlxuICAgKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVycy5kZWVwZ3JhbS5jb20vZG9jcy9hdXRoZW50aWNhdGluZyN0ZXN0LXJlcXVlc3RcbiAgICovXG4gIGFzeW5jIGdldFRva2VuRGV0YWlscyhcbiAgICBlbmRwb2ludCA9IFwidjEvYXV0aC90b2tlblwiXG4gICk6IFByb21pc2U8RGVlcGdyYW1SZXNwb25zZTxHZXRUb2tlbkRldGFpbHNSZXNwb25zZT4+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgdXJsID0gbmV3IFVSTCh0aGlzLmJhc2VVcmwpO1xuICAgICAgdXJsLnBhdGhuYW1lID0gZW5kcG9pbnQ7XG5cbiAgICAgIGNvbnN0IHJlc3VsdDogR2V0VG9rZW5EZXRhaWxzUmVzcG9uc2UgPSBhd2FpdCB0aGlzLmdldCh0aGlzLmZldGNoIGFzIEZldGNoLCB1cmwpO1xuXG4gICAgICByZXR1cm4geyByZXN1bHQsIGVycm9yOiBudWxsIH07XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGlmIChpc0RlZXBncmFtRXJyb3IoZXJyb3IpKSB7XG4gICAgICAgIHJldHVybiB7IHJlc3VsdDogbnVsbCwgZXJyb3IgfTtcbiAgICAgIH1cblxuICAgICAgdGhyb3cgZXJyb3I7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXJzLmRlZXBncmFtLmNvbS9yZWZlcmVuY2UvZ2V0LXByb2plY3RzXG4gICAqL1xuICBhc3luYyBnZXRQcm9qZWN0cyhlbmRwb2ludCA9IFwidjEvcHJvamVjdHNcIik6IFByb21pc2U8RGVlcGdyYW1SZXNwb25zZTxHZXRQcm9qZWN0c1Jlc3BvbnNlPj4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCB1cmwgPSBuZXcgVVJMKHRoaXMuYmFzZVVybCk7XG4gICAgICB1cmwucGF0aG5hbWUgPSBlbmRwb2ludDtcblxuICAgICAgY29uc3QgcmVzdWx0OiBHZXRQcm9qZWN0c1Jlc3BvbnNlID0gYXdhaXQgdGhpcy5nZXQodGhpcy5mZXRjaCBhcyBGZXRjaCwgdXJsKTtcblxuICAgICAgcmV0dXJuIHsgcmVzdWx0LCBlcnJvcjogbnVsbCB9O1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBpZiAoaXNEZWVwZ3JhbUVycm9yKGVycm9yKSkge1xuICAgICAgICByZXR1cm4geyByZXN1bHQ6IG51bGwsIGVycm9yIH07XG4gICAgICB9XG5cbiAgICAgIHRocm93IGVycm9yO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVycy5kZWVwZ3JhbS5jb20vcmVmZXJlbmNlL2dldC1wcm9qZWN0XG4gICAqL1xuICBhc3luYyBnZXRQcm9qZWN0KFxuICAgIHByb2plY3RJZDogc3RyaW5nLFxuICAgIGVuZHBvaW50ID0gXCJ2MS9wcm9qZWN0cy86cHJvamVjdElkXCJcbiAgKTogUHJvbWlzZTxEZWVwZ3JhbVJlc3BvbnNlPEdldFByb2plY3RSZXNwb25zZT4+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgdXJsID0gbmV3IFVSTCh0aGlzLmJhc2VVcmwpO1xuICAgICAgdXJsLnBhdGhuYW1lID0gZW5kcG9pbnQucmVwbGFjZSgvOnByb2plY3RJZC8sIHByb2plY3RJZCk7XG5cbiAgICAgIGNvbnN0IHJlc3VsdDogR2V0UHJvamVjdFJlc3BvbnNlID0gYXdhaXQgdGhpcy5nZXQodGhpcy5mZXRjaCBhcyBGZXRjaCwgdXJsKTtcblxuICAgICAgcmV0dXJuIHsgcmVzdWx0LCBlcnJvcjogbnVsbCB9O1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBpZiAoaXNEZWVwZ3JhbUVycm9yKGVycm9yKSkge1xuICAgICAgICByZXR1cm4geyByZXN1bHQ6IG51bGwsIGVycm9yIH07XG4gICAgICB9XG5cbiAgICAgIHRocm93IGVycm9yO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVycy5kZWVwZ3JhbS5jb20vcmVmZXJlbmNlL3VwZGF0ZS1wcm9qZWN0XG4gICAqL1xuICBhc3luYyB1cGRhdGVQcm9qZWN0KFxuICAgIHByb2plY3RJZDogc3RyaW5nLFxuICAgIG9wdGlvbnM6IFVwZGF0ZVByb2plY3RTY2hlbWEsXG4gICAgZW5kcG9pbnQgPSBcInYxL3Byb2plY3RzLzpwcm9qZWN0SWRcIlxuICApOiBQcm9taXNlPERlZXBncmFtUmVzcG9uc2U8TWVzc2FnZVJlc3BvbnNlPj4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCB1cmwgPSBuZXcgVVJMKHRoaXMuYmFzZVVybCk7XG4gICAgICB1cmwucGF0aG5hbWUgPSBlbmRwb2ludC5yZXBsYWNlKC86cHJvamVjdElkLywgcHJvamVjdElkKTtcblxuICAgICAgY29uc3QgYm9keSA9IEpTT04uc3RyaW5naWZ5KG9wdGlvbnMpO1xuXG4gICAgICBjb25zdCByZXN1bHQ6IE1lc3NhZ2VSZXNwb25zZSA9IGF3YWl0IHRoaXMucGF0Y2godGhpcy5mZXRjaCBhcyBGZXRjaCwgdXJsLCBib2R5KTtcblxuICAgICAgcmV0dXJuIHsgcmVzdWx0LCBlcnJvcjogbnVsbCB9O1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBpZiAoaXNEZWVwZ3JhbUVycm9yKGVycm9yKSkge1xuICAgICAgICByZXR1cm4geyByZXN1bHQ6IG51bGwsIGVycm9yIH07XG4gICAgICB9XG5cbiAgICAgIHRocm93IGVycm9yO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVycy5kZWVwZ3JhbS5jb20vcmVmZXJlbmNlL2RlbGV0ZS1wcm9qZWN0XG4gICAqL1xuICBhc3luYyBkZWxldGVQcm9qZWN0KFxuICAgIHByb2plY3RJZDogc3RyaW5nLFxuICAgIGVuZHBvaW50ID0gXCJ2MS9wcm9qZWN0cy86cHJvamVjdElkXCJcbiAgKTogUHJvbWlzZTxWb2lkUmVzcG9uc2U+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgdXJsID0gbmV3IFVSTCh0aGlzLmJhc2VVcmwpO1xuICAgICAgdXJsLnBhdGhuYW1lID0gZW5kcG9pbnQucmVwbGFjZSgvOnByb2plY3RJZC8sIHByb2plY3RJZCk7XG5cbiAgICAgIGF3YWl0IHRoaXMuZGVsZXRlKHRoaXMuZmV0Y2ggYXMgRmV0Y2gsIHVybCk7XG5cbiAgICAgIHJldHVybiB7IGVycm9yOiBudWxsIH07XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGlmIChpc0RlZXBncmFtRXJyb3IoZXJyb3IpKSB7XG4gICAgICAgIHJldHVybiB7IGVycm9yIH07XG4gICAgICB9XG5cbiAgICAgIHRocm93IGVycm9yO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVycy5kZWVwZ3JhbS5jb20vcmVmZXJlbmNlL2xpc3Qta2V5c1xuICAgKi9cbiAgYXN5bmMgZ2V0UHJvamVjdEtleXMoXG4gICAgcHJvamVjdElkOiBzdHJpbmcsXG4gICAgZW5kcG9pbnQgPSBcInYxL3Byb2plY3RzLzpwcm9qZWN0SWQva2V5c1wiXG4gICk6IFByb21pc2U8RGVlcGdyYW1SZXNwb25zZTxHZXRQcm9qZWN0S2V5c1Jlc3BvbnNlPj4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCB1cmwgPSBuZXcgVVJMKHRoaXMuYmFzZVVybCk7XG4gICAgICB1cmwucGF0aG5hbWUgPSBlbmRwb2ludC5yZXBsYWNlKC86cHJvamVjdElkLywgcHJvamVjdElkKTtcblxuICAgICAgY29uc3QgcmVzdWx0OiBHZXRQcm9qZWN0S2V5c1Jlc3BvbnNlID0gYXdhaXQgdGhpcy5nZXQodGhpcy5mZXRjaCBhcyBGZXRjaCwgdXJsKTtcblxuICAgICAgcmV0dXJuIHsgcmVzdWx0LCBlcnJvcjogbnVsbCB9O1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBpZiAoaXNEZWVwZ3JhbUVycm9yKGVycm9yKSkge1xuICAgICAgICByZXR1cm4geyByZXN1bHQ6IG51bGwsIGVycm9yIH07XG4gICAgICB9XG5cbiAgICAgIHRocm93IGVycm9yO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVycy5kZWVwZ3JhbS5jb20vcmVmZXJlbmNlL2dldC1rZXlcbiAgICovXG4gIGFzeW5jIGdldFByb2plY3RLZXkoXG4gICAgcHJvamVjdElkOiBzdHJpbmcsXG4gICAga2V5SWQ6IHN0cmluZyxcbiAgICBlbmRwb2ludCA9IFwidjEvcHJvamVjdHMvOnByb2plY3RJZC9rZXlzLzprZXlJZFwiXG4gICk6IFByb21pc2U8RGVlcGdyYW1SZXNwb25zZTxHZXRQcm9qZWN0S2V5UmVzcG9uc2U+PiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHVybCA9IG5ldyBVUkwodGhpcy5iYXNlVXJsKTtcbiAgICAgIHVybC5wYXRobmFtZSA9IGVuZHBvaW50LnJlcGxhY2UoLzpwcm9qZWN0SWQvLCBwcm9qZWN0SWQpLnJlcGxhY2UoLzprZXlJZC8sIGtleUlkKTtcblxuICAgICAgY29uc3QgcmVzdWx0OiBHZXRQcm9qZWN0S2V5UmVzcG9uc2UgPSBhd2FpdCB0aGlzLmdldCh0aGlzLmZldGNoIGFzIEZldGNoLCB1cmwpO1xuXG4gICAgICByZXR1cm4geyByZXN1bHQsIGVycm9yOiBudWxsIH07XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGlmIChpc0RlZXBncmFtRXJyb3IoZXJyb3IpKSB7XG4gICAgICAgIHJldHVybiB7IHJlc3VsdDogbnVsbCwgZXJyb3IgfTtcbiAgICAgIH1cblxuICAgICAgdGhyb3cgZXJyb3I7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXJzLmRlZXBncmFtLmNvbS9yZWZlcmVuY2UvY3JlYXRlLWtleVxuICAgKi9cbiAgYXN5bmMgY3JlYXRlUHJvamVjdEtleShcbiAgICBwcm9qZWN0SWQ6IHN0cmluZyxcbiAgICBvcHRpb25zOiBDcmVhdGVQcm9qZWN0S2V5U2NoZW1hLFxuICAgIGVuZHBvaW50ID0gXCJ2MS9wcm9qZWN0cy86cHJvamVjdElkL2tleXNcIlxuICApOiBQcm9taXNlPERlZXBncmFtUmVzcG9uc2U8Q3JlYXRlUHJvamVjdEtleVJlc3BvbnNlPj4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCB1cmwgPSBuZXcgVVJMKHRoaXMuYmFzZVVybCk7XG4gICAgICB1cmwucGF0aG5hbWUgPSBlbmRwb2ludC5yZXBsYWNlKC86cHJvamVjdElkLywgcHJvamVjdElkKTtcblxuICAgICAgY29uc3QgYm9keSA9IEpTT04uc3RyaW5naWZ5KG9wdGlvbnMpO1xuXG4gICAgICBjb25zdCByZXN1bHQ6IENyZWF0ZVByb2plY3RLZXlSZXNwb25zZSA9IGF3YWl0IHRoaXMucG9zdCh0aGlzLmZldGNoIGFzIEZldGNoLCB1cmwsIGJvZHkpO1xuXG4gICAgICByZXR1cm4geyByZXN1bHQsIGVycm9yOiBudWxsIH07XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGlmIChpc0RlZXBncmFtRXJyb3IoZXJyb3IpKSB7XG4gICAgICAgIHJldHVybiB7IHJlc3VsdDogbnVsbCwgZXJyb3IgfTtcbiAgICAgIH1cblxuICAgICAgdGhyb3cgZXJyb3I7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXJzLmRlZXBncmFtLmNvbS9yZWZlcmVuY2UvZGVsZXRlLWtleVxuICAgKi9cbiAgYXN5bmMgZGVsZXRlUHJvamVjdEtleShcbiAgICBwcm9qZWN0SWQ6IHN0cmluZyxcbiAgICBrZXlJZDogc3RyaW5nLFxuICAgIGVuZHBvaW50ID0gXCJ2MS9wcm9qZWN0cy86cHJvamVjdElkL2tleXMvOmtleUlkXCJcbiAgKTogUHJvbWlzZTxWb2lkUmVzcG9uc2U+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgdXJsID0gbmV3IFVSTCh0aGlzLmJhc2VVcmwpO1xuICAgICAgdXJsLnBhdGhuYW1lID0gZW5kcG9pbnQucmVwbGFjZSgvOnByb2plY3RJZC8sIHByb2plY3RJZCkucmVwbGFjZSgvOmtleUlkLywga2V5SWQpO1xuXG4gICAgICBhd2FpdCB0aGlzLmRlbGV0ZSh0aGlzLmZldGNoIGFzIEZldGNoLCB1cmwpO1xuXG4gICAgICByZXR1cm4geyBlcnJvcjogbnVsbCB9O1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBpZiAoaXNEZWVwZ3JhbUVycm9yKGVycm9yKSkge1xuICAgICAgICByZXR1cm4geyBlcnJvciB9O1xuICAgICAgfVxuXG4gICAgICB0aHJvdyBlcnJvcjtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQHNlZSBodHRwczovL2RldmVsb3BlcnMuZGVlcGdyYW0uY29tL3JlZmVyZW5jZS9nZXQtbWVtYmVyc1xuICAgKi9cbiAgYXN5bmMgZ2V0UHJvamVjdE1lbWJlcnMoXG4gICAgcHJvamVjdElkOiBzdHJpbmcsXG4gICAgZW5kcG9pbnQgPSBcInYxL3Byb2plY3RzLzpwcm9qZWN0SWQvbWVtYmVyc1wiXG4gICk6IFByb21pc2U8RGVlcGdyYW1SZXNwb25zZTxHZXRQcm9qZWN0TWVtYmVyc1Jlc3BvbnNlPj4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCB1cmwgPSBuZXcgVVJMKHRoaXMuYmFzZVVybCk7XG4gICAgICB1cmwucGF0aG5hbWUgPSBlbmRwb2ludC5yZXBsYWNlKC86cHJvamVjdElkLywgcHJvamVjdElkKTtcblxuICAgICAgY29uc3QgcmVzdWx0OiBHZXRQcm9qZWN0TWVtYmVyc1Jlc3BvbnNlID0gYXdhaXQgdGhpcy5nZXQodGhpcy5mZXRjaCBhcyBGZXRjaCwgdXJsKTtcblxuICAgICAgcmV0dXJuIHsgcmVzdWx0LCBlcnJvcjogbnVsbCB9O1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBpZiAoaXNEZWVwZ3JhbUVycm9yKGVycm9yKSkge1xuICAgICAgICByZXR1cm4geyByZXN1bHQ6IG51bGwsIGVycm9yIH07XG4gICAgICB9XG5cbiAgICAgIHRocm93IGVycm9yO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVycy5kZWVwZ3JhbS5jb20vcmVmZXJlbmNlL3JlbW92ZS1tZW1iZXJcbiAgICovXG4gIGFzeW5jIHJlbW92ZVByb2plY3RNZW1iZXIoXG4gICAgcHJvamVjdElkOiBzdHJpbmcsXG4gICAgbWVtYmVySWQ6IHN0cmluZyxcbiAgICBlbmRwb2ludCA9IFwidjEvcHJvamVjdHMvOnByb2plY3RJZC9tZW1iZXJzLzptZW1iZXJJZFwiXG4gICk6IFByb21pc2U8Vm9pZFJlc3BvbnNlPiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHVybCA9IG5ldyBVUkwodGhpcy5iYXNlVXJsKTtcbiAgICAgIHVybC5wYXRobmFtZSA9IGVuZHBvaW50LnJlcGxhY2UoLzpwcm9qZWN0SWQvLCBwcm9qZWN0SWQpLnJlcGxhY2UoLzptZW1iZXJJZC8sIG1lbWJlcklkKTtcblxuICAgICAgYXdhaXQgdGhpcy5kZWxldGUodGhpcy5mZXRjaCBhcyBGZXRjaCwgdXJsKTtcblxuICAgICAgcmV0dXJuIHsgZXJyb3I6IG51bGwgfTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgaWYgKGlzRGVlcGdyYW1FcnJvcihlcnJvcikpIHtcbiAgICAgICAgcmV0dXJuIHsgZXJyb3IgfTtcbiAgICAgIH1cblxuICAgICAgdGhyb3cgZXJyb3I7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXJzLmRlZXBncmFtLmNvbS9yZWZlcmVuY2UvZ2V0LW1lbWJlci1zY29wZXNcbiAgICovXG4gIGFzeW5jIGdldFByb2plY3RNZW1iZXJTY29wZXMoXG4gICAgcHJvamVjdElkOiBzdHJpbmcsXG4gICAgbWVtYmVySWQ6IHN0cmluZyxcbiAgICBlbmRwb2ludCA9IFwidjEvcHJvamVjdHMvOnByb2plY3RJZC9tZW1iZXJzLzptZW1iZXJJZC9zY29wZXNcIlxuICApOiBQcm9taXNlPERlZXBncmFtUmVzcG9uc2U8R2V0UHJvamVjdE1lbWJlclNjb3Blc1Jlc3BvbnNlPj4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCB1cmwgPSBuZXcgVVJMKHRoaXMuYmFzZVVybCk7XG4gICAgICB1cmwucGF0aG5hbWUgPSBlbmRwb2ludC5yZXBsYWNlKC86cHJvamVjdElkLywgcHJvamVjdElkKS5yZXBsYWNlKC86bWVtYmVySWQvLCBtZW1iZXJJZCk7XG5cbiAgICAgIGNvbnN0IHJlc3VsdDogR2V0UHJvamVjdE1lbWJlclNjb3Blc1Jlc3BvbnNlID0gYXdhaXQgdGhpcy5nZXQodGhpcy5mZXRjaCBhcyBGZXRjaCwgdXJsKTtcblxuICAgICAgcmV0dXJuIHsgcmVzdWx0LCBlcnJvcjogbnVsbCB9O1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBpZiAoaXNEZWVwZ3JhbUVycm9yKGVycm9yKSkge1xuICAgICAgICByZXR1cm4geyByZXN1bHQ6IG51bGwsIGVycm9yIH07XG4gICAgICB9XG5cbiAgICAgIHRocm93IGVycm9yO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVycy5kZWVwZ3JhbS5jb20vcmVmZXJlbmNlL3VwZGF0ZS1zY29wZVxuICAgKi9cbiAgYXN5bmMgdXBkYXRlUHJvamVjdE1lbWJlclNjb3BlKFxuICAgIHByb2plY3RJZDogc3RyaW5nLFxuICAgIG1lbWJlcklkOiBzdHJpbmcsXG4gICAgb3B0aW9uczogVXBkYXRlUHJvamVjdE1lbWJlclNjb3BlU2NoZW1hLFxuICAgIGVuZHBvaW50ID0gXCJ2MS9wcm9qZWN0cy86cHJvamVjdElkL21lbWJlcnMvOm1lbWJlcklkL3Njb3Blc1wiXG4gICk6IFByb21pc2U8RGVlcGdyYW1SZXNwb25zZTxNZXNzYWdlUmVzcG9uc2U+PiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHVybCA9IG5ldyBVUkwodGhpcy5iYXNlVXJsKTtcbiAgICAgIHVybC5wYXRobmFtZSA9IGVuZHBvaW50LnJlcGxhY2UoLzpwcm9qZWN0SWQvLCBwcm9qZWN0SWQpLnJlcGxhY2UoLzptZW1iZXJJZC8sIG1lbWJlcklkKTtcblxuICAgICAgY29uc3QgYm9keSA9IEpTT04uc3RyaW5naWZ5KG9wdGlvbnMpO1xuXG4gICAgICBjb25zdCByZXN1bHQ6IE1lc3NhZ2VSZXNwb25zZSA9IGF3YWl0IHRoaXMucHV0KHRoaXMuZmV0Y2ggYXMgRmV0Y2gsIHVybCwgYm9keSk7XG5cbiAgICAgIHJldHVybiB7IHJlc3VsdCwgZXJyb3I6IG51bGwgfTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgaWYgKGlzRGVlcGdyYW1FcnJvcihlcnJvcikpIHtcbiAgICAgICAgcmV0dXJuIHsgcmVzdWx0OiBudWxsLCBlcnJvciB9O1xuICAgICAgfVxuXG4gICAgICB0aHJvdyBlcnJvcjtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQHNlZSBodHRwczovL2RldmVsb3BlcnMuZGVlcGdyYW0uY29tL3JlZmVyZW5jZS9saXN0LWludml0ZXNcbiAgICovXG4gIGFzeW5jIGdldFByb2plY3RJbnZpdGVzKFxuICAgIHByb2plY3RJZDogc3RyaW5nLFxuICAgIGVuZHBvaW50ID0gXCJ2MS9wcm9qZWN0cy86cHJvamVjdElkL2ludml0ZXNcIlxuICApOiBQcm9taXNlPERlZXBncmFtUmVzcG9uc2U8R2V0UHJvamVjdEludml0ZXNSZXNwb25zZT4+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgdXJsID0gbmV3IFVSTCh0aGlzLmJhc2VVcmwpO1xuICAgICAgdXJsLnBhdGhuYW1lID0gZW5kcG9pbnQucmVwbGFjZSgvOnByb2plY3RJZC8sIHByb2plY3RJZCk7XG5cbiAgICAgIGNvbnN0IHJlc3VsdDogR2V0UHJvamVjdEludml0ZXNSZXNwb25zZSA9IGF3YWl0IHRoaXMuZ2V0KHRoaXMuZmV0Y2ggYXMgRmV0Y2gsIHVybCk7XG5cbiAgICAgIHJldHVybiB7IHJlc3VsdCwgZXJyb3I6IG51bGwgfTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgaWYgKGlzRGVlcGdyYW1FcnJvcihlcnJvcikpIHtcbiAgICAgICAgcmV0dXJuIHsgcmVzdWx0OiBudWxsLCBlcnJvciB9O1xuICAgICAgfVxuXG4gICAgICB0aHJvdyBlcnJvcjtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQHNlZSBodHRwczovL2RldmVsb3BlcnMuZGVlcGdyYW0uY29tL3JlZmVyZW5jZS9zZW5kLWludml0ZXNcbiAgICovXG4gIGFzeW5jIHNlbmRQcm9qZWN0SW52aXRlKFxuICAgIHByb2plY3RJZDogc3RyaW5nLFxuICAgIG9wdGlvbnM6IFNlbmRQcm9qZWN0SW52aXRlU2NoZW1hLFxuICAgIGVuZHBvaW50ID0gXCJ2MS9wcm9qZWN0cy86cHJvamVjdElkL2ludml0ZXNcIlxuICApOiBQcm9taXNlPERlZXBncmFtUmVzcG9uc2U8TWVzc2FnZVJlc3BvbnNlPj4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCB1cmwgPSBuZXcgVVJMKHRoaXMuYmFzZVVybCk7XG4gICAgICB1cmwucGF0aG5hbWUgPSBlbmRwb2ludC5yZXBsYWNlKC86cHJvamVjdElkLywgcHJvamVjdElkKTtcblxuICAgICAgY29uc3QgYm9keSA9IEpTT04uc3RyaW5naWZ5KG9wdGlvbnMpO1xuXG4gICAgICBjb25zdCByZXN1bHQ6IE1lc3NhZ2VSZXNwb25zZSA9IGF3YWl0IHRoaXMucG9zdCh0aGlzLmZldGNoIGFzIEZldGNoLCB1cmwsIGJvZHkpO1xuXG4gICAgICByZXR1cm4geyByZXN1bHQsIGVycm9yOiBudWxsIH07XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGlmIChpc0RlZXBncmFtRXJyb3IoZXJyb3IpKSB7XG4gICAgICAgIHJldHVybiB7IHJlc3VsdDogbnVsbCwgZXJyb3IgfTtcbiAgICAgIH1cblxuICAgICAgdGhyb3cgZXJyb3I7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXJzLmRlZXBncmFtLmNvbS9yZWZlcmVuY2UvZGVsZXRlLWludml0ZVxuICAgKi9cbiAgYXN5bmMgZGVsZXRlUHJvamVjdEludml0ZShcbiAgICBwcm9qZWN0SWQ6IHN0cmluZyxcbiAgICBlbWFpbDogc3RyaW5nLFxuICAgIGVuZHBvaW50ID0gXCJ2MS9wcm9qZWN0cy86cHJvamVjdElkL2ludml0ZXMvOmVtYWlsXCJcbiAgKTogUHJvbWlzZTxWb2lkUmVzcG9uc2U+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgdXJsID0gbmV3IFVSTCh0aGlzLmJhc2VVcmwpO1xuICAgICAgdXJsLnBhdGhuYW1lID0gZW5kcG9pbnQucmVwbGFjZSgvOnByb2plY3RJZC8sIHByb2plY3RJZCkucmVwbGFjZSgvOmVtYWlsLywgZW1haWwpO1xuXG4gICAgICBhd2FpdCB0aGlzLmRlbGV0ZSh0aGlzLmZldGNoIGFzIEZldGNoLCB1cmwpO1xuXG4gICAgICByZXR1cm4geyBlcnJvcjogbnVsbCB9O1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBpZiAoaXNEZWVwZ3JhbUVycm9yKGVycm9yKSkge1xuICAgICAgICByZXR1cm4geyBlcnJvciB9O1xuICAgICAgfVxuXG4gICAgICB0aHJvdyBlcnJvcjtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQHNlZSBodHRwczovL2RldmVsb3BlcnMuZGVlcGdyYW0uY29tL3JlZmVyZW5jZS9sZWF2ZS1wcm9qZWN0XG4gICAqL1xuICBhc3luYyBsZWF2ZVByb2plY3QoXG4gICAgcHJvamVjdElkOiBzdHJpbmcsXG4gICAgZW5kcG9pbnQgPSBcInYxL3Byb2plY3RzLzpwcm9qZWN0SWQvbGVhdmVcIlxuICApOiBQcm9taXNlPERlZXBncmFtUmVzcG9uc2U8TWVzc2FnZVJlc3BvbnNlPj4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCB1cmwgPSBuZXcgVVJMKHRoaXMuYmFzZVVybCk7XG4gICAgICB1cmwucGF0aG5hbWUgPSBlbmRwb2ludC5yZXBsYWNlKC86cHJvamVjdElkLywgcHJvamVjdElkKTtcblxuICAgICAgY29uc3QgcmVzdWx0OiBNZXNzYWdlUmVzcG9uc2UgPSBhd2FpdCB0aGlzLmRlbGV0ZSh0aGlzLmZldGNoIGFzIEZldGNoLCB1cmwpO1xuXG4gICAgICByZXR1cm4geyByZXN1bHQsIGVycm9yOiBudWxsIH07XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGlmIChpc0RlZXBncmFtRXJyb3IoZXJyb3IpKSB7XG4gICAgICAgIHJldHVybiB7IHJlc3VsdDogbnVsbCwgZXJyb3IgfTtcbiAgICAgIH1cblxuICAgICAgdGhyb3cgZXJyb3I7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXJzLmRlZXBncmFtLmNvbS9yZWZlcmVuY2UvZ2V0LWFsbC1yZXF1ZXN0c1xuICAgKi9cbiAgYXN5bmMgZ2V0UHJvamVjdFVzYWdlUmVxdWVzdHMoXG4gICAgcHJvamVjdElkOiBzdHJpbmcsXG4gICAgb3B0aW9uczogR2V0UHJvamVjdFVzYWdlUmVxdWVzdHNTY2hlbWEsXG4gICAgZW5kcG9pbnQgPSBcInYxL3Byb2plY3RzLzpwcm9qZWN0SWQvcmVxdWVzdHNcIlxuICApOiBQcm9taXNlPERlZXBncmFtUmVzcG9uc2U8R2V0UHJvamVjdFVzYWdlUmVxdWVzdHNSZXNwb25zZT4+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgdXJsID0gbmV3IFVSTCh0aGlzLmJhc2VVcmwpO1xuICAgICAgdXJsLnBhdGhuYW1lID0gZW5kcG9pbnQucmVwbGFjZSgvOnByb2plY3RJZC8sIHByb2plY3RJZCk7XG4gICAgICBhcHBlbmRTZWFyY2hQYXJhbXModXJsLnNlYXJjaFBhcmFtcywgb3B0aW9ucyk7XG5cbiAgICAgIGNvbnN0IHJlc3VsdDogR2V0UHJvamVjdFVzYWdlUmVxdWVzdHNSZXNwb25zZSA9IGF3YWl0IHRoaXMuZ2V0KHRoaXMuZmV0Y2ggYXMgRmV0Y2gsIHVybCk7XG5cbiAgICAgIHJldHVybiB7IHJlc3VsdCwgZXJyb3I6IG51bGwgfTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgaWYgKGlzRGVlcGdyYW1FcnJvcihlcnJvcikpIHtcbiAgICAgICAgcmV0dXJuIHsgcmVzdWx0OiBudWxsLCBlcnJvciB9O1xuICAgICAgfVxuXG4gICAgICB0aHJvdyBlcnJvcjtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQHNlZSBodHRwczovL2RldmVsb3BlcnMuZGVlcGdyYW0uY29tL3JlZmVyZW5jZS9nZXQtcmVxdWVzdFxuICAgKi9cbiAgYXN5bmMgZ2V0UHJvamVjdFVzYWdlUmVxdWVzdChcbiAgICBwcm9qZWN0SWQ6IHN0cmluZyxcbiAgICByZXF1ZXN0SWQ6IHN0cmluZyxcbiAgICBlbmRwb2ludCA9IFwidjEvcHJvamVjdHMvOnByb2plY3RJZC9yZXF1ZXN0cy86cmVxdWVzdElkXCJcbiAgKTogUHJvbWlzZTxEZWVwZ3JhbVJlc3BvbnNlPEdldFByb2plY3RVc2FnZVJlcXVlc3RSZXNwb25zZT4+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgdXJsID0gbmV3IFVSTCh0aGlzLmJhc2VVcmwpO1xuICAgICAgdXJsLnBhdGhuYW1lID0gZW5kcG9pbnQucmVwbGFjZSgvOnByb2plY3RJZC8sIHByb2plY3RJZCkucmVwbGFjZSgvOnJlcXVlc3RJZC8sIHJlcXVlc3RJZCk7XG5cbiAgICAgIGNvbnN0IHJlc3VsdDogR2V0UHJvamVjdFVzYWdlUmVxdWVzdFJlc3BvbnNlID0gYXdhaXQgdGhpcy5nZXQodGhpcy5mZXRjaCBhcyBGZXRjaCwgdXJsKTtcblxuICAgICAgcmV0dXJuIHsgcmVzdWx0LCBlcnJvcjogbnVsbCB9O1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBpZiAoaXNEZWVwZ3JhbUVycm9yKGVycm9yKSkge1xuICAgICAgICByZXR1cm4geyByZXN1bHQ6IG51bGwsIGVycm9yIH07XG4gICAgICB9XG5cbiAgICAgIHRocm93IGVycm9yO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVycy5kZWVwZ3JhbS5jb20vcmVmZXJlbmNlL3N1bW1hcml6ZS11c2FnZVxuICAgKi9cbiAgYXN5bmMgZ2V0UHJvamVjdFVzYWdlU3VtbWFyeShcbiAgICBwcm9qZWN0SWQ6IHN0cmluZyxcbiAgICBvcHRpb25zOiBHZXRQcm9qZWN0VXNhZ2VTdW1tYXJ5U2NoZW1hLFxuICAgIGVuZHBvaW50ID0gXCJ2MS9wcm9qZWN0cy86cHJvamVjdElkL3VzYWdlXCJcbiAgKTogUHJvbWlzZTxEZWVwZ3JhbVJlc3BvbnNlPEdldFByb2plY3RVc2FnZVN1bW1hcnlSZXNwb25zZT4+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgdXJsID0gbmV3IFVSTCh0aGlzLmJhc2VVcmwpO1xuICAgICAgdXJsLnBhdGhuYW1lID0gZW5kcG9pbnQucmVwbGFjZSgvOnByb2plY3RJZC8sIHByb2plY3RJZCk7XG4gICAgICBhcHBlbmRTZWFyY2hQYXJhbXModXJsLnNlYXJjaFBhcmFtcywgb3B0aW9ucyk7XG5cbiAgICAgIGNvbnN0IHJlc3VsdDogR2V0UHJvamVjdFVzYWdlU3VtbWFyeVJlc3BvbnNlID0gYXdhaXQgdGhpcy5nZXQodGhpcy5mZXRjaCBhcyBGZXRjaCwgdXJsKTtcblxuICAgICAgcmV0dXJuIHsgcmVzdWx0LCBlcnJvcjogbnVsbCB9O1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBpZiAoaXNEZWVwZ3JhbUVycm9yKGVycm9yKSkge1xuICAgICAgICByZXR1cm4geyByZXN1bHQ6IG51bGwsIGVycm9yIH07XG4gICAgICB9XG5cbiAgICAgIHRocm93IGVycm9yO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVycy5kZWVwZ3JhbS5jb20vcmVmZXJlbmNlL2dldC1maWVsZHNcbiAgICovXG4gIGFzeW5jIGdldFByb2plY3RVc2FnZUZpZWxkcyhcbiAgICBwcm9qZWN0SWQ6IHN0cmluZyxcbiAgICBvcHRpb25zOiBHZXRQcm9qZWN0VXNhZ2VGaWVsZHNTY2hlbWEsXG4gICAgZW5kcG9pbnQgPSBcInYxL3Byb2plY3RzLzpwcm9qZWN0SWQvdXNhZ2UvZmllbGRzXCJcbiAgKTogUHJvbWlzZTxEZWVwZ3JhbVJlc3BvbnNlPEdldFByb2plY3RVc2FnZUZpZWxkc1Jlc3BvbnNlPj4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCB1cmwgPSBuZXcgVVJMKHRoaXMuYmFzZVVybCk7XG4gICAgICB1cmwucGF0aG5hbWUgPSBlbmRwb2ludC5yZXBsYWNlKC86cHJvamVjdElkLywgcHJvamVjdElkKTtcbiAgICAgIGFwcGVuZFNlYXJjaFBhcmFtcyh1cmwuc2VhcmNoUGFyYW1zLCBvcHRpb25zKTtcblxuICAgICAgY29uc3QgcmVzdWx0OiBHZXRQcm9qZWN0VXNhZ2VGaWVsZHNSZXNwb25zZSA9IGF3YWl0IHRoaXMuZ2V0KHRoaXMuZmV0Y2ggYXMgRmV0Y2gsIHVybCk7XG5cbiAgICAgIHJldHVybiB7IHJlc3VsdCwgZXJyb3I6IG51bGwgfTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgaWYgKGlzRGVlcGdyYW1FcnJvcihlcnJvcikpIHtcbiAgICAgICAgcmV0dXJuIHsgcmVzdWx0OiBudWxsLCBlcnJvciB9O1xuICAgICAgfVxuXG4gICAgICB0aHJvdyBlcnJvcjtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQHNlZSBodHRwczovL2RldmVsb3BlcnMuZGVlcGdyYW0uY29tL3JlZmVyZW5jZS9nZXQtYWxsLWJhbGFuY2VzXG4gICAqL1xuICBhc3luYyBnZXRQcm9qZWN0QmFsYW5jZXMoXG4gICAgcHJvamVjdElkOiBzdHJpbmcsXG4gICAgZW5kcG9pbnQgPSBcInYxL3Byb2plY3RzLzpwcm9qZWN0SWQvYmFsYW5jZXNcIlxuICApOiBQcm9taXNlPERlZXBncmFtUmVzcG9uc2U8R2V0UHJvamVjdEJhbGFuY2VzUmVzcG9uc2U+PiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHVybCA9IG5ldyBVUkwodGhpcy5iYXNlVXJsKTtcbiAgICAgIHVybC5wYXRobmFtZSA9IGVuZHBvaW50LnJlcGxhY2UoLzpwcm9qZWN0SWQvLCBwcm9qZWN0SWQpO1xuXG4gICAgICBjb25zdCByZXN1bHQ6IEdldFByb2plY3RCYWxhbmNlc1Jlc3BvbnNlID0gYXdhaXQgdGhpcy5nZXQodGhpcy5mZXRjaCBhcyBGZXRjaCwgdXJsKTtcblxuICAgICAgcmV0dXJuIHsgcmVzdWx0LCBlcnJvcjogbnVsbCB9O1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBpZiAoaXNEZWVwZ3JhbUVycm9yKGVycm9yKSkge1xuICAgICAgICByZXR1cm4geyByZXN1bHQ6IG51bGwsIGVycm9yIH07XG4gICAgICB9XG5cbiAgICAgIHRocm93IGVycm9yO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVycy5kZWVwZ3JhbS5jb20vcmVmZXJlbmNlL2dldC1iYWxhbmNlXG4gICAqL1xuICBhc3luYyBnZXRQcm9qZWN0QmFsYW5jZShcbiAgICBwcm9qZWN0SWQ6IHN0cmluZyxcbiAgICBiYWxhbmNlSWQ6IHN0cmluZyxcbiAgICBlbmRwb2ludCA9IFwidjEvcHJvamVjdHMvOnByb2plY3RJZC9iYWxhbmNlcy86YmFsYW5jZUlkXCJcbiAgKTogUHJvbWlzZTxEZWVwZ3JhbVJlc3BvbnNlPEdldFByb2plY3RCYWxhbmNlUmVzcG9uc2U+PiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHVybCA9IG5ldyBVUkwodGhpcy5iYXNlVXJsKTtcbiAgICAgIHVybC5wYXRobmFtZSA9IGVuZHBvaW50LnJlcGxhY2UoLzpwcm9qZWN0SWQvLCBwcm9qZWN0SWQpLnJlcGxhY2UoLzpiYWxhbmNlSWQvLCBiYWxhbmNlSWQpO1xuXG4gICAgICBjb25zdCByZXN1bHQ6IEdldFByb2plY3RCYWxhbmNlUmVzcG9uc2UgPSBhd2FpdCB0aGlzLmdldCh0aGlzLmZldGNoIGFzIEZldGNoLCB1cmwpO1xuXG4gICAgICByZXR1cm4geyByZXN1bHQsIGVycm9yOiBudWxsIH07XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGlmIChpc0RlZXBncmFtRXJyb3IoZXJyb3IpKSB7XG4gICAgICAgIHJldHVybiB7IHJlc3VsdDogbnVsbCwgZXJyb3IgfTtcbiAgICAgIH1cblxuICAgICAgdGhyb3cgZXJyb3I7XG4gICAgfVxuICB9XG59XG4iLCAiaW1wb3J0IHsgQWJzdHJhY3RSZXN0ZnVsQ2xpZW50IH0gZnJvbSBcIi4vQWJzdHJhY3RSZXN0ZnVsQ2xpZW50XCI7XG5pbXBvcnQgeyBpc0RlZXBncmFtRXJyb3IgfSBmcm9tIFwiLi4vbGliL2Vycm9yc1wiO1xuaW1wb3J0IHR5cGUge1xuICBDcmVhdGVPblByZW1DcmVkZW50aWFsc1NjaGVtYSxcbiAgRGVlcGdyYW1SZXNwb25zZSxcbiAgRmV0Y2gsXG4gIExpc3RPblByZW1DcmVkZW50aWFsc1Jlc3BvbnNlLFxuICBNZXNzYWdlUmVzcG9uc2UsXG4gIE9uUHJlbUNyZWRlbnRpYWxSZXNwb25zZSxcbn0gZnJvbSBcIi4uL2xpYi90eXBlc1wiO1xuXG5leHBvcnQgY2xhc3MgT25QcmVtQ2xpZW50IGV4dGVuZHMgQWJzdHJhY3RSZXN0ZnVsQ2xpZW50IHtcbiAgLyoqXG4gICAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXJzLmRlZXBncmFtLmNvbS9yZWZlcmVuY2UvbGlzdC1jcmVkZW50aWFsc1xuICAgKi9cbiAgYXN5bmMgbGlzdENyZWRlbnRpYWxzKFxuICAgIHByb2plY3RJZDogc3RyaW5nLFxuICAgIGVuZHBvaW50ID0gXCJ2MS9wcm9qZWN0cy86cHJvamVjdElkL29ucHJlbS9kaXN0cmlidXRpb24vY3JlZGVudGlhbHNcIlxuICApOiBQcm9taXNlPERlZXBncmFtUmVzcG9uc2U8TGlzdE9uUHJlbUNyZWRlbnRpYWxzUmVzcG9uc2U+PiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHVybCA9IG5ldyBVUkwodGhpcy5iYXNlVXJsKTtcbiAgICAgIHVybC5wYXRobmFtZSA9IGVuZHBvaW50LnJlcGxhY2UoLzpwcm9qZWN0SWQvLCBwcm9qZWN0SWQpO1xuXG4gICAgICBjb25zdCByZXN1bHQ6IExpc3RPblByZW1DcmVkZW50aWFsc1Jlc3BvbnNlID0gYXdhaXQgdGhpcy5nZXQodGhpcy5mZXRjaCBhcyBGZXRjaCwgdXJsKTtcblxuICAgICAgcmV0dXJuIHsgcmVzdWx0LCBlcnJvcjogbnVsbCB9O1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBpZiAoaXNEZWVwZ3JhbUVycm9yKGVycm9yKSkge1xuICAgICAgICByZXR1cm4geyByZXN1bHQ6IG51bGwsIGVycm9yIH07XG4gICAgICB9XG5cbiAgICAgIHRocm93IGVycm9yO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVycy5kZWVwZ3JhbS5jb20vcmVmZXJlbmNlL2dldC1jcmVkZW50aWFsc1xuICAgKi9cbiAgYXN5bmMgZ2V0Q3JlZGVudGlhbHMoXG4gICAgcHJvamVjdElkOiBzdHJpbmcsXG4gICAgY3JlZGVudGlhbHNJZDogc3RyaW5nLFxuICAgIGVuZHBvaW50ID0gXCJ2MS9wcm9qZWN0cy86cHJvamVjdElkL29ucHJlbS9kaXN0cmlidXRpb24vY3JlZGVudGlhbHMvOmNyZWRlbnRpYWxzSWRcIlxuICApOiBQcm9taXNlPERlZXBncmFtUmVzcG9uc2U8T25QcmVtQ3JlZGVudGlhbFJlc3BvbnNlPj4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCB1cmwgPSBuZXcgVVJMKHRoaXMuYmFzZVVybCk7XG4gICAgICB1cmwucGF0aG5hbWUgPSBlbmRwb2ludFxuICAgICAgICAucmVwbGFjZSgvOnByb2plY3RJZC8sIHByb2plY3RJZClcbiAgICAgICAgLnJlcGxhY2UoLzpjcmVkZW50aWFsc0lkLywgY3JlZGVudGlhbHNJZCk7XG5cbiAgICAgIGNvbnN0IHJlc3VsdDogT25QcmVtQ3JlZGVudGlhbFJlc3BvbnNlID0gYXdhaXQgdGhpcy5nZXQodGhpcy5mZXRjaCBhcyBGZXRjaCwgdXJsKTtcblxuICAgICAgcmV0dXJuIHsgcmVzdWx0LCBlcnJvcjogbnVsbCB9O1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBpZiAoaXNEZWVwZ3JhbUVycm9yKGVycm9yKSkge1xuICAgICAgICByZXR1cm4geyByZXN1bHQ6IG51bGwsIGVycm9yIH07XG4gICAgICB9XG5cbiAgICAgIHRocm93IGVycm9yO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVycy5kZWVwZ3JhbS5jb20vcmVmZXJlbmNlL2NyZWF0ZS1jcmVkZW50aWFsc1xuICAgKi9cbiAgYXN5bmMgY3JlYXRlQ3JlZGVudGlhbHMoXG4gICAgcHJvamVjdElkOiBzdHJpbmcsXG4gICAgb3B0aW9uczogQ3JlYXRlT25QcmVtQ3JlZGVudGlhbHNTY2hlbWEsXG4gICAgZW5kcG9pbnQgPSBcInYxL3Byb2plY3RzLzpwcm9qZWN0SWQvb25wcmVtL2Rpc3RyaWJ1dGlvbi9jcmVkZW50aWFsc1wiXG4gICk6IFByb21pc2U8RGVlcGdyYW1SZXNwb25zZTxPblByZW1DcmVkZW50aWFsUmVzcG9uc2U+PiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHVybCA9IG5ldyBVUkwodGhpcy5iYXNlVXJsKTtcbiAgICAgIHVybC5wYXRobmFtZSA9IGVuZHBvaW50LnJlcGxhY2UoLzpwcm9qZWN0SWQvLCBwcm9qZWN0SWQpO1xuXG4gICAgICBjb25zdCBib2R5ID0gSlNPTi5zdHJpbmdpZnkob3B0aW9ucyk7XG5cbiAgICAgIGNvbnN0IHJlc3VsdDogT25QcmVtQ3JlZGVudGlhbFJlc3BvbnNlID0gYXdhaXQgdGhpcy5wb3N0KHRoaXMuZmV0Y2ggYXMgRmV0Y2gsIHVybCwgYm9keSk7XG5cbiAgICAgIHJldHVybiB7IHJlc3VsdCwgZXJyb3I6IG51bGwgfTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgaWYgKGlzRGVlcGdyYW1FcnJvcihlcnJvcikpIHtcbiAgICAgICAgcmV0dXJuIHsgcmVzdWx0OiBudWxsLCBlcnJvciB9O1xuICAgICAgfVxuXG4gICAgICB0aHJvdyBlcnJvcjtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQHNlZSBodHRwczovL2RldmVsb3BlcnMuZGVlcGdyYW0uY29tL3JlZmVyZW5jZS9kZWxldGUtY3JlZGVudGlhbHNcbiAgICovXG4gIGFzeW5jIGRlbGV0ZUNyZWRlbnRpYWxzKFxuICAgIHByb2plY3RJZDogc3RyaW5nLFxuICAgIGNyZWRlbnRpYWxzSWQ6IHN0cmluZyxcbiAgICBlbmRwb2ludCA9IFwidjEvcHJvamVjdHMvOnByb2plY3RJZC9vbnByZW0vZGlzdHJpYnV0aW9uL2NyZWRlbnRpYWxzLzpjcmVkZW50aWFsc0lkXCJcbiAgKTogUHJvbWlzZTxEZWVwZ3JhbVJlc3BvbnNlPE1lc3NhZ2VSZXNwb25zZT4+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgdXJsID0gbmV3IFVSTCh0aGlzLmJhc2VVcmwpO1xuICAgICAgdXJsLnBhdGhuYW1lID0gZW5kcG9pbnRcbiAgICAgICAgLnJlcGxhY2UoLzpwcm9qZWN0SWQvLCBwcm9qZWN0SWQpXG4gICAgICAgIC5yZXBsYWNlKC86Y3JlZGVudGlhbHNJZC8sIGNyZWRlbnRpYWxzSWQpO1xuXG4gICAgICBjb25zdCByZXN1bHQ6IE1lc3NhZ2VSZXNwb25zZSA9IGF3YWl0IHRoaXMuZGVsZXRlKHRoaXMuZmV0Y2ggYXMgRmV0Y2gsIHVybCk7XG5cbiAgICAgIHJldHVybiB7IHJlc3VsdCwgZXJyb3I6IG51bGwgfTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgaWYgKGlzRGVlcGdyYW1FcnJvcihlcnJvcikpIHtcbiAgICAgICAgcmV0dXJuIHsgcmVzdWx0OiBudWxsLCBlcnJvciB9O1xuICAgICAgfVxuXG4gICAgICB0aHJvdyBlcnJvcjtcbiAgICB9XG4gIH1cbn1cbiIsICJpbXBvcnQgeyBBYnN0cmFjdFJlc3RmdWxDbGllbnQgfSBmcm9tIFwiLi9BYnN0cmFjdFJlc3RmdWxDbGllbnRcIjtcbmltcG9ydCB7IENhbGxiYWNrVXJsLCBhcHBlbmRTZWFyY2hQYXJhbXMsIGlzVGV4dFNvdXJjZSwgaXNVcmxTb3VyY2UgfSBmcm9tIFwiLi4vbGliL2hlbHBlcnNcIjtcbmltcG9ydCB7IERlZXBncmFtRXJyb3IsIGlzRGVlcGdyYW1FcnJvciB9IGZyb20gXCIuLi9saWIvZXJyb3JzXCI7XG5pbXBvcnQgdHlwZSB7XG4gIEFuYWx5emVTY2hlbWEsXG4gIEFzeW5jQW5hbHl6ZVJlc3BvbnNlLFxuICBEZWVwZ3JhbVJlc3BvbnNlLFxuICBGZXRjaCxcbiAgUHJlcmVjb3JkZWRTY2hlbWEsXG4gIFN5bmNBbmFseXplUmVzcG9uc2UsXG4gIFRleHRTb3VyY2UsXG4gIFVybFNvdXJjZSxcbn0gZnJvbSBcIi4uL2xpYi90eXBlc1wiO1xuXG5leHBvcnQgY2xhc3MgUmVhZENsaWVudCBleHRlbmRzIEFic3RyYWN0UmVzdGZ1bENsaWVudCB7XG4gIGFzeW5jIGFuYWx5emVVcmwoXG4gICAgc291cmNlOiBVcmxTb3VyY2UsXG4gICAgb3B0aW9ucz86IEFuYWx5emVTY2hlbWEsXG4gICAgZW5kcG9pbnQgPSBcInYxL3JlYWRcIlxuICApOiBQcm9taXNlPERlZXBncmFtUmVzcG9uc2U8U3luY0FuYWx5emVSZXNwb25zZT4+IHtcbiAgICB0cnkge1xuICAgICAgbGV0IGJvZHk7XG5cbiAgICAgIGlmIChpc1VybFNvdXJjZShzb3VyY2UpKSB7XG4gICAgICAgIGJvZHkgPSBKU09OLnN0cmluZ2lmeShzb3VyY2UpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhyb3cgbmV3IERlZXBncmFtRXJyb3IoXCJVbmtub3duIHNvdXJjZSB0eXBlXCIpO1xuICAgICAgfVxuXG4gICAgICBpZiAob3B0aW9ucyAhPT0gdW5kZWZpbmVkICYmIFwiY2FsbGJhY2tcIiBpbiBvcHRpb25zKSB7XG4gICAgICAgIHRocm93IG5ldyBEZWVwZ3JhbUVycm9yKFxuICAgICAgICAgIFwiQ2FsbGJhY2sgY2Fubm90IGJlIHByb3ZpZGVkIGFzIGFuIG9wdGlvbiB0byBhIHN5bmNocm9ub3VzIHRyYW5zY3JpcHRpb24uIFVzZSBgYW5hbHl6ZVVybENhbGxiYWNrYCBvciBgYW5hbHl6ZVRleHRDYWxsYmFja2AgaW5zdGVhZC5cIlxuICAgICAgICApO1xuICAgICAgfVxuXG4gICAgICBjb25zdCBhbmFseXplT3B0aW9uczogQW5hbHl6ZVNjaGVtYSA9IHsgLi4ue30sIC4uLm9wdGlvbnMgfTtcblxuICAgICAgY29uc3QgdXJsID0gbmV3IFVSTChlbmRwb2ludCwgdGhpcy5iYXNlVXJsKTtcbiAgICAgIGFwcGVuZFNlYXJjaFBhcmFtcyh1cmwuc2VhcmNoUGFyYW1zLCBhbmFseXplT3B0aW9ucyk7XG5cbiAgICAgIGNvbnN0IHJlc3VsdDogU3luY0FuYWx5emVSZXNwb25zZSA9IGF3YWl0IHRoaXMucG9zdCh0aGlzLmZldGNoIGFzIEZldGNoLCB1cmwsIGJvZHkpO1xuXG4gICAgICByZXR1cm4geyByZXN1bHQsIGVycm9yOiBudWxsIH07XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGlmIChpc0RlZXBncmFtRXJyb3IoZXJyb3IpKSB7XG4gICAgICAgIHJldHVybiB7IHJlc3VsdDogbnVsbCwgZXJyb3IgfTtcbiAgICAgIH1cblxuICAgICAgdGhyb3cgZXJyb3I7XG4gICAgfVxuICB9XG5cbiAgYXN5bmMgYW5hbHl6ZVRleHQoXG4gICAgc291cmNlOiBUZXh0U291cmNlLFxuICAgIG9wdGlvbnM/OiBBbmFseXplU2NoZW1hLFxuICAgIGVuZHBvaW50ID0gXCJ2MS9yZWFkXCJcbiAgKTogUHJvbWlzZTxEZWVwZ3JhbVJlc3BvbnNlPFN5bmNBbmFseXplUmVzcG9uc2U+PiB7XG4gICAgdHJ5IHtcbiAgICAgIGxldCBib2R5O1xuXG4gICAgICBpZiAoaXNUZXh0U291cmNlKHNvdXJjZSkpIHtcbiAgICAgICAgYm9keSA9IEpTT04uc3RyaW5naWZ5KHNvdXJjZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aHJvdyBuZXcgRGVlcGdyYW1FcnJvcihcIlVua25vd24gc291cmNlIHR5cGVcIik7XG4gICAgICB9XG5cbiAgICAgIGlmIChvcHRpb25zICE9PSB1bmRlZmluZWQgJiYgXCJjYWxsYmFja1wiIGluIG9wdGlvbnMpIHtcbiAgICAgICAgdGhyb3cgbmV3IERlZXBncmFtRXJyb3IoXG4gICAgICAgICAgXCJDYWxsYmFjayBjYW5ub3QgYmUgcHJvdmlkZWQgYXMgYW4gb3B0aW9uIHRvIGEgc3luY2hyb25vdXMgcmVxdWVzdHMuIFVzZSBgYW5hbHl6ZVVybENhbGxiYWNrYCBvciBgYW5hbHl6ZVRleHRDYWxsYmFja2AgaW5zdGVhZC5cIlxuICAgICAgICApO1xuICAgICAgfVxuXG4gICAgICBjb25zdCBhbmFseXplT3B0aW9uczogQW5hbHl6ZVNjaGVtYSA9IHsgLi4ue30sIC4uLm9wdGlvbnMgfTtcblxuICAgICAgY29uc3QgdXJsID0gbmV3IFVSTChlbmRwb2ludCwgdGhpcy5iYXNlVXJsKTtcbiAgICAgIGFwcGVuZFNlYXJjaFBhcmFtcyh1cmwuc2VhcmNoUGFyYW1zLCBhbmFseXplT3B0aW9ucyk7XG5cbiAgICAgIGNvbnN0IHJlc3VsdDogU3luY0FuYWx5emVSZXNwb25zZSA9IGF3YWl0IHRoaXMucG9zdCh0aGlzLmZldGNoIGFzIEZldGNoLCB1cmwsIGJvZHkpO1xuXG4gICAgICByZXR1cm4geyByZXN1bHQsIGVycm9yOiBudWxsIH07XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGlmIChpc0RlZXBncmFtRXJyb3IoZXJyb3IpKSB7XG4gICAgICAgIHJldHVybiB7IHJlc3VsdDogbnVsbCwgZXJyb3IgfTtcbiAgICAgIH1cblxuICAgICAgdGhyb3cgZXJyb3I7XG4gICAgfVxuICB9XG5cbiAgYXN5bmMgYW5hbHl6ZVVybENhbGxiYWNrKFxuICAgIHNvdXJjZTogVXJsU291cmNlLFxuICAgIGNhbGxiYWNrOiBDYWxsYmFja1VybCxcbiAgICBvcHRpb25zPzogQW5hbHl6ZVNjaGVtYSxcbiAgICBlbmRwb2ludCA9IFwidjEvcmVhZFwiXG4gICk6IFByb21pc2U8RGVlcGdyYW1SZXNwb25zZTxBc3luY0FuYWx5emVSZXNwb25zZT4+IHtcbiAgICB0cnkge1xuICAgICAgbGV0IGJvZHk7XG5cbiAgICAgIGlmIChpc1VybFNvdXJjZShzb3VyY2UpKSB7XG4gICAgICAgIGJvZHkgPSBKU09OLnN0cmluZ2lmeShzb3VyY2UpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhyb3cgbmV3IERlZXBncmFtRXJyb3IoXCJVbmtub3duIHNvdXJjZSB0eXBlXCIpO1xuICAgICAgfVxuXG4gICAgICBjb25zdCB0cmFuc2NyaXB0aW9uT3B0aW9uczogUHJlcmVjb3JkZWRTY2hlbWEgPSB7XG4gICAgICAgIC4uLm9wdGlvbnMsXG4gICAgICAgIC4uLnsgY2FsbGJhY2s6IGNhbGxiYWNrLnRvU3RyaW5nKCkgfSxcbiAgICAgIH07XG5cbiAgICAgIGNvbnN0IHVybCA9IG5ldyBVUkwoZW5kcG9pbnQsIHRoaXMuYmFzZVVybCk7XG4gICAgICBhcHBlbmRTZWFyY2hQYXJhbXModXJsLnNlYXJjaFBhcmFtcywgdHJhbnNjcmlwdGlvbk9wdGlvbnMpO1xuXG4gICAgICBjb25zdCByZXN1bHQ6IEFzeW5jQW5hbHl6ZVJlc3BvbnNlID0gYXdhaXQgdGhpcy5wb3N0KHRoaXMuZmV0Y2ggYXMgRmV0Y2gsIHVybCwgYm9keSk7XG5cbiAgICAgIHJldHVybiB7IHJlc3VsdCwgZXJyb3I6IG51bGwgfTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgaWYgKGlzRGVlcGdyYW1FcnJvcihlcnJvcikpIHtcbiAgICAgICAgcmV0dXJuIHsgcmVzdWx0OiBudWxsLCBlcnJvciB9O1xuICAgICAgfVxuXG4gICAgICB0aHJvdyBlcnJvcjtcbiAgICB9XG4gIH1cblxuICBhc3luYyBhbmFseXplVGV4dENhbGxiYWNrKFxuICAgIHNvdXJjZTogVGV4dFNvdXJjZSxcbiAgICBjYWxsYmFjazogQ2FsbGJhY2tVcmwsXG4gICAgb3B0aW9ucz86IEFuYWx5emVTY2hlbWEsXG4gICAgZW5kcG9pbnQgPSBcInYxL3JlYWRcIlxuICApOiBQcm9taXNlPERlZXBncmFtUmVzcG9uc2U8QXN5bmNBbmFseXplUmVzcG9uc2U+PiB7XG4gICAgdHJ5IHtcbiAgICAgIGxldCBib2R5O1xuXG4gICAgICBpZiAoaXNUZXh0U291cmNlKHNvdXJjZSkpIHtcbiAgICAgICAgYm9keSA9IEpTT04uc3RyaW5naWZ5KHNvdXJjZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aHJvdyBuZXcgRGVlcGdyYW1FcnJvcihcIlVua25vd24gc291cmNlIHR5cGVcIik7XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IHRyYW5zY3JpcHRpb25PcHRpb25zOiBQcmVyZWNvcmRlZFNjaGVtYSA9IHtcbiAgICAgICAgLi4ub3B0aW9ucyxcbiAgICAgICAgLi4ueyBjYWxsYmFjazogY2FsbGJhY2sudG9TdHJpbmcoKSB9LFxuICAgICAgfTtcblxuICAgICAgY29uc3QgdXJsID0gbmV3IFVSTChlbmRwb2ludCwgdGhpcy5iYXNlVXJsKTtcbiAgICAgIGFwcGVuZFNlYXJjaFBhcmFtcyh1cmwuc2VhcmNoUGFyYW1zLCB0cmFuc2NyaXB0aW9uT3B0aW9ucyk7XG5cbiAgICAgIGNvbnN0IHJlc3VsdDogQXN5bmNBbmFseXplUmVzcG9uc2UgPSBhd2FpdCB0aGlzLnBvc3QodGhpcy5mZXRjaCBhcyBGZXRjaCwgdXJsLCBib2R5LCB7XG4gICAgICAgIFwiQ29udGVudC1UeXBlXCI6IFwiZGVlcGdyYW0vYXVkaW8rdmlkZW9cIixcbiAgICAgIH0pO1xuXG4gICAgICByZXR1cm4geyByZXN1bHQsIGVycm9yOiBudWxsIH07XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGlmIChpc0RlZXBncmFtRXJyb3IoZXJyb3IpKSB7XG4gICAgICAgIHJldHVybiB7IHJlc3VsdDogbnVsbCwgZXJyb3IgfTtcbiAgICAgIH1cblxuICAgICAgdGhyb3cgZXJyb3I7XG4gICAgfVxuICB9XG59XG4iLCAiaW1wb3J0IHsgQWJzdHJhY3RSZXN0ZnVsQ2xpZW50IH0gZnJvbSBcIi4vQWJzdHJhY3RSZXN0ZnVsQ2xpZW50XCI7XG5pbXBvcnQgeyBEZWVwZ3JhbUVycm9yLCBEZWVwZ3JhbVVua25vd25FcnJvciwgaXNEZWVwZ3JhbUVycm9yIH0gZnJvbSBcIi4uL2xpYi9lcnJvcnNcIjtcbmltcG9ydCB7IGFwcGVuZFNlYXJjaFBhcmFtcywgaXNUZXh0U291cmNlIH0gZnJvbSBcIi4uL2xpYi9oZWxwZXJzXCI7XG5pbXBvcnQgeyBGZXRjaCwgU3BlYWtTY2hlbWEsIFRleHRTb3VyY2UgfSBmcm9tIFwiLi4vbGliL3R5cGVzXCI7XG5cbmV4cG9ydCBjbGFzcyBTcGVha0NsaWVudCBleHRlbmRzIEFic3RyYWN0UmVzdGZ1bENsaWVudCB7XG4gIHB1YmxpYyByZXN1bHQ6IHVuZGVmaW5lZCB8IFJlc3BvbnNlO1xuXG4gIC8qKlxuICAgKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVycy5kZWVwZ3JhbS5jb20vcmVmZXJlbmNlL3RleHQtdG8tc3BlZWNoLWFwaVxuICAgKi9cbiAgYXN5bmMgcmVxdWVzdChcbiAgICBzb3VyY2U6IFRleHRTb3VyY2UsXG4gICAgb3B0aW9ucz86IFNwZWFrU2NoZW1hLFxuICAgIGVuZHBvaW50ID0gXCJ2MS9zcGVha1wiXG4gICk6IFByb21pc2U8U3BlYWtDbGllbnQ+IHtcbiAgICB0cnkge1xuICAgICAgbGV0IGJvZHk7XG5cbiAgICAgIGlmIChpc1RleHRTb3VyY2Uoc291cmNlKSkge1xuICAgICAgICBib2R5ID0gSlNPTi5zdHJpbmdpZnkoc291cmNlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRocm93IG5ldyBEZWVwZ3JhbUVycm9yKFwiVW5rbm93biB0cmFuc2NyaXB0aW9uIHNvdXJjZSB0eXBlXCIpO1xuICAgICAgfVxuXG4gICAgICBjb25zdCBzcGVha09wdGlvbnM6IFNwZWFrU2NoZW1hID0geyAuLi57IG1vZGVsOiBcImF1cmEtYXN0ZXJpYS1lblwiIH0sIC4uLm9wdGlvbnMgfTtcblxuICAgICAgY29uc3QgdXJsID0gbmV3IFVSTChlbmRwb2ludCwgdGhpcy5iYXNlVXJsKTtcbiAgICAgIGFwcGVuZFNlYXJjaFBhcmFtcyh1cmwuc2VhcmNoUGFyYW1zLCBzcGVha09wdGlvbnMpO1xuICAgICAgdGhpcy5yZXN1bHQgPSBhd2FpdCB0aGlzLl9oYW5kbGVSYXdSZXF1ZXN0KHRoaXMuZmV0Y2ggYXMgRmV0Y2gsIFwiUE9TVFwiLCB1cmwsIHt9LCB7fSwgYm9keSk7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgdGhyb3cgZXJyb3I7XG4gICAgfVxuICB9XG5cbiAgYXN5bmMgZ2V0U3RyZWFtKCk6IFByb21pc2U8UmVhZGFibGVTdHJlYW08VWludDhBcnJheT4gfCBudWxsPiB7XG4gICAgaWYgKCF0aGlzLnJlc3VsdClcbiAgICAgIHRocm93IG5ldyBEZWVwZ3JhbVVua25vd25FcnJvcihcIlRyaWVkIHRvIGdldCBzdHJlYW0gYmVmb3JlIG1ha2luZyByZXF1ZXN0XCIsIFwiXCIpO1xuXG4gICAgcmV0dXJuIHRoaXMucmVzdWx0LmJvZHk7XG4gIH1cblxuICBhc3luYyBnZXRIZWFkZXJzKCk6IFByb21pc2U8SGVhZGVycz4ge1xuICAgIGlmICghdGhpcy5yZXN1bHQpXG4gICAgICB0aHJvdyBuZXcgRGVlcGdyYW1Vbmtub3duRXJyb3IoXCJUcmllZCB0byBnZXQgaGVhZGVycyBiZWZvcmUgbWFraW5nIHJlcXVlc3RcIiwgXCJcIik7XG5cbiAgICByZXR1cm4gdGhpcy5yZXN1bHQuaGVhZGVycztcbiAgfVxufVxuIiwgImltcG9ydCB7IERlZXBncmFtVmVyc2lvbkVycm9yIH0gZnJvbSBcIi4vbGliL2Vycm9yc1wiO1xuaW1wb3J0IHsgQWJzdHJhY3RDbGllbnQgfSBmcm9tIFwiLi9wYWNrYWdlcy9BYnN0cmFjdENsaWVudFwiO1xuaW1wb3J0IHsgTGlzdGVuQ2xpZW50IH0gZnJvbSBcIi4vcGFja2FnZXMvTGlzdGVuQ2xpZW50XCI7XG5pbXBvcnQgeyBNYW5hZ2VDbGllbnQgfSBmcm9tIFwiLi9wYWNrYWdlcy9NYW5hZ2VDbGllbnRcIjtcbmltcG9ydCB7IE9uUHJlbUNsaWVudCB9IGZyb20gXCIuL3BhY2thZ2VzL09uUHJlbUNsaWVudFwiO1xuaW1wb3J0IHsgUmVhZENsaWVudCB9IGZyb20gXCIuL3BhY2thZ2VzL1JlYWRDbGllbnRcIjtcbmltcG9ydCB7IFNwZWFrQ2xpZW50IH0gZnJvbSBcIi4vcGFja2FnZXMvU3BlYWtDbGllbnRcIjtcblxuLyoqXG4gKiBEZWVwZ3JhbSBDbGllbnQuXG4gKlxuICogQW4gaXNvbW9ycGhpYyBKYXZhc2NyaXB0IGNsaWVudCBmb3IgaW50ZXJhY3Rpbmcgd2l0aCB0aGUgRGVlcGdyYW0gQVBJLlxuICogQHNlZSBodHRwczovL2RldmVsb3BlcnMuZGVlcGdyYW0uY29tL2RvY3MvanMtc2RrXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIERlZXBncmFtQ2xpZW50IGV4dGVuZHMgQWJzdHJhY3RDbGllbnQge1xuICBnZXQgbGlzdGVuKCk6IExpc3RlbkNsaWVudCB7XG4gICAgcmV0dXJuIG5ldyBMaXN0ZW5DbGllbnQodGhpcy5rZXksIHRoaXMub3B0aW9ucyk7XG4gIH1cblxuICBnZXQgbWFuYWdlKCk6IE1hbmFnZUNsaWVudCB7XG4gICAgcmV0dXJuIG5ldyBNYW5hZ2VDbGllbnQodGhpcy5rZXksIHRoaXMub3B0aW9ucyk7XG4gIH1cblxuICBnZXQgb25wcmVtKCk6IE9uUHJlbUNsaWVudCB7XG4gICAgcmV0dXJuIG5ldyBPblByZW1DbGllbnQodGhpcy5rZXksIHRoaXMub3B0aW9ucyk7XG4gIH1cblxuICBnZXQgcmVhZCgpOiBSZWFkQ2xpZW50IHtcbiAgICByZXR1cm4gbmV3IFJlYWRDbGllbnQodGhpcy5rZXksIHRoaXMub3B0aW9ucyk7XG4gIH1cblxuICBnZXQgc3BlYWsoKTogU3BlYWtDbGllbnQge1xuICAgIHJldHVybiBuZXcgU3BlYWtDbGllbnQodGhpcy5rZXksIHRoaXMub3B0aW9ucyk7XG4gIH1cblxuICAvKipcbiAgICogTWFqb3IgdmVyc2lvbiBmYWxsYmFjayBlcnJvcnMgYXJlIGJlbG93XG4gICAqXG4gICAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXJzLmRlZXBncmFtLmNvbS9kb2NzL2pzLXNkay12Mi10by12My1taWdyYXRpb24tZ3VpZGVcbiAgICovXG4gIGdldCB0cmFuc2NyaXB0aW9uKCk6IGFueSB7XG4gICAgdGhyb3cgbmV3IERlZXBncmFtVmVyc2lvbkVycm9yKCk7XG4gIH1cblxuICBnZXQgcHJvamVjdHMoKTogYW55IHtcbiAgICB0aHJvdyBuZXcgRGVlcGdyYW1WZXJzaW9uRXJyb3IoKTtcbiAgfVxuXG4gIGdldCBrZXlzKCk6IGFueSB7XG4gICAgdGhyb3cgbmV3IERlZXBncmFtVmVyc2lvbkVycm9yKCk7XG4gIH1cblxuICBnZXQgbWVtYmVycygpOiBhbnkge1xuICAgIHRocm93IG5ldyBEZWVwZ3JhbVZlcnNpb25FcnJvcigpO1xuICB9XG5cbiAgZ2V0IHNjb3BlcygpOiBhbnkge1xuICAgIHRocm93IG5ldyBEZWVwZ3JhbVZlcnNpb25FcnJvcigpO1xuICB9XG5cbiAgZ2V0IGludml0YXRpb24oKTogYW55IHtcbiAgICB0aHJvdyBuZXcgRGVlcGdyYW1WZXJzaW9uRXJyb3IoKTtcbiAgfVxuXG4gIGdldCB1c2FnZSgpOiBhbnkge1xuICAgIHRocm93IG5ldyBEZWVwZ3JhbVZlcnNpb25FcnJvcigpO1xuICB9XG5cbiAgZ2V0IGJpbGxpbmcoKTogYW55IHtcbiAgICB0aHJvdyBuZXcgRGVlcGdyYW1WZXJzaW9uRXJyb3IoKTtcbiAgfVxufVxuIiwgImltcG9ydCBEZWVwZ3JhbUNsaWVudCBmcm9tIFwiLi9EZWVwZ3JhbUNsaWVudFwiO1xuaW1wb3J0IHsgRGVlcGdyYW1WZXJzaW9uRXJyb3IgfSBmcm9tIFwiLi9saWIvZXJyb3JzXCI7XG5pbXBvcnQgdHlwZSB7IERlZXBncmFtQ2xpZW50T3B0aW9ucyB9IGZyb20gXCIuL2xpYi90eXBlc1wiO1xuXG4vKipcbiAqIE1ham9yIHZlcnNpb24gZmFsbGJhY2sgZXJyb3JcbiAqL1xuY2xhc3MgRGVlcGdyYW0ge1xuICBjb25zdHJ1Y3Rvcihwcm90ZWN0ZWQgYXBpS2V5OiBzdHJpbmcsIHByb3RlY3RlZCBhcGlVcmw/OiBzdHJpbmcsIHByb3RlY3RlZCByZXF1aXJlU1NMPzogYm9vbGVhbikge1xuICAgIHRocm93IG5ldyBEZWVwZ3JhbVZlcnNpb25FcnJvcigpO1xuICB9XG59XG5cbi8qKlxuICogQ3JlYXRlcyBhIG5ldyBEZWVwZ3JhbSBDbGllbnQuXG4gKi9cbmNvbnN0IGNyZWF0ZUNsaWVudCA9IChhcGlLZXk6IHN0cmluZywgb3B0aW9uczogRGVlcGdyYW1DbGllbnRPcHRpb25zID0ge30pOiBEZWVwZ3JhbUNsaWVudCA9PiB7XG4gIHJldHVybiBuZXcgRGVlcGdyYW1DbGllbnQoYXBpS2V5LCBvcHRpb25zKTtcbn07XG5cbmV4cG9ydCB7IGNyZWF0ZUNsaWVudCwgRGVlcGdyYW1DbGllbnQsIERlZXBncmFtIH07XG5cbi8qKlxuICogSGVscGZ1bCBleHBvcnRzLlxuICovXG5leHBvcnQgKiBmcm9tIFwiLi9wYWNrYWdlc1wiO1xuZXhwb3J0ICogZnJvbSBcIi4vbGliL3R5cGVzXCI7XG5leHBvcnQgKiBmcm9tIFwiLi9saWIvZW51bXNcIjtcbmV4cG9ydCAqIGZyb20gXCIuL2xpYi9jb25zdGFudHNcIjtcbmV4cG9ydCAqIGZyb20gXCIuL2xpYi9lcnJvcnNcIjtcbmV4cG9ydCAqIGZyb20gXCIuL2xpYi9oZWxwZXJzXCI7XG5cbi8qKlxuICogQ2FwdGlvbnMuIFRoZXNlIHdpbGwgYmUgdHJlZS1zaGFrZW4gaWYgdW51c2VkLlxuICpcbiAqIEBzZWUgaHR0cHM6Ly9naXRodWIuY29tL2RlZXBncmFtL2RlZXBncmFtLW5vZGUtY2FwdGlvbnNcbiAqXG4gKiBpbXBvcnQvZXhwb3J0IGRlY2xhcmF0aW9ucyBkb24ndCBkbyBhbnl0aGluZyBidXQgc2V0IHVwIGFuIGFsaWFzIHRvIHRoZVxuICogZXhwb3J0ZWQgdmFyaWFibGUsIHRoZXkgZG8gbm90IGNvdW50IGFzIGEgXCJ1c2VcIi4gR2l2ZW4gdGhlaXIgc2VtYW50aWNzLFxuICogdGhleSBhcmUgdHJhY2tlZCBzcGVjaWFsbHkgYnkgYW55IGJ1bmRsZXIgYW5kIHdpbGwgbm90IGFkdmVyc2VseSBhZmZlY3RcbiAqIHRyZWUtc2hha2luZy5cbiAqL1xuZXhwb3J0IHsgd2VidnR0LCBzcnQgfSBmcm9tIFwiQGRlZXBncmFtL2NhcHRpb25zXCI7XG4iXSwKICAibWFwcGluZ3MiOiAiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFBQSwrREFBQUEsU0FBQTtBQUFBLFFBQUksU0FBUyxPQUFPLFNBQVMsY0FBYyxPQUFPO0FBQ2xELFFBQUksV0FBWSxXQUFZO0FBQzVCLGVBQVMsSUFBSTtBQUNiLGFBQUssUUFBUTtBQUNiLGFBQUssZUFBZSxPQUFPO0FBQUEsTUFDM0I7QUFDQSxRQUFFLFlBQVk7QUFDZCxhQUFPLElBQUksRUFBRTtBQUFBLElBQ2IsRUFBRztBQUNILEtBQUMsU0FBU0MsT0FBTTtBQUVoQixVQUFJLGFBQWMsU0FBVUMsVUFBUztBQUVu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MUI7QUFBQSxJQUNDLENBQUM7QUFDRCxrQkFBYyxNQUFNLEdBQUk7QUFBQSxFQUMxQjtBQUNDO0FBRUEsSUFBTSxxQkFBTixjQUFpQyxpQ0FBaUI7QUFBQSxFQUduRCxZQUFZLEtBQVUsUUFBd0I7QUFDNUMsVUFBTSxLQUFLLE1BQU07QUFDakIsU0FBSyxTQUFTO0FBQUEsRUFDaEI7QUFBQSxFQUVBLFVBQWdCO0FBQ2QsVUFBTSxFQUFFLFlBQVksSUFBSTtBQUV4QixnQkFBWSxNQUFNO0FBRWxCLFFBQUksd0JBQVEsV0FBVyxFQUN2QixRQUFRLGtCQUFrQixFQUMxQixRQUFRLDZCQUE2QixFQUNyQyxRQUFRLFVBQVEsS0FDZCxlQUFlLFNBQVMsRUFDeEIsU0FBUyxLQUFLLE9BQU8sU0FBUyxNQUFNLEVBQ3BDLFNBQVMsT0FBTyxVQUFVO0FBQzVCLFdBQUssT0FBTyxTQUFTLFNBQVM7QUFDOUIsWUFBTSxLQUFLLE9BQU8sYUFBYTtBQUFBLElBQzlCLENBQUMsQ0FBQztBQUFBLEVBQ0w7QUFDQzsiLAogICJuYW1lcyI6IFsibW9kdWxlIiwgInNlbGYiLCAiZXhwb3J0cyIsICJIZWFkZXJzIiwgIlJlc3BvbnNlIiwgImZldGNoIiwgIm1vZHVsZSIsICJpc01lcmdlYWJsZU9iamVjdCIsICJtb2R1bGUiLCAibW9kdWxlIiwgIm1vZHVsZSIsICJtb2R1bGUiLCAibWVyZ2UiLCAiQ3Jvc3NGZXRjaEhlYWRlcnMiLCAiTGl2ZUNvbm5lY3Rpb25TdGF0ZSIsICJMaXZlVHJhbnNjcmlwdGlvbkV2ZW50cyIsICJpbXBvcnRfY3Jvc3NfZmV0Y2giLCAiY3Jvc3NGZXRjaCIsICJmZXRjaCJdCn0K
